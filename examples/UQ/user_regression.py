#!/usr/bin/python
import sys
import string
import math
labels = ['A', 'E', 'n', 'co', 'co2', 'tar', 'h2o', 'ch4', 'tar_c', 'tar_h', 'tar_o', 'tar_n', 'tar_s']
infile   = open(sys.argv[1], "r")
lineIn   = infile.readline()
ncols    = string.split(lineIn)
nSamples = eval(ncols[0])
nInputs  = eval(ncols[1])
nOutputs = 13
outfile  = open(sys.argv[2], "w")
index    = 1
if len(sys.argv) > 3:
   y = sys.argv[3]
   if y.isdigit():
      y = int(y)
      if y in xrange(1, nOutputs+1):
         index = y
   else:
      if y in labels:
         index = labels.index(y) + 1
for ii in range(nSamples):
   lineIn  = infile.readline()
   ncols   = lineIn.split()
   X1 = eval(ncols[1])
   X2 = eval(ncols[2])
   if index == 1:
      Y = 21869.013244514284451725 * math.log(X1) + 19762065.537240207195282 * math.log(X2) - 40841.110428259715263266 * X2 + 0.11589063233818114317941E-001 * math.pow(X1,2.0) + 13.447533867870557600099 * math.pow(X2,2.0) - 0.18389150602157657444363E-002 * math.pow(X2,3.0) - 0.33242312202279321320386E-001 * X1*X2 - 107408712.76388432085514
   if index == 2:
      Y = 14.098606054978951362955 * math.log(X1) - 4971.3244119882792801945 * math.log(X2) + 0.24234728311753456903022E-001 * math.cos(X1) - 0.35304612598155954428236E-001 * X1 + 14.048969743389964293101 * X2 + 0.13712869116976914246695E-004 * math.pow(X1,2.0) - 0.64860455041122764066608E-002 * math.pow(X2,2.0) - 0.22331710757598795271722E-008 * math.pow(X1,3.0) + 0.13058001933366433104845E-005 * math.pow(X2,3.0) + 0.61861909390383180893617E-006 * X1*X2 + 25409.860209824535559164
   if index == 3:
      Y = 0.25970380834578499218424 * math.log(X1) - 14.455218145340221980177 * math.log(X2) + 0.12394376208933524912553E-002 * X1 + 0.23072247261500197779149 * X2 - 0.17926401108958194040646E-003 * math.pow(X2,2.0) + 0.48306767650216430083891E-007 * math.pow(X2,3.0) - 0.10139234855541803105941E-005 * X1*X2
   if index == 4:
      Y = 0.56840693051845147393264E-002 * math.log(X1) + 0.11401979519213753175300E-001 * math.log(X2)
   if index == 5:
      Y = 0.45848558806750247529571E-002 * math.log(X1) + 0.14707900458495430304207E-001 * math.log(X2)
   if index == 6:
      Y = - 0.92007128253662560229964E-002 * math.log(X1) + 0.79244994727664996858607E-001 * math.log(X2)
   if index == 7:
      Y = 0.73557414729116445822887E-002 * math.log(X1) + 0.20223711146494304652377E-001 * math.log(X2)
   if index == 8:
      Y = - 0.53345793406834565893171E-003 * math.log(X1) + 0.76621901385931197661638E-002 * math.log(X2)
   if index == 9:
      Y = - 7.1431563405211520034754 * math.log(X1) + 14260.592301384494930971 * math.log(X2) - 0.24984946621270081451582E-001 * math.sin(X2) - 0.25500007183596806042969E-001 * math.cos(X1) + 0.25807982350709621210960E-001 * X1 - 33.847092596392236885094 * X2 - 0.12654205954336045187670E-004 * math.pow(X1,2.0) + 0.13385308474922513050087E-001 * math.pow(X2,2.0) + 0.26781723518498066237939E-008 * math.pow(X1,3.0) - 0.23514023087017112698463E-005 * math.pow(X2,3.0) - 0.56750407987861503993722E-006 * X1*X2 - 75584.439199647502391599
   if index == 10:
      Y = - 0.23568400165529135303899 * math.log(X1) - 6470.1868361699498564121 * math.log(X2) - 0.60740344079071801122738E-003 * X1 + 15.282729781222620601966 * X2 - 0.60156150675884662720749E-002 * math.pow(X2,2.0) + 0.10518977827408131531673E-005 * math.pow(X2,3.0) + 0.63631383327924531471807E-006 * X1*X2 + 34387.878711155331984628
   if index == 11:
      Y = 8.8990813615367638789166 * math.log(X1) - 5629.8491921191616711440 * math.log(X2) + 0.29400951937328272112193E-001 * math.sin(X2) + 0.25472400677051882517121E-001 * math.cos(X1) - 0.29100945798722174795437E-001 * X1 + 13.634192330788163616262 * X2 + 0.14690024166388777700676E-004 * math.pow(X1,2.0) - 0.54943062312103121969109E-002 * math.pow(X2,2.0) - 0.30850570891813428193108E-008 * math.pow(X1,3.0) + 0.98252968339263271171154E-006 * math.pow(X2,3.0) - 0.46073667528471026352767E-006 * X1*X2 + 29728.266615222928521689
   if index == 12:
      Y = 31.195775289648501882311 * math.log(X2) - 0.45476270509718308421299 * X2 + 0.32762441580507894577784E-003 * math.pow(X2,2.0) - 0.82985409248447534729153E-007 * math.pow(X2,3.0)
   if index == 13:
      Y = 2.3702975393852576679876 * math.log(X2) - 0.22367283045845724742673E-001 * X2 + 0.80280355187761154653467E-005 * math.pow(X2,2.0)
   outfile.write("%d %e\n" % (ii+1,Y))
infile.close()
outfile.close()