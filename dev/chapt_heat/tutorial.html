

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial &mdash; FOQUS</title>
  

  
  
    <link rel="shortcut icon" href="../_static/foqus.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/theme_and_schema.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debugging" href="../chapt_debug/index.html" />
    <link rel="prev" title="Reference" href="reference.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> FOQUS
          

          
            
            <img src="../_static/big_ccsi.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chapt_intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_flowsheet/index.html">Flowsheets and Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_opt/index.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_uq/index.html">Uncertainty Quantification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_ouu/index.html">Optimization Under Uncertainty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_surrogates/index.html">Surrogate Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_sdoe/index.html">Sequential Design of Experiments (SDOE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_solventfit/index.html">Solvent Fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_sinter/index.html">Simulation Standard Interface (SimSinter)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Heat Integration</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#contents">Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gams-pre-settings-windows-system-only">GAMS Pre-Settings (Windows System Only)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#open-a-gams-project-windows-system-only">Open a GAMS Project (Windows System Only)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#start-a-new-session">Start a New Session</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upload-simulation-models">Upload Simulation Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flowsheet-setup">Flowsheet Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edit-nodes">Edit Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edit-edges">Edit Edges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-heat-integration-tags">Add Heat Integration Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-simulation">Run Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#heat-integration-inputs">Heat Integration Inputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation-results">Simulation Results</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_debug/index.html">Debugging</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FOQUS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Heat Integration</a> &raquo;</li>
        
      <li>Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/chapt_heat/tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial">
<span id="sec-hi-tut"></span><h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>This tutorial demonstrates the use of FOQUS to perform heat integration
with process simulations. This tutorial uses four models: (1) bubbling
fluidized bed (BFB) model in ACM, (2) multi-stage compressor model in
ACM, (3) heat integration model in GAMS, and (4) simplified steam cycle
model in Python. Heat integration and steam cycle models are included in
FOQUS as plug-in models (as described in Section
<a class="reference external" href="#section.plugin">[section.plugin]</a>). Because most detailed steps for
adding/editing models, building flowsheets, and running simulations have
already been covered in the previous section, they are skipped here.</p>
<p>Example ACM and JSON files are provided with the FOQUS installer and are
typically installed at: C:Program Files
(x86)foqusfoqus_2014.10.0examples \Heat_IntegrationModel_Files.
Copy the example files to a convenient location.</p>
<p>This tutorial is divided into 10 major steps.</p>
<div class="section" id="gams-pre-settings-windows-system-only">
<h2>GAMS Pre-Settings (Windows System Only)<a class="headerlink" href="#gams-pre-settings-windows-system-only" title="Permalink to this headline">¶</a></h2>
<p>If the user is working on a Windows system, the GAMS installation
directory needs to be added into the system path. Navigate to the
Windows <strong>Control Panel</strong>, select <strong>System and Security</strong>, select
<strong>System</strong>. Select <strong>Advanced system settings</strong> in the left side bar. In
the <strong>System Properties</strong> window, click <strong>Environment Variables</strong>. In
the <strong>Environment Variables</strong> window, navigate to the <strong>System
variables</strong> box, double-click the variable <strong>Path</strong>. Add the GAMS
installation directory to the <strong>Variable value</strong> box. An example of the
GAMS directory is: C:GAMSwin6424.2. The user needs to modify the
above path to the exact location where GAMS is installed.</p>
<p>If the user is using GAMS in the first time (after installation or
re-installation), double-click the GAMS icon on the desktop. A prompt
dialog displays, asking the user to select default solvers. Click <strong>OK</strong>
to accept all default solver selections. Close GAMS.</p>
</div>
<div class="section" id="open-a-gams-project-windows-system-only">
<h2>Open a GAMS Project (Windows System Only)<a class="headerlink" href="#open-a-gams-project-windows-system-only" title="Permalink to this headline">¶</a></h2>
<p>Suppose the current directory is the user’s working directory (e.g.,
C:FOQUS). If the user is working on a Windows system, navigate to the
directory “gams”, and double-click the file “HeatInteg.gpr.” This will
open the file in GAMS and make its path the current GAMS working
directory. Close GAMS. All GAMS input and output files will be stored in
this directory. This step is not necessary with a Linux system. All GAMS
files should be closed when running heat integration.</p>
</div>
<div class="section" id="start-a-new-session">
<h2>Start a New Session<a class="headerlink" href="#start-a-new-session" title="Permalink to this headline">¶</a></h2>
<p>Start FOQUS. Start a new session. In the “Session Information” screen,
under the <strong>Metadata</strong> tab, enter “BFB_CP_HI_SC” in the <strong>Session Name</strong>
field (Figure <a class="reference external" href="#start.session">[start.session]</a>). Save the session.</p>
<div class="figure" id="start-session">
<img alt="Start a New Session" src="../_images/start_session.png" />
<p class="caption"><span class="caption-text">Start a New Session</span></p>
</div>
</div>
<div class="section" id="upload-simulation-models">
<h2>Upload Simulation Models<a class="headerlink" href="#upload-simulation-models" title="Permalink to this headline">¶</a></h2>
<p>The ACM BFB and compressor model files need to be uploaded to the
turbine.</p>
<p>Choose <strong>Add/Update Model to Turbine</strong>. In the <strong>Turbine Upload</strong>
dialog, upload the BFB ACM model file (Figure
<a class="reference external" href="#uploadmodel">[upload model]</a>). The SimSinter configuration file
for the BFB model is BFB_3ads_2rgn.json. Enter “BFB_3ads_2rgn” in the
<strong>Simulation Name</strong> drop-down list.</p>
<div class="figure" id="upload-model">
<img alt="Upload Simulation Models" src="../_images/upload_model.png" />
<p class="caption"><span class="caption-text">Upload Simulation Models</span></p>
</div>
<p>Upload the compressor ACM model as above. The SimSinter configuration
file for the compressor model is CompIG.json. The simulation name for
the compressor model is “Comp.”</p>
</div>
<div class="section" id="flowsheet-setup">
<h2>Flowsheet Setup<a class="headerlink" href="#flowsheet-setup" title="Permalink to this headline">¶</a></h2>
<p>Navigate to the <strong>Flowsheet</strong> window and build the flowsheet for this
heat integration example. The flowsheet for this tutorial is shown in
Figure <a class="reference external" href="#flowsheet.heat.int">[flowsheet.heat.int]</a>. Build the
flowsheet in the same way as the figure. The nodes <strong>BFB</strong>,
<strong>Compressor</strong>, <strong>Heat Integration</strong>, and <strong>Steam Cycle</strong> correspond to
the BFB simulation in ACM, compressor simulation in ACM, heat
integration in GAMS and steam cycle calculations in Python. Models
“BFB_3ads_2rgn,” “Comp,” “heat_integration,” and “steam_cycle” are
assigned to nodes <strong>BFB</strong>, <strong>Compressor</strong>, <strong>Heat Integration</strong>, and
<strong>Steam Cycle</strong>, respectively. Model <strong>BFB</strong> and <strong>Compressor</strong> are
Turbine gateway models (see below); Model <strong>Heat Integration</strong> and
<strong>Steam Cycle</strong> are plugin models. The node <strong>Total Consumption</strong> is
used to calculate the total electricity and steam consumptions for BFB
and compressor process. It is a user-specified Python calculation node
and is described later. All edges should be the same directions as those
in the figure.</p>
<div class="figure" id="flowsheet-heat-int">
<img alt="Flowsheet of Heat Integration Example" src="../_images/flowsheet_heat_int.png" />
<p class="caption"><span class="caption-text">Flowsheet of Heat Integration Example</span></p>
</div>
</div>
<div class="section" id="edit-nodes">
<h2>Edit Nodes<a class="headerlink" href="#edit-nodes" title="Permalink to this headline">¶</a></h2>
<ul>
<li><div class="first line-block">
<div class="line"><strong>BFB</strong> and <strong>Compressor Nodes</strong>: Figure
<a class="reference external" href="#bfb.node.edit">[bfb.node.edit]</a> illustrates the edit of the
<strong>BFB</strong> Node. From the “Node Edit” dialog box, select “Turbine”
from the <strong>Type</strong> drop-down list, and</div>
<div class="line">“BFB_3ads_2rgn” from the <strong>Model</strong> drop-down list. Next, select the
<strong>Compressor Node</strong>. Select “Turbine” from the <strong>Type</strong> drop-down
list, and “Comp” from the <strong>Model</strong> drop-down list. For both the
<strong>BFB</strong> and <strong>Compressor Nodes</strong>, <strong>Heat Integration Tags</strong> should
be added to their corresponding output variables. The detailed
description for heat integration tags is covered later. No other
changes are required for the two nodes.</div>
</div>
</li>
</ul>
<div class="figure" id="bfb-node-edit">
<img alt="BFB Node Editor" src="../_images/bfb_node_edit.png" />
<p class="caption"><span class="caption-text">BFB Node Editor</span></p>
</div>
<ul>
<li><p class="first"><strong>Total Consumption Node</strong>: The user is required to define the
<strong>Total Consumption Node</strong>. The Node Editor for the <strong>Total
Consumption Node</strong> is illustrated in Figures
<a class="reference external" href="#total.cons.inputs">[total.cons.inputs]</a>,
<a class="reference external" href="#total.cons.outputs">[total.cons.outputs]</a>, and
<a class="reference external" href="#total.cons.python">[total.cons.python]</a>. Within the Node Edit
dialog box, choose “None” in the <strong>Type</strong> drop-down list and leave
the <strong>Model</strong> drop-down list blank.</p>
<div class="figure" id="total-cons-inputs">
<img alt="Total Consumption Node Editor (Input Variables)" src="../_images/total_cons_inputs.png" />
<p class="caption"><span class="caption-text">Total Consumption Node Editor (Input Variables)</span></p>
</div>
<div class="figure" id="total-cons-outputs">
<img alt="Total Consumption Node Editor (Output Variables)" src="../_images/total_cons_outputs.png" />
<p class="caption"><span class="caption-text">Total Consumption Node Editor (Output Variables)</span></p>
</div>
<div class="figure" id="total-cons-python">
<img alt="Total Consumption Node Editor (Python Codes)" src="../_images/total_cons_python.png" />
<p class="caption"><span class="caption-text">Total Consumption Node Editor (Python Codes)</span></p>
</div>
<ol class="arabic">
<li><div class="first line-block">
<div class="line">In the <strong>Input Variables</strong> section (Figure
<a class="reference external" href="#total.cons.inputs">[total.cons.inputs]</a>): add the following
three variables: (1) “Electricity.Consumption.Cap,” (2)
“Electricity.Consumption.Comp,” and (3)</div>
<div class="line">“MP_Steam.Injection.Cap.” The value and default value should
remain 0.0 for these variables. The category should be “fixed.”
The user can optionally enter the unit, minimum/maximum, and
description. These variables are linked to corresponding output
variables of node <strong>BFB</strong> and <strong>Compressor</strong>.</div>
</div>
</li>
<li><p class="first">In the <strong>Output Variables</strong> area of the <strong>Node Edit</strong> dialog box
(Figure <a class="reference external" href="#total.cons.outputs">[total.cons.outputs]</a>), add two
variables: (1) “Electricity.Consumption” and (2)
“LP_Steam.Injection.” The value should remain 0.0. The user can
optionally enter the unit and description. These variables are
linked to corresponding input variables of the <strong>Steam Cycle
Node</strong>.</p>
</li>
<li><p class="first">From the <strong>Node Edit</strong> dialog box (Figure
<a class="reference external" href="#total.cons.python">[total.cons.python]</a>), click the <strong>Node
Script</strong> tab. Enter the following Python code in the dialog to
perform node calculations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;Electricity.Consumption&quot;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">x</span><span class="p">[</span><span class="s2">&quot;Electricity.Consumption.Cap&quot;</span><span class="p">]</span> \
    <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;Electricity.Consumption.Comp&quot;</span><span class="p">]</span>
<span class="n">f</span><span class="p">[</span><span class="s2">&quot;LP_Steam.Injection&quot;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">x</span><span class="p">[</span><span class="s2">&quot;MP_Steam.Injection.Cap&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first"><strong>Heat Integration Node</strong>: Select “heat_integration” from the
<strong>Type</strong> drop-down list in the <strong>Model</strong> section on the Node Edit
dialog box. Only input variables need to be edited. Change the value
of “HRAT” to 5.0 for higher heat recovery. Change the value of “EMAT”
to 2.0. Enter the value of “Net.Power” as 650.33, which is the base
case net power output. Leave all other fields unchanged. The Node
Editor for the <strong>Heat Integration Node</strong> is shown in Figure
<a class="reference external" href="#heat.int.node.edit">[heat.int.node.edit]</a>.</p>
</li>
</ul>
<div class="figure" id="heat-int-node-edit">
<img alt="Heat Integration Node Editor" src="../_images/heat_int_node_edit.png" />
<p class="caption"><span class="caption-text">Heat Integration Node Editor</span></p>
</div>
<ul class="simple">
<li><strong>Steam Cycle Node</strong>: Select “steam_cycle” from the <strong>Type</strong>
drop-down list in the <strong>Model</strong> section on the Node Edit dialog box
and leave all other fields unchanged.</li>
</ul>
</div>
<div class="section" id="edit-edges">
<h2>Edit Edges<a class="headerlink" href="#edit-edges" title="Permalink to this headline">¶</a></h2>
<p>The user needs to specify variable connections in edges. In this
example, all input and output variables that need to be connected have
the same names; therefore, simply choose <strong>Auto</strong> to connect all linking
variables. The editor for Edge <em>0</em> (BFB <span class="math notranslate nohighlight">\(\rightarrow\)</span> Compressor),
<em>3</em> (BFB <span class="math notranslate nohighlight">\(\rightarrow\)</span> Total Consumption), <em>4</em> (Compressor
<span class="math notranslate nohighlight">\(\rightarrow\)</span> Total Consumption), <em>5</em> (Heat Integration
<span class="math notranslate nohighlight">\(\rightarrow\)</span> Steam Cycle), and <em>6</em> (Total Consumption
<span class="math notranslate nohighlight">\(\rightarrow\)</span> Steam Cycle) are illustrated in Figure
<a class="reference external" href="#edge.0.edit">[edge.0.edit]</a>, Figure
<a class="reference external" href="#edge.3.edit">[edge.3.edit]</a>, Figure
<a class="reference external" href="#edge.4.edit">[edge.4.edit]</a>, Figure
<a class="reference external" href="#edge.5.edit">[edge.5.edit]</a> and Figure
<a class="reference external" href="#edge.6.edit">[edge.6.edit]</a>, respectively. Edge <em>1</em> (BFB
<span class="math notranslate nohighlight">\(\rightarrow\)</span> Heat Integration) and <em>2</em> (Compressor
<span class="math notranslate nohighlight">\(\rightarrow\)</span> Heat Integration) have no variable connections.</p>
<div class="figure" id="edge-0-edit">
<img alt="Editor for Edge 0" src="../_images/edge_0_edit.png" />
<p class="caption"><span class="caption-text">Editor for Edge 0</span></p>
</div>
<div class="figure" id="edge-3-edit">
<img alt="Editor for Edge 3" src="../_images/edge_3_edit.png" />
<p class="caption"><span class="caption-text">Editor for Edge 3</span></p>
</div>
<div class="figure" id="edge-4-edit">
<img alt="Editor for Edge 4" src="../_images/edge_4_edit.png" />
<p class="caption"><span class="caption-text">Editor for Edge 4</span></p>
</div>
<div class="figure" id="edge-5-edit">
<img alt="Editor for Edge 5" src="../_images/edge_5_edit.png" />
<p class="caption"><span class="caption-text">Editor for Edge 5</span></p>
</div>
<div class="figure" id="edge-6-edit">
<img alt="Editor for Edge 6" src="../_images/edge_6_edit.png" />
<p class="caption"><span class="caption-text">Editor for Edge 6</span></p>
</div>
</div>
<div class="section" id="add-heat-integration-tags">
<h2>Add Heat Integration Tags<a class="headerlink" href="#add-heat-integration-tags" title="Permalink to this headline">¶</a></h2>
<p>Heat integration tags are required if one variable needs to be
considered in heat integration.</p>
<p>Four types of tags are needed for heat integration, and they identify
(1) which block the variable is associated with, (2) which type of port
the variable is in, (3) what type of variable it is, and (4) which kind
of heat source the variable is involved in. The detailed lists of tags
are provided in Tables <a class="reference external" href="#tag.1">[tag.1]</a>, <a class="reference external" href="#tag.2">[tag.2]</a>,
<a class="reference external" href="#tag.3">[tag.3]</a>, and <a class="reference external" href="#tag.4">[tag.4]</a>.</p>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-text">Tag 1: Block Name</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Tag</strong></th>
<th class="head"><strong>Description</strong></th>
<th class="head"><strong>Note</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>“Block *”</td>
<td>* is the name of the
block that the
variable is
associated with</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id2">
<caption><span class="caption-text">Tag 2: Type of Port</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="32%" />
<col width="52%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Tag</strong></th>
<th class="head"><strong>Description</strong></th>
<th class="head"><strong>Note</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>“Port_Material_In”</td>
<td>Inlet material port</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>“Port_Material_Out”</td>
<td>Outlet material port</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>“Port_Heat_In”</td>
<td>Inlet heat port</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>“Port_Heat_Out”</td>
<td>Outlet heat port</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>“Blk_Var”</td>
<td>Block variable (not in any port)</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id3">
<caption><span class="caption-text">Tag 3: Type of Variable</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="19%" />
<col width="60%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Tag</strong></th>
<th class="head"><strong>Description</strong></th>
<th class="head"><strong>Note</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>“T”</td>
<td>Temperature</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>“Q”</td>
<td>Heat duty or heat flow rate</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id4">
<caption><span class="caption-text">Tag 4: Type of Heat Source</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Tag</strong></th>
<th class="head"><strong>Description</strong></th>
<th class="head"><strong>Note</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>“heater”</td>
<td>Simple heater or
cooler with only one
inlet and outlet
stream</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>“HX_Hot”</td>
<td>Hot side of heat
exchanger with two
inlet and outlet
streams</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>“HX_Cold”</td>
<td>Cold side of heat
exchanger with two
inlet and outlet
streams</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>“Point_Hot”</td>
<td>Isothermal heat
source</td>
<td>Equipment removing
heat to outside
(e.g., adsorber)</td>
</tr>
<tr class="row-even"><td>“Point_Cold”</td>
<td>Isothermal heat sink</td>
<td>Equipment requiring
heat from outside
(e.g., regenerator)</td>
</tr>
</tbody>
</table>
<p>Pick one tag from each type of tags for the variable as only one
variable is considered in heat integration if all four types of tags are
present.</p>
<div class="line-block">
<div class="line">For example, assume a variable has the following tags: “Block H1,”</div>
<div class="line">“Port_Material_In,” “T,” and “heater.” This means the variable is
within Block H1, is the temperature of an inlet stream, and it is
involved in the “heater” type heat source. The Python code determines
whether this variable is related to heat integration, and if yes, it
then calculates the relevant heat integration inputs from this
variable. If any one of the above tags is missing (e.g., only two or
three tags are present), the variable is not included in heat
integration; make sure that all four tags are properly added for heat
integration variables.</div>
</div>
<p>In most cases, each variable should only have one tag within each
different type of tags. This is true for block name, type of port, and
type of variable; however, some variables may have two heat source tags.
For example, the heat duty of a heat exchanger with two inlet and outlet
streams is actually tagged as both “HX_Hot” and “HX_Cold.”</p>
<p>The minimum set of variables needed for heat integration is described
below. For non-isothermal heat sources, including “heater,” “HX_Hot,”
and “HX_Cold,” the user must provide the temperature of the inlet
material port, temperature of outlet material port, and either equipment
heat duty (block variable) or heat flow rate of inlet and outlet heat
port. For isothermal heat sources, including “Point_Hot” and
“Point_Cold,” the user needs to provide equipment temperature and heat
duty (both of them are block variables).</p>
<p>In this example, some of the output variables in BFB and Compressor
models are required to add heat integration tags. These variables have a
description such as “Heat Integration,” so the user can easily find
them.</p>
<p>The steps for adding heat integration tags for some related variable are
illustrated below.</p>
<p>Take the variable “BFBadsB_Q” in the BFB model as an example (Figure
<a class="reference external" href="#add.heat.int.tags">[add.heat.int.tags]</a>):</p>
<div class="figure" id="add-heat-int-tags">
<img alt="Procedures for Adding Heat Integration Tags" src="../_images/add_heat_int_tags.png" />
<p class="caption"><span class="caption-text">Procedures for Adding Heat Integration Tags</span></p>
</div>
<ol class="arabic simple">
<li>In the “Output Variables” dialog box, select variable “BFBadsB_Q.”
Navigate to the <strong>Tags</strong> column and insert the cursor between the
blank brackets.</li>
<li>Click <strong>Tags</strong> above <strong>Name</strong>. The Output Tag Browser displays.</li>
<li>Click <span class="math notranslate nohighlight">\(\triangleright\)</span> on the left of <strong>Heat Integration</strong>. The
list for four types of tags displays.</li>
<li>Click <span class="math notranslate nohighlight">\(\triangleright\)</span> on the left of <strong>Block Name</strong>. The block
name tag displays. Choose “Block *.”</li>
<li>Click <strong>Insert</strong>. The tag “Block *” is added to the tag list of
variable BFBadsB_Q.</li>
<li>Navigate back to the <strong>Tags</strong> column in the Output Variables dialog
box. Replace “*” with “BFBadsB.” Place the cursor after the entire
tag (after the close quote).</li>
<li>Click <span class="math notranslate nohighlight">\(\triangleright\)</span> on the left of <strong>Port Type</strong> and five
port type tags are displayed. Select “Blk_Var” and click <strong>Insert</strong>.</li>
<li>Click <span class="math notranslate nohighlight">\(\triangleright\)</span> on the left of <strong>Variable Type</strong> and two
variable type tags are displayed. Select “Q” and click <strong>Insert</strong>.</li>
<li>Click <span class="math notranslate nohighlight">\(\triangleright\)</span> on the left of <strong>Source Type</strong> and five
source type tags are displayed. Select “Point_Hot” and click
<strong>Insert</strong>.</li>
<li>Click <strong>Done</strong> to close the Output Tag Browser.</li>
</ol>
<p>All four tags for variable BFBadsB_Q are now added. The user can also
add four tags in a simultaneous way expand all tag types, press Ctrl and
then select “Block *”, “Blk_Var”, “Q” and “Point_Hot” at the same time,
and then click <strong>Insert</strong>. Heat integration tags for all other variables
can be added in the same way.</p>
<p>The heat integration tags for BFB output variables are shown in Figures
<a class="reference external" href="#heat.int.tags.bfb.1">[heat.int.tags.bfb.1]</a>,
<a class="reference external" href="#heat.int.tags.bfb.2">[heat.int.tags.bfb.2]</a> and,
<a class="reference external" href="#heat.int.tags.bfb.3">[heat.int.tags.bfb.3]</a>; the tags for
Compressor output variables are shown in Figures
<a class="reference external" href="#heat.int.tags.comp.1">[heat.int.tags.comp.1]</a>,
<a class="reference external" href="#heat.int.tags.comp.2">[heat.int.tags.comp.2]</a>, and
<a class="reference external" href="#heat.int.tags.comp.3">[heat.int.tags.comp.3]</a>.</p>
<div class="figure" id="heat-int-tags-bfb-1">
<img alt="Heat Integration Tags for BFB Output Variables (1)" src="../_images/heat_int_tags_bfb_1.png" />
<p class="caption"><span class="caption-text">Heat Integration Tags for BFB Output Variables (1)</span></p>
</div>
<div class="figure" id="heat-int-tags-bfb-2">
<img alt="Heat Integration Tags for BFB Output Variables (2)" src="../_images/heat_int_tags_bfb_2.png" />
<p class="caption"><span class="caption-text">Heat Integration Tags for BFB Output Variables (2)</span></p>
</div>
<div class="figure" id="heat-int-tags-bfb-3">
<img alt="Heat Integration Tags for BFB Output Variables (3)" src="../_images/heat_int_tags_bfb_3.png" />
<p class="caption"><span class="caption-text">Heat Integration Tags for BFB Output Variables (3)</span></p>
</div>
<div class="figure" id="heat-int-tags-comp-1">
<img alt="Heat Integration Tags for Compressor Output Variables (1)" src="../_images/heat_int_tags_comp_1.png" />
<p class="caption"><span class="caption-text">Heat Integration Tags for Compressor Output Variables (1)</span></p>
</div>
<div class="figure" id="heat-int-tags-comp-2">
<img alt="Heat Integration Tags for Compressor Output Variables (2)" src="../_images/heat_int_tags_comp_2.png" />
<p class="caption"><span class="caption-text">Heat Integration Tags for Compressor Output Variables (2)</span></p>
</div>
<div class="figure" id="heat-int-tags-comp-3">
<img alt="Heat Integration Tags for Compressor Output Variables (3)" src="../_images/heat_int_tags_comp_3.png" />
<p class="caption"><span class="caption-text">Heat Integration Tags for Compressor Output Variables (3)</span></p>
</div>
</div>
<div class="section" id="run-simulation">
<h2>Run Simulation<a class="headerlink" href="#run-simulation" title="Permalink to this headline">¶</a></h2>
<p>Click <span class="math notranslate nohighlight">\(\triangleright\)</span> on the left side of the panel. Run a single
simulation.</p>
</div>
<div class="section" id="heat-integration-inputs">
<h2>Heat Integration Inputs<a class="headerlink" href="#heat-integration-inputs" title="Permalink to this headline">¶</a></h2>
<p>After the simulation for BFB and Compressor models are complete, a GAMS
input file is generated for heat integration. This file is:
\gamsGamsInput.inc. The user can verify the correctness of the heat
integration inputs in this file. If there is an error, the user can
navigate back to the Node Editor to correct the tags.</p>
</div>
<div class="section" id="simulation-results">
<h2>Simulation Results<a class="headerlink" href="#simulation-results" title="Permalink to this headline">¶</a></h2>
<p>The user views simulation results via the Node Editor. In this example,
the most important results can be found in the <strong>Output Variables</strong>
section in the <strong>Heat Integration Node</strong> and <strong>Steam Cycle Node</strong>. The
heat integration results (Figure
<a class="reference external" href="#heat.int.results">[heat.int.results]</a>) include consumptions of
steam and cooling water, the amount of heat recovered in the steam
cycle, the heat exchanger area, the utility cost, the capital cost for
the heat exchanger network, and the total annualized cost. The steam
cycle calculation results (Figure
<a class="reference external" href="#steam.cycle.results">[steam.cycle.results]</a>) include net power
output and net efficiency with CCS and heat integration, as well as
their changes compared to the base case.</p>
<div class="figure" id="heat-int-results">
<img alt="Heat Integration Results (Heat Integration Node)" src="../_images/heat_int_results.png" />
<p class="caption"><span class="caption-text">Heat Integration Results (Heat Integration Node)</span></p>
</div>
<div class="figure" id="steam-cycle-results">
<img alt="Steam Cycle Calculation Results (Steam Cycle Node)" src="../_images/steam_cycle_results.png" />
<p class="caption"><span class="caption-text">Steam Cycle Calculation Results (Steam Cycle Node)</span></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../chapt_debug/index.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="reference.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright copyright (c) 2012 - 2018 by CCSI Team All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>