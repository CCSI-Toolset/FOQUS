

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>SolventFit Instructions &mdash; FOQUS</title>
  

  
  
    <link rel="shortcut icon" href="../_static/foqus.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/theme_and_schema.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simulation Standard Interface (SimSinter)" href="../chapt_sinter/index.html" />
    <link rel="prev" title="Solvent Fit" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> FOQUS
          

          
            
            <img src="../_static/big_ccsi.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chapt_intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_flowsheet/index.html">Flowsheets and Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_opt/index.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_uq/index.html">Uncertainty Quantification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_ouu/index.html">Optimization Under Uncertainty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_surrogates/index.html">Surrogate Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_sdoe/index.html">Sequential Design of Experiments (SDOE)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Solvent Fit</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#contents">Contents</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">SolventFit Instructions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_sinter/index.html">Simulation Standard Interface (SimSinter)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_heat/index.html">Heat Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapt_debug/index.html">Debugging</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FOQUS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Solvent Fit</a> &raquo;</li>
        
      <li>SolventFit Instructions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/chapt_solventfit/reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>[sec:solvent_fit]</p>
<p>The SolventFit module is an uncertainty quantification tool for full
Bayesian calibration of an Aspen Plus solvent process model to
experimental data. SolventFit may provide improved predictions with
uncertainty bounds by accounting for uncertainty in model parameters and
deficiencies in the model form. The result is a posterior distribution
of parameters allowing for predictions with uncertainty. uses a custom
BSS-ANOVA-based response surface for the outputs. Like the Bayesian
inference module, the <strong>*SolventFit*</strong> algorithm
<a href="#id1"><span class="problematic" id="id2">:raw-latex:`\citep{Bhat_2015}`</span></a> utilizes Markov Chain Monte Carlo (MCMC)
to compute the posterior distributions, and uses a custom
BSS-ANOVA-based response surface (emulators) that serves as a fast
approximations to the actual simulation model.</p>
<div class="section" id="solventfit-instructions">
<h1>SolventFit Instructions<a class="headerlink" href="#solventfit-instructions" title="Permalink to this headline">¶</a></h1>
<p>To use <strong>*SolventFit*</strong>, the user will need to install R, as well as the
R packages “MCMCpack”, “abind” and “MASS”. Please refer to the
installation instructions in Section [(sec.surrogate.acosso)]. Once R is
installed, the user will also need to set the path to the RScript
executable within FOQUS.</p>
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/SolventFitFig1.png"><img alt="SolventFit Home Screen" src="../_images/SolventFitFig1.png" style="width: 6.50000in; height: 4.00000in;" /></a>
<p class="caption"><span class="caption-text">SolventFit Home Screen</span></p>
</div>
<ol class="arabic">
<li><p class="first"><strong>Basic Data.</strong> From the FOQUS main screen, click the <strong>Basic Data</strong>
button and select <strong>SolventFit</strong> to enter a SolventFit session.</p>
</li>
<li><p class="first"><strong>Load Training Data</strong> loads the file of design and variable inputs
and their relevant simulation outputs (from Aspen or other computer
simulation code). This file usually has extension .txt, .dat, or
.csv.</p>
</li>
<li><p class="first"><strong>Output Settings</strong> lists the available outputs for analysis. The
Output Name column lists the name of each output. The user can
select/deselect outputs for analysis using the checkboxes in the
Observed column. The response surface in SolventFit will be
prepopulated with “SolventFit Emulator” because SolventFit uses its
own custom BSS-ANOVA response surface model. The simulation ensemble
is used as the training data for generating the response surfaces.</p>
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../_images/SolventFitFig2.png"><img alt="SolventFit Input Settings" src="../_images/SolventFitFig2.png" style="width: 6.50000in; height: 4.00000in;" /></a>
<p class="caption"><span class="caption-text">SolventFit Input Settings</span></p>
</div>
</li>
<li><p class="first"><strong>Input Settings</strong> is populated with input variable information from
the training data. Under the column, <strong>Type</strong>, the user can specify
which inputs are fixed, design, or variable using the from the
drop-down menu in the <strong>Input Settings Table</strong>. Selecting “Fixed”
means that the input is fixed at its default value for all design
points. Changing the type to “Variable” means that the input is a
calibration parameter and is uncertain; therefore, its value varies
between samples. Changing the type to “Design” means that the input
is an experimental input with preselected values. In addition, the
user can specify which inputs are displayed in the resulting plots of
the posterior distributions. To omit specific inputs, clear the
checkboxes from the <strong>*Display*</strong> column of the table. (The default
is that once inference is completed, all inputs will be displayed in
the plots.)</p>
</li>
<li><p class="first"><strong>Fixed Value.</strong> With any fixed input, the only parameter that can be
changed is the default value (i.e., all samples of this input are
fixed at this default value).</p>
<div class="figure" id="id5">
<a class="reference internal image-reference" href="../_images/SolventFitFig3.png"><img alt="SolventFit Prior PDF for Inputs" src="../_images/SolventFitFig3.png" style="width: 6.50000in; height: 4.00000in;" /></a>
<p class="caption"><span class="caption-text">SolventFit Prior PDF for Inputs</span></p>
</div>
</li>
<li><p class="first"><strong>PDF.</strong> With any variable input, the minimum/maximum values, as well
as the probability distribution function (PDF), for that input can be
changed. The default prior is specified to be Uniform. To change the
prior distribution type (e.g., Normal, Lognormal, or Gamma), use the
drop-down list in the <strong>*PDF*</strong> column (box 6a) and enter
corresponding values for the PDF parameters. To change the range of a
uniform prior, scroll all the way to the right to modify
<strong>*Min/Max*</strong>.</p>
<div class="figure" id="id6">
<a class="reference internal image-reference" href="../_images/SolventFitFig4.png"><img alt="SolventFit Inference Screen" src="../_images/SolventFitFig4.png" style="width: 6.50000in; height: 4.00000in;" /></a>
<p class="caption"><span class="caption-text">SolventFit Inference Screen</span></p>
</div>
</li>
<li><p class="first"><strong>Observations</strong> section enables the user to add experimental data in
the form of observations of certain output variables. At least one
observation is required; the <strong>number of experiments</strong> may be changed
using the pull down menu. For each observation, enter the mean and
standard deviation (enter zero if there is no information about the
noise) for all of the outputs. If any inputs are selected as design
inputs, their values will also be required here. Currently, the
observation noise model is assumed to be a normal distribution.
Alternatively, the user can import the file of experiments using the
<strong>Load Observation File</strong> button (7a). The user can also export the
observations using the <strong>Save Observation File</strong> button (7b).</p>
</li>
<li><p class="first"><strong>Number of Iterations</strong> are the number of iterations that the Markov
Chain Monte Carlo (MCMC) is run for emulation and calibration. The
default number of samples is set at 10000 for emulation and 50000 for
calibration. Also the number of “burn-in” samples (number of initial
samples to be thrown out) for both emulation and calibration may be
changed from its default of 0 using the relevant button (8a).</p>
</li>
<li><p class="first"><strong>Use Discrepancy.</strong> Check this box if the discrepancy should be
estimated in the calibration model. It is usually good practice to
include the discrepancy in the calibration analysis.</p>
</li>
<li><p class="first"><strong>Save Posterior Input Samples to File</strong> checkbox, when selected,
saves the posterior input samples as a PSUADE sample file (format
described in Section [ap:psuadefiles]). This file characterizes the
input uncertainty as a set of samples. In addition, the user can save
the discrepancy samples to a file by selecting the checkbox <strong>Save
Discrepancy Input Samples to File</strong> (10a). If saving posterior and/or
discrepancy samples to a file, click <strong>Browse</strong> to set the name and
location of where this file is saved (10b).</p>
</li>
<li><p class="first">Click <strong>Infer</strong> to start the analysis. (Note: If the inference
returns an invalid posterior distribution (i.e., one with no
samples), it usually means the prior distributions or that the
observation data are not prescribed appropriately. In this case, it
is recommended that the user experiment with different priors and/or
data distribution means and/or standard deviations.)</p>
</li>
<li><p class="first">The plotted results for SolventFit are posterior distributions of the
selected variable inputs; they are similar to the plots from the
Bayesian Inference in the Uncertainty Quantification module in Figure
[fig:uqt_infer_replot_results], see Section [sec:uq_tutorial] on
Bayesian Inference for more details.</p>
</li>
</ol>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../chapt_sinter/index.html" class="btn btn-neutral float-right" title="Simulation Standard Interface (SimSinter)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Solvent Fit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright copyright (c) 2012 - 2018 by CCSI Team All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>