

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flowsheets with Recycle &mdash; FOQUS</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/foqus.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/theme_and_schema.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Flowsheet Result Data" href="data.html" />
    <link rel="prev" title="Creating a Flowsheet with Linked Simulations" href="sim_flowsheet.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> FOQUS
          

          
            
            <img src="../../_static/big_ccsi.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../chapt_intro/index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Flowsheets and Settings</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#contents">Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../reference/index.html">Reference</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Tutorial</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="files.html">Example Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="simple_flowsheet.html">Creating a Flowsheet</a></li>
<li class="toctree-l4"><a class="reference internal" href="sim_flowsheet.html">Creating a Flowsheet with Linked Simulations</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Flowsheets with Recycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html">Flowsheet Result Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="remote.html">Using a Remote Turbine Instance</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_opt/index.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_uq/index.html">Uncertainty Quantification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_ouu/index.html">Optimization Under Uncertainty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_surrogates/index.html">Surrogate Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_sdoe/index.html">Sequential Design of Experiments (SDOE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_solventfit/index.html">Solvent Fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_sinter/index.html">Simulation Standard Interface (SimSinter)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_heat/index.html">Heat Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapt_debug/index.html">Debugging</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">FOQUS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Flowsheets and Settings</a> &raquo;</li>
        
          <li><a href="index.html">Tutorial</a> &raquo;</li>
        
      <li>Flowsheets with Recycle</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/chapt_flowsheet/tutorial/recycle.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flowsheets-with-recycle">
<h1>Flowsheets with Recycle<a class="headerlink" href="#flowsheets-with-recycle" title="Permalink to this headline">¶</a></h1>
<p>This section provides a tutorial on working with flowsheets containing
recycle. Sections <a class="reference external" href="#tutorial.simple.flow">[tutorial.simple.flow]</a> and
<a class="reference external" href="#tutorial.sim.flowsheet">[tutorial.sim.flowsheet]</a> provide tutorials
for creating flowsheets, in this section a pre-constructed flowsheet is
used.</p>
<ol class="arabic simple">
<li>From the example files, copy the RecycleMass_Bal_Test_02.foqus
example file to a convenient location (see Section
<a class="reference external" href="#tutorial.example.files">[tutorial.example.files]</a>).</li>
<li>Open FOQUS.</li>
</ol>
<ol class="arabic" start="3">
<li><p class="first">Open the Mass_Bal_Test_02.foqus file.</p>
<ol class="arabic simple">
<li>Open the <strong>Session</strong> drop-down menu on the right side of the
<strong>Session</strong> button (Figure
<a class="reference external" href="#fig.recycle.tut1">[fig.recycle.tut1]</a>).</li>
<li>Select <strong>Open Session</strong> from the drop-down menu.</li>
<li>Locate Mass_Bal_Test_02.foqus in the file browser, and open it.</li>
</ol>
</li>
<li><p class="first">Click <strong>Flowsheet</strong> button from the toolbar at the top of the Home
window.</p>
</li>
</ol>
<p>The flowsheet is shown in Figure
<a class="reference external" href="#fig.recycle.tut1">[fig.recycle.tut1]</a>. The flowsheet consists of
two reactors in recycle loops. The flowsheet contains mixers, reactors,
separators, and splitters. Each node uses a set of simple calculations
in the node script section. The tear edges are shown in light blue.</p>
<div class="figure" id="fig-recycle-tut1">
<img alt="Flowsheet with Recycle" src="../../_images/recycle_tut1.svg" /><p class="caption"><span class="caption-text">Flowsheet with Recycle</span></p>
</div>
<ol class="arabic simple" start="5">
<li>Inspect a node.<ol class="arabic">
<li>Make sure the Selection tool is selected (Figure
<a class="reference external" href="#fig.recycle.tut2">[fig.recycle.tut2]</a>).</li>
<li>Open the Node Editor by clicking the <strong>Node Edit</strong> button in the
left toolbar in the Flowsheet view.</li>
<li>Click the “React_01” node.</li>
<li>Click <strong>Input Variables</strong> table. Note: Some input rows are colored
red. This denotes that their values are set by output of the
previous flowsheet node by the edge connecting “Mix_01” to
“React_01.”</li>
<li>Click the <strong>Node Script</strong> tab.</li>
<li>Note the equations. <strong>Input Variables</strong> are stored in the x
dictionary and <strong>Output Variables</strong> are stored in the f
dictionary.</li>
</ol>
</li>
<li>Click the gear icon in the left toolbar (see Figure
<a class="reference external" href="#fig.recycle.tut2">[fig.recycle.tut2]</a>). The tear solver settings
are shown in Figure <a class="reference external" href="#fig.tear.settings">[fig.tear.settings]</a>.</li>
</ol>
<div class="figure" id="fig-recycle-tut2">
<img alt="React_01 Node" src="../../_images/recycle_tut2.svg" /><p class="caption"><span class="caption-text">React_01 Node</span></p>
</div>
<div class="figure" id="fig-tear-settings">
<img alt="Tear Solver Settings" src="../../_images/tear_solver_settings.svg" /><p class="caption"><span class="caption-text">Tear Solver Settings</span></p>
</div>
<ol class="arabic simple" start="7">
<li>Remove the tear edges.<ol class="arabic">
<li>Close the Node Editor.</li>
<li>Open the Edge Editor. Click the <strong>Edge Editor</strong> icon in the left
toolbar (see Figure <a class="reference external" href="#fig.recycle.tut3">[fig.recycle.tut3]</a>).</li>
<li>Click the edge between “React_01” and “Sep_01.”</li>
<li>In the Edge Editor, clear the <strong>Tear</strong> checkbox.</li>
<li>Repeat for the other tear edge.</li>
</ol>
</li>
<li>Close the Edge Editor.</li>
</ol>
<div class="figure" id="fig-recycle-tut3">
<img alt="Edge Edit" src="../../_images/recycle_tut3.svg" /><p class="caption"><span class="caption-text">Edge Edit</span></p>
</div>
<p>There should now be no tear edges in the flowsheet. The user can select
tear edges or FOQUS can automatically select a set. If there is not a
valid set of tear edges marked when a flowsheet is run, tear edges will
automatically be selected.</p>
<ol class="arabic simple" start="9">
<li>Automatically select a tear edge set by clicking the <strong>Tear</strong> icon
in the left toolbar (see Figure
<a class="reference external" href="#fig.recycle.tut3">[fig.recycle.tut3]</a>).</li>
<li>Open the Node Editor and look at node “Sep_01.” In the Input
Variables table, notice that some of the input lines are colored
yellow. The yellow inputs serve as initial guesses for the tear
solver. The final value will be different from the initial value.</li>
<li>Click the <strong>Run</strong> button on the left toolbar. The flowsheet should
solve quickly.</li>
<li>The results of the completed run are in the flowsheet. An entry will
also be created in the Flowsheet Results data table (see Section
<a class="reference external" href="#tutorials.fs.data">[tutorials.fs.data]</a>).</li>
</ol>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data.html" class="btn btn-neutral float-right" title="Flowsheet Result Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sim_flowsheet.html" class="btn btn-neutral float-left" title="Creating a Flowsheet with Linked Simulations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright copyright (c) 2012 - 2018 by CCSI Team All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>