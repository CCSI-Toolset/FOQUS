<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head>  <title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="FOQUS_User_Manual.tex"> 
<meta name="date" content="2018-11-30 16:13:00"> 
<link rel="stylesheet" type="text/css" href="FOQUS_User_Manual.css"> 
</head><body 
>
<!--l. 44--><p class="noindent" >
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 44--><p class="noindent" >
<!--l. 44--><p class="noindent" ><img 
src="Chapt_frontmatter/figs/big_ccsi.png" alt="pict"  
><br /><br />
<span 
class="ptmr7t-x-x-248">Framework for Optimization, Quantification of</span>
<span 
class="ptmr7t-x-x-248">Uncertainty and Surrogates</span><br />
<span 
class="ptmr7t-x-x-248">User Manual</span><br />
<span 
class="ptmr7t-x-x-144">Version 2.5.0</span><br /><br />
<span 
class="ptmr7t-x-x-144">Nov 2018</span><br /><br />
<img 
src="Chapt_frontmatter/figs/labs.png" alt="pict"  
></div>
                                                                                         
                                                                                         
                                                                                         
                                                                                         
<!--l. 44--><p class="noindent" >Copyright (c) 2012 - 2018 <br 
class="newline" />
<!--l. 44--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Copyright Notice </span><br 
class="newline" />
<!--l. 44--><p class="noindent" >FOQUS was produced under the DOE Carbon Capture Simulation Initiative (CCSI), and is copyright (c)
2012 - 2018 by the software owners: Oak Ridge Institute for Science and Education (ORISE), Los Alamos
National Security, LLC., Lawrence Livermore National Security, LLC., The Regents of the University of
California, through Lawrence Berkeley National Laboratory, Battelle Memorial Institute,
Pacific Northwest Division through Pacific Northwest National Laboratory, Carnegie Mellon
University, West Virginia University, Boston University, the Trustees of Princeton University, The
University of Texas at Austin, URS Energy &amp; Construction, Inc., et al.. All rights reserved.
<br 
class="newline" />
<!--l. 44--><p class="noindent" >NOTICE. This Software was developed under funding from the U.S. Department of Energy and the U.S.
Government consequently retains certain rights. As such, the U.S. Government has been granted for itself
and others acting on its behalf a paid-up, nonexclusive, irrevocable, worldwide license in the Software to
reproduce, distribute copies to the public, prepare derivative works, and perform publicly and display
publicly, and to permit other to do so. <br 
class="newline" />
<!--l. 44--><p class="noindent" ><span 
class="ptmb7t-x-x-120">License Agreement </span><br 
class="newline" />
<!--l. 44--><p class="noindent" >FOQUS Copyright (c) 2012 - 2018, by the software owners: Oak Ridge Institute for Science and
Education (ORISE), Los Alamos National Security, LLC., Lawrence Livermore National Security, LLC.,
The Regents of the University of California, through Lawrence Berkeley National Laboratory, Battelle
Memorial Institute, Pacific Northwest Division through Pacific Northwest National Laboratory, Carnegie
Mellon University, West Virginia University, Boston University, the Trustees of Princeton University, The
University of Texas at Austin, URS Energy &amp; Construction, Inc., et al. All rights reserved.
<br 
class="newline" />
<!--l. 44--><p class="noindent" >Redistribution and use in source and binary forms, with or without modification, are permitted provided
that the following conditions are met:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Redistributions of source code must retain the above copyright notice, this list of conditions
      and the following disclaimer.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Redistributions  in  binary  form  must  reproduce  the  above  copyright  notice,  this  list  of
      conditions  and  the  following  disclaimer  in  the  documentation  and/or  other  materials
      provided with the distribution.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Neither the name of the Carbon Capture Simulation Initiative, U.S. Dept. of Energy, the
      National  Energy  Technology  Laboratory,  Oak  Ridge  Institute  for  Science  and  Education
      (ORISE),  Los  Alamos  National  Security,  LLC.,  Lawrence  Livermore  National  Security,
      LLC.,  the  University  of  California,  Lawrence  Berkeley  National  Laboratory,  Battelle
                                                                                         
                                                                                         
      Memorial  Institute,  Pacific  Northwest  National  Laboratory,  Carnegie  Mellon  University,
      West  Virginia  University,  Boston  University,  the  Trustees  of  Princeton  University,  the
      University  of  Texas  at  Austin,  URS  Energy  &amp;  Construction,  Inc.,  nor  the  names  of  its
      contributors may be used to endorse or promote products derived from this software without
      specific prior written permission.</dd></dl>
<!--l. 44--><p class="noindent" >THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &#8221;AS
IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
<br 
class="newline" />
<!--l. 44--><p class="noindent" >You are under no obligation whatsoever to provide any bug fixes, patches, or upgrades to the features,
functionality or performance of the source code (&#8221;Enhancements&#8221;) to anyone; however, if you choose to
make your Enhancements available either publicly, or directly to Lawrence Berkeley National
Laboratory, without imposing a separate written license agreement for such Enhancements, then you
hereby grant the following license: a non-exclusive, royalty-free perpetual license to install,
use, modify, prepare derivative works, incorporate into other computer software, distribute,
and sublicense such enhancements or derivative works thereof, in binary and source code
form.
                                                                                         
                                                                                         
<span id="textcolor1"><span 
class="ptmb7t-x-x-144">Abstract</span></span><br 
class="newline" /> The Framework for Optimization, Quantification of Uncertainty, and Surrogates (FOQUS) serves as the
primary computational platform enabling advanced Process Systems Engineering (PSE) capabilities to be
integrated with commercial process simulation software. It can be used to synthesize, design, and
optimize a complete carbon capture system while considering uncertainty. FOQUS enables users to
effectively screen potential capture concepts in the context of a complete industrial process so that
trade-offs can be appropriately evaluated. The technical and economic performance characteristics of the
capture process are highly dependent on employing an effective approach for process synthesis. Since
large-scale carbon capture processes are outside of current experience, heuristic and evolutionary
approaches are likely to be inadequate. Thus, a key aspect of FOQUS is that it bridges this gap by
supporting a superstructure-based approach to determine the optimal process configuration and equipment
interconnections.<br 
class="newline" />
<!--l. 44--><p class="noindent" >FOQUS consists of several modules.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">SimSinter provides a wrapper to enable models created in process simulators to be linked
      into a FOQUS Flowsheet.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The FOQUS Flowsheet is used to link simulations together and connect model variables
      between  simulations  on  the  flowsheet.  FOQUS  enables  linking  models  from  different
      simulation packages.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Simulations   are   run   through   Turbine,   which   manages   the   multiple   runs   needed   to
      build  surrogate  models,  perform  derivative-free  optimization  or  conduct  an  Uncertainty
      Quantification (UQ) analysis. Turbine provides the capability for job queuing and enables
      these jobs to be run in parallel using cloud- or cluster-based computing platforms or a single
      workstation.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">The  Automated  Learning  of  Algebraic  Models  for  Optimization  (ALAMO)  module
      can  create  algebraic  surrogate  models  to  support  large-scale  deterministic  optimization,
      including  superstructure  optimization  to  determine  process  configurations.  The  ALAMO
      module is an external product due to background Intellectual Property (IP) issues.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">The     Derivative-Free     Optimization     (DFO)     module     enables     derivative-free     (or
      simulation-based) optimization directly on the process models linked together on a FOQUS
      Flowsheet.  It  utilizes  Excel  to  calculate  complex  objective  functions,  such  as  the  cost  of
      electricity.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">The UQ module enables the effects of uncertainty to be propagated through the complete
      system model, sensitivity of the model to be assessed, and the most significant sources of
      uncertainty identified to enable prioritizing of experimental resources to obtain additional
      data.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">The Optimization Under Uncertainty (OUU) module combines the capabilities of the DFO
      and  the  UQ  modules  to  enable  scenario-based  optimization,  such  as  optimization  over  a
      range of operating scenarios.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">The SolventFit module is an uncertainty quantification tool for the calibration of an Aspen
      Plus solvent process model. The current state of the art is a regression that yields single
      best  fit  point  estimates  of  some  parameters.  This  shows  neither  the  level  of  uncertainty
      in each parameter, nor the level of uncertainty in model output, such as equivalent work.
      SolventFit allows for predictions with uncertainty bounds by accounting for uncertainty in
      model parameters and deficiencies in the model form. This yields an improved understanding
      of the model parameters and results in more complete predictions with uncertainty bounds.
      This distribution of parameters allows for predictions with uncertainty.</dd></dl>
                                                                                         
                                                                                         
<!--l. 44--><p class="noindent" ><span id="textcolor2"><span 
class="ptmb7t-x-x-144">Version Log</span></span><br 
class="newline" />  <table id="TBL-4" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1"></colgroup><colgroup id="TBL-4-2g"><col 
id="TBL-4-2"></colgroup><colgroup id="TBL-4-3g"><col 
id="TBL-4-3"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-1"  
class="td11"> <span id="textcolor12">Version Number</span>  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-2"  
class="td11"> <span id="textcolor13">Release Date</span>  </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-1-3"  
class="td11"> <!--l. 44--><p class="noindent" ><span id="textcolor14">Description</span>                                                         </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-1"  
class="td11"> 2.0.0                     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-2"  
class="td11"> 03/31/2018     </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-2-3"  
class="td11"> <!--l. 44--><p class="noindent" >Initial Open Source Release                               </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-1"  
class="td11"> 2016.06.00           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-2"  
class="td11"> 06/22/2016     </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-3-3"  
class="td11"> <!--l. 44--><p class="noindent" >2016 June Bug Fix Release                                </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-1"  
class="td11"> 2016.04.00           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-2"  
class="td11"> 04/29/2016     </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-4-3"  
class="td11"> <!--l. 44--><p class="noindent" >2016 April Bug Fix Release                               </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-1"  
class="td11"> 2016.02.00           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-2"  
class="td11"> 02/29/2016     </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-5-3"  
class="td11"> <!--l. 44--><p class="noindent" >2016 February Bug Fix Release                         </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-6-1"  
class="td11"> 2015.10.00           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-6-2"  
class="td11"> 11/20/2015     </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-6-3"  
class="td11"> <!--l. 44--><p class="noindent" >2015 November IAB Release                             </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-7-1"  
class="td11"> 2015.06.00           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-7-2"  
class="td11"> 6/30/2015       </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-7-3"  
class="td11"> <!--l. 44--><p class="noindent" >2015 June Bug Fix Release                                </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-8-1"  
class="td11"> 2014.10.00           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-8-2"  
class="td11"> 10/31/2014     </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-8-3"  
class="td11"> <!--l. 44--><p class="noindent" >2014 October IAB Release                                 </td>
 </tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-9-1"  
class="td11">             </td></tr></table>
                                                                                         
                                                                                         
                                                                                         
                                                                                         
<h2 class="likechapterHead"><a 
 id="x1-1000"></a>Contents</h2> <div class="tableofcontents">
<span class="chapterToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Introduction</a></span>
<br />&#x00A0;<span class="sectionToc" >1.1 <a 
href="#x1-30001" id="QQ2-1-3">Simulation Based Optimization</a></span>
<br />&#x00A0;<span class="sectionToc" >1.2 <a 
href="#x1-40002" id="QQ2-1-4">Uncertainty Quantification</a></span>
<br />&#x00A0;<span class="sectionToc" >1.3 <a 
href="#x1-50003" id="QQ2-1-5">Optimization Under Uncertainty</a></span>
<br />&#x00A0;<span class="sectionToc" >1.4 <a 
href="#x1-60004" id="QQ2-1-6">Heat Integration</a></span>
<br />&#x00A0;<span class="sectionToc" >1.5 <a 
href="#x1-70005" id="QQ2-1-7">Surrogate Models</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >1.5.1 <a 
href="#x1-80001" id="QQ2-1-8">ALAMO</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >1.5.2 <a 
href="#x1-90002" id="QQ2-1-9">ACOSSO</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >1.5.3 <a 
href="#x1-100003" id="QQ2-1-10">BSS-ANOVA</a></span>
<br /><span class="chapterToc" >2 <a 
href="#x1-110002" id="QQ2-1-11">Flowsheet and Settings</a></span>
<br />&#x00A0;<span class="sectionToc" >2.1 <a 
href="#x1-120001" id="QQ2-1-12">Starting FOQUS</a></span>
<br />&#x00A0;<span class="sectionToc" >2.2 <a 
href="#x1-130002" id="QQ2-1-13">Session and Menu</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.2.1 <a 
href="#x1-140001" id="QQ2-1-14">Session Information Display</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.2.2 <a 
href="#x1-150002" id="QQ2-1-16">Session Menu</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.2.3 <a 
href="#x1-160003" id="QQ2-1-18">Adding or Changing Turbine Simulations</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.2.4 <a 
href="#x1-170004" id="QQ2-1-20">Adding or Changing Data Management Framework Simulations</a></span>
<br />&#x00A0;<span class="sectionToc" >2.3 <a 
href="#x1-180003" id="QQ2-1-22">Settings</a></span>
<br />&#x00A0;<span class="sectionToc" >2.4 <a 
href="#x1-190004" id="QQ2-1-26">Flowsheet</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.4.1 <a 
href="#x1-200001" id="QQ2-1-28">Flowsheet Editor</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.4.2 <a 
href="#x1-210002" id="QQ2-1-30">Node Editor</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.4.3 <a 
href="#x1-220003" id="QQ2-1-32">Node Variables</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.4.4 <a 
href="#x1-230004" id="QQ2-1-33">Node Script</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.4.5 <a 
href="#x1-240005" id="QQ2-1-35">Edge Editor</a></span>
<br />&#x00A0;<span class="sectionToc" >2.5 <a 
href="#x1-250005" id="QQ2-1-37">Sample Results</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.5.1 <a 
href="#x1-260001" id="QQ2-1-39">Error Codes</a></span>
<br />&#x00A0;<span class="sectionToc" >2.6 <a 
href="#x1-270006" id="QQ2-1-42">Tutorial &#8211; Example Files</a></span>
<br />&#x00A0;<span class="sectionToc" >2.7 <a 
href="#x1-280007" id="QQ2-1-43">Tutorial &#8211; Creating a Flowsheet</a></span>
<br />&#x00A0;<span class="sectionToc" >2.8 <a 
href="#x1-290008" id="QQ2-1-50">Tutorial &#8211; Creating a Flowsheet with Linked Simulations</a></span>
<br />&#x00A0;<span class="sectionToc" >2.9 <a 
href="#x1-300009" id="QQ2-1-58">Tutorial &#8211; Flowsheets with Recycle</a></span>
<br />&#x00A0;<span class="sectionToc" >2.10 <a 
href="#x1-3100010" id="QQ2-1-63">Tutorial &#8211; Flowsheet Result Data</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.10.1 <a 
href="#x1-320001" id="QQ2-1-65">Sorting Data</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.10.2 <a 
href="#x1-330002" id="QQ2-1-70">Filtering Data</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >2.10.3 <a 
href="#x1-340003" id="QQ2-1-73">Exporting Data</a></span>
<br />&#x00A0;<span class="sectionToc" >2.11 <a 
href="#x1-3700011" id="QQ2-1-76">Tutorial &#8211; Using a Remote Turbine Instance</a></span>
<br /><span class="chapterToc" >3 <a 
href="#x1-380003" id="QQ2-1-79">Optimization</a></span>
<br />&#x00A0;<span class="sectionToc" >3.1 <a 
href="#x1-390001" id="QQ2-1-80">Problem Set Up</a></span>
<br />&#x00A0;<span class="sectionToc" >3.2 <a 
href="#x1-400002" id="QQ2-1-86">Solver Options</a></span>
<br />&#x00A0;<span class="sectionToc" >3.3 <a 
href="#x1-410003" id="QQ2-1-88">Running Optimization</a></span>
<br />&#x00A0;<span class="sectionToc" >3.4 <a 
href="#x1-420004" id="QQ2-1-90">Tutorial &#8211; Optimization</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >3.4.1 <a 
href="#x1-430001" id="QQ2-1-91">Problem Set Up</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >3.4.2 <a 
href="#x1-440002" id="QQ2-1-94">Solver Settings</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >3.4.3 <a 
href="#x1-450003" id="QQ2-1-96">Running Optimization</a></span>
<br />&#x00A0;<span class="sectionToc" >3.5 <a 
href="#x1-460005" id="QQ2-1-98">Tutorial &#8211; Parameter Estimation</a></span>
<br /><span class="chapterToc" >4 <a 
href="#x1-470004" id="QQ2-1-110">Uncertainty Quantification</a></span>
                                                                                         
                                                                                         
<br />&#x00A0;<span class="sectionToc" >4.1 <a 
href="#x1-480001" id="QQ2-1-111">UQ User Interface</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.1.1 <a 
href="#x1-490001" id="QQ2-1-117">Simulation Ensemble Setup Dialog</a></span>
<br />&#x00A0;<span class="sectionToc" >4.2 <a 
href="#x1-500002" id="QQ2-1-121">UQ Tutorial</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.2.1 <a 
href="#x1-510001" id="QQ2-1-122">Simulation Ensemble Creation and Execution</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.2.2 <a 
href="#x1-520002" id="QQ2-1-135">Data Manipulation</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.2.3 <a 
href="#x1-560003" id="QQ2-1-143">Single-Output Analysis</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.2.4 <a 
href="#x1-600004" id="QQ2-1-154">Response Surface Based Analysis</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.2.5 <a 
href="#x1-660005" id="QQ2-1-169">Bayesian Inference</a></span>
<br />&#x00A0;<span class="sectionToc" >4.3 <a 
href="#x1-670003" id="QQ2-1-174">File Formats</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.3.1 <a 
href="#x1-680001" id="QQ2-1-175">PSUADE Full File Format</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.3.2 <a 
href="#x1-690002" id="QQ2-1-176">PSUADE Sample File Format</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >4.3.3 <a 
href="#x1-700003" id="QQ2-1-177">CSV (Comma Separated Values) File Format</a></span>
<br /><span class="chapterToc" >5 <a 
href="#x1-710005" id="QQ2-1-178">SolventFit</a></span>
<br />&#x00A0;<span class="sectionToc" >5.1 <a 
href="#x1-720001" id="QQ2-1-179">SolventFit Instructions</a></span>
<br /><span class="chapterToc" >6 <a 
href="#x1-730006" id="QQ2-1-184">Optimization Under Uncertainty</a></span>
<br />&#x00A0;<span class="sectionToc" >6.1 <a 
href="#x1-740001" id="QQ2-1-185">OUU Variables</a></span>
<br />&#x00A0;<span class="sectionToc" >6.2 <a 
href="#x1-750002" id="QQ2-1-186">OUU Objective Functions</a></span>
<br />&#x00A0;<span class="sectionToc" >6.3 <a 
href="#x1-760003" id="QQ2-1-187">Mathematical Formulations</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.3.1 <a 
href="#x1-770001" id="QQ2-1-188">Single-Stage Formulation</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.3.2 <a 
href="#x1-780002" id="QQ2-1-189">Two-Stage Formulation</a></span>
<br />&#x00A0;<span class="sectionToc" >6.4 <a 
href="#x1-790004" id="QQ2-1-190">OUU User Interface</a></span>
<br />&#x00A0;<span class="sectionToc" >6.5 <a 
href="#x1-800005" id="QQ2-1-192">OUU Tutorial</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.5.1 <a 
href="#x1-810001" id="QQ2-1-193">Example 1: OUU with Discrete Uncertain Parameters Only</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.5.2 <a 
href="#x1-820002" id="QQ2-1-195">Example 2: OUU with Continuous Uncertain Parameters Only</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.5.3 <a 
href="#x1-830003" id="QQ2-1-197">Example 3: OUU with Continuous Uncertain Parameters and
Response Surface</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.5.4 <a 
href="#x1-840004" id="QQ2-1-198">Example 4: OUU with Discrete and Continuous Uncertain Parameters</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.5.5 <a 
href="#x1-850005" id="QQ2-1-199">Example 5: OUU with Mixed Uncertain Parameters and Response Surface</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.5.6 <a 
href="#x1-860006" id="QQ2-1-200">Example 6: OUU with User-provided Samples and Response Surface</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >6.5.7 <a 
href="#x1-870007" id="QQ2-1-201">Example 7: OUU with Large User-provided Samples and Response Surface</a></span>
<br /><span class="chapterToc" >7 <a 
href="#x1-880007" id="QQ2-1-202">Heat Integration</a></span>
<br />&#x00A0;<span class="sectionToc" >7.1 <a 
href="#x1-890001" id="QQ2-1-203">Plug-in Models</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.1.1 <a 
href="#x1-900001" id="QQ2-1-204">Heat Integration</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.1.2 <a 
href="#x1-910002" id="QQ2-1-207">Steam Cycle</a></span>
<br />&#x00A0;<span class="sectionToc" >7.2 <a 
href="#x1-920002" id="QQ2-1-210">Heat Integration Tutorial</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.1 <a 
href="#x1-930001" id="QQ2-1-211">GAMS Pre-Settings (Windows System Only)</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.2 <a 
href="#x1-940002" id="QQ2-1-212">Open a GAMS Project (Windows System Only)</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.3 <a 
href="#x1-950003" id="QQ2-1-213">Start a New Session</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.4 <a 
href="#x1-960004" id="QQ2-1-215">Upload Simulation Models</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.5 <a 
href="#x1-970005" id="QQ2-1-217">Flowsheet Setup</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.6 <a 
href="#x1-980006" id="QQ2-1-219">Edit Nodes</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.7 <a 
href="#x1-990007" id="QQ2-1-225">Edit Edges</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.8 <a 
href="#x1-1000008" id="QQ2-1-231">Add Heat Integration Tags</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.9 <a 
href="#x1-1010009" id="QQ2-1-243">Run Simulation</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.10 <a 
href="#x1-10200010" id="QQ2-1-244">Heat Integration Inputs</a></span>
                                                                                         
                                                                                         
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >7.2.11 <a 
href="#x1-10300011" id="QQ2-1-245">Simulation Results</a></span>
<br /><span class="chapterToc" >8 <a 
href="#x1-1040008" id="QQ2-1-248">Surrogate Models</a></span>
<br />&#x00A0;<span class="sectionToc" >8.1 <a 
href="#x1-1050001" id="QQ2-1-249">Surrogate Models Overview</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.1.1 <a 
href="#x1-1060001" id="QQ2-1-250">Data Selection</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.1.2 <a 
href="#x1-1070002" id="QQ2-1-252">Variables</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.1.3 <a 
href="#x1-1080003" id="QQ2-1-254">Method Settings</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.1.4 <a 
href="#x1-1090004" id="QQ2-1-256">Execution</a></span>
<br />&#x00A0;<span class="sectionToc" >8.2 <a 
href="#x1-1100002" id="QQ2-1-258">Tutorial &#8211; ALAMO</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.2.1 <a 
href="#x1-1110001" id="QQ2-1-259">Flowsheet Setup</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.2.2 <a 
href="#x1-1120002" id="QQ2-1-264">Creating Initial Samples</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.2.3 <a 
href="#x1-1130003" id="QQ2-1-269">Data Selection</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.2.4 <a 
href="#x1-1140004" id="QQ2-1-272">Variable Selection</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.2.5 <a 
href="#x1-1150005" id="QQ2-1-274">Method Settings</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.2.6 <a 
href="#x1-1160006" id="QQ2-1-276">Execution</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >8.2.7 <a 
href="#x1-1170007" id="QQ2-1-278">Results</a></span>
<br />&#x00A0;<span class="sectionToc" >8.3 <a 
href="#x1-1180003" id="QQ2-1-280">Tutorial &#8211; ACOSSO</a></span>
<br />&#x00A0;<span class="sectionToc" >8.4 <a 
href="#x1-1190004" id="QQ2-1-282">Tutorial &#8211; BSS-ANOVA</a></span>
<br />&#x00A0;<span class="sectionToc" >8.5 <a 
href="#x1-1200005" id="QQ2-1-284">Tutorial &#8211; iREVEAL</a></span>
<br />&#x00A0;<span class="sectionToc" >8.6 <a 
href="#x1-1210006" id="QQ2-1-285">Tutorial &#8211; Surrogates with UQ Tools</a></span>
<br />&#x00A0;<span class="sectionToc" >8.7 <a 
href="#x1-1220007" id="QQ2-1-286">Tutorial &#8211; Surrogates with the Flowsheet</a></span>
<br /><span class="chapterToc" >9 <a 
href="#x1-1230009" id="QQ2-1-288">SimSinter</a></span>
<br />&#x00A0;<span class="sectionToc" >9.1 <a 
href="#x1-1240001" id="QQ2-1-289">SimSinter Configuration</a></span>
<br />&#x00A0;<span class="sectionToc" >9.2 <a 
href="#x1-1250002" id="QQ2-1-290">Aspen Custom Modeler Configuration</a></span>
<br />&#x00A0;<span class="sectionToc" >9.3 <a 
href="#x1-1260003" id="QQ2-1-307">Aspen Plus Configuration</a></span>
<br />&#x00A0;<span class="sectionToc" >9.4 <a 
href="#x1-1270004" id="QQ2-1-314">Microsoft Excel Configuration</a></span>
<br />&#x00A0;<span class="sectionToc" >9.5 <a 
href="#x1-1280005" id="QQ2-1-322">gPROMS Configuration</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >9.5.1 <a 
href="#x1-1290001" id="QQ2-1-323">Configuring gPROMS to Work with SimSinter</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >9.5.2 <a 
href="#x1-1300002" id="QQ2-1-334">Exporting an Encrypted Simulation to Run with SimSinter</a></span>
<br />&#x00A0;&#x00A0;<span class="subsectionToc" >9.5.3 <a 
href="#x1-1310003" id="QQ2-1-338">Configuring SimSinter to Work with gPROMS</a></span>
<br />&#x00A0;<span class="sectionToc" >9.6 <a 
href="#x1-1320006" id="QQ2-1-350">DMF Integration</a></span>
<br /><span class="chapterToc" >10 <a 
href="#x1-13300010" id="QQ2-1-352">Debugging</a></span>
<br />&#x00A0;<span class="sectionToc" >10.1 <a 
href="#x1-1340001" id="QQ2-1-353">How to Debug</a></span>
<br />&#x00A0;<span class="sectionToc" >10.2 <a 
href="#x1-1350002" id="QQ2-1-354">Known Issues</a></span>
<br />&#x00A0;<span class="sectionToc" >10.3 <a 
href="#x1-1360003" id="QQ2-1-355">Reporting Issues</a></span>
<br /><span class="chapterToc" >11 <a 
href="#x1-13700011" id="QQ2-1-356">References</a></span>
</div>
<div class="center" 
>
<!--l. 44--><p class="noindent" >
<!--l. 44--><p class="noindent" >To obtain support for the products within this package, please send an email to <a 
href="mailto:ccsi-support@acceleratecarboncapture.org" ><span id="textcolor15"><span class="underline">
ccsi-support@acceleratecarboncapture.org</span></span></a>.</div>
                                                                                         
                                                                                         
                                                                                         
                                                                                         
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;1</span><br /><a 
 id="x1-20001"></a>Introduction</h2>
<!--l. 3--><p class="noindent" >The Framework for Optimization, Quantification of Uncertainty and Surrogates (FOQUS) software
provides a graphical interface and standard platform for several Carbon Capture Simulation Initiative
(CCSI) tools. The primary feature of FOQUS is its ability to interact with commonly-used chemical
engineering process modeling software. Models constructed using a variety of software can be combined
into a larger composite model. CCSI tools SimSinter and the Turbine Science Gateway (TSG) provide
connectivity to external process simulation software. SimSinter provides a standard library to enable
interfacing with other software; TSG provides a simulation job queuing system that can be used
on: (1) a single workstation, (2) networked workstations, (3) cluster, or (4) cloud computing
resources.
<!--l. 5--><p class="noindent" >In FOQUS, simulations can be connected in a meta-flowsheet, which enables parts of a process to be
modeled using the most appropriate software and combines them into a single large model,
possibly including recycle streams. For example, in studying a carbon capture system for a
coal-fired power plant: a power plant may be modeled in Thermoflex; a solvent-based carbon
capture system may be modeled in Aspen Plus; and a compression system may be modeled in
gPROMS. To optimize the entire system, these models can be combined into a single large
model. The resulting meta-flowsheet can be used for simulation-based optimization, uncertainty
quantification (UQ), or generation of surrogate models. Information extracted from the simulations can
also be used to construct a heat integration optimization problem to determine the best way
to use excess heat in the process. Heat integration can be combined with simulation-based
optimization.
<!--l. 7--><p class="noindent" >This section provides brief overview and motivating examples, for different uses of FOQUS.
<a 
 id="x1-2001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1.1.    </span> <a 
 id="x1-30001"></a>Simulation Based Optimization</h3>
<!--l. 11--><p class="noindent" >Simulation-based optimization considers a process simulation to be a black box model, which is a model
where the mathematical details are not known. In this case, models are evaluated using process simulation
software; multiple models can be combined to form larger models. Due to the long run times and the
limitations of the methods used, a limited set of optimization variables (usually less than 30) is
considered. Simulation-based optimization has some advantages and disadvantages, compared to
equation-based optimization methods. With simulation-based optimization, there is no need to
provide simplified algebraic models, problem formulation is relatively simple, and a good
solution can usually be obtained; however, a provably-global optimum cannot be found and it is
impractical to deal with very large numbers of variables. Large numbers of variables may
be found in superstructure and heat integration problems where the structure of a process
is being optimized. Both simulation and equation-based optimization methods are used in
CCSI.
<!--l. 13--><p class="noindent" >Capture of CO<sub><span 
class="cmr-8">2</span></sub> from a pulverized coal-fired power plant involves several very different systems
including: a boiler, steam cycle, flue gas desulfurization, carbon capture, and CO<sub><span 
class="cmr-8">2</span></sub> compression. It is
convenient to separate many of these processes into smaller, more reliable simulations. The
different processes may also be better simulated in different software packages. Although some
                                                                                         
                                                                                         
process simulation software contains optimization features, there are several reasons these may
not be practical for a large composite system. It may be hard to develop a large model of
the entire system that reliably converges. Many optimization methods have a difficult time
dealing with simulation errors, and many black box derivative free optimization solvers are
better able to handle occasional simulation failures. It may not be practical to simulate the
entire process accurately using a single tool. Derivatives are also difficult to estimate for many
systems when models do not provide exact derivatives, making derivative-free methods a good
option.
<!--l. 15--><p class="noindent" >The motivating example used to demonstrate the optimization framework is fairly simple. The system
consists of a series of bubbling fluidized bed (BFB) CO<sub><span 
class="cmr-8">2</span></sub> adsorbers and regenerators modeled in Aspen
Custom Modeler (ACM). The details of the BFB system are described in the CCSI BFB model
documentation. A cost analysis for a 650 MW power plant and capture system is presented in an Excel
spreadsheet. The simulation and spreadsheet files are provided in the examples directory in the FOQUS
installation directory (see the tutorial in Section <a 
href="#x1-290008">2.8<!--tex4ht:ref: tutorial.sim.flowsheet --></a> for more information). The spreadsheet contains
capital cost as well as operating and maintenance cost estimates, which are used to estimate the cost of
electricity.
<!--l. 17--><p class="noindent" >In this example, the objective function is the cost of electricity; the decision variables are design and
operating variables in the ACM model. The cost of electricity is minimized while maintaining a 90 CO<sub><span 
class="cmr-8">2</span></sub>
percent capture rate. The BFB system model and the cost of electricity are contained in separate models
connected in a FOQUS flowsheet, which enables the cost of electricity to be calculated in Excel, using
data acquired from the ACM model. See Sections <a 
href="#x1-290008">2.8<!--tex4ht:ref: tutorial.sim.flowsheet --></a> and <a 
href="#x1-420004">3.4<!--tex4ht:ref: sec.opt.tutorial --></a> for more information about the optimization
problem.
<a 
 id="x1-3001r3"></a>
<h3 class="sectionHead"><span class="titlemark">1.2.    </span> <a 
 id="x1-40002"></a>Uncertainty Quantification</h3>
<!--l. 22--><p class="noindent" >The Uncertainty Quantification (UQ) module of FOQUS encompasses a rich selection of
mathematical, statistical, and diagnostic tools for application users to perform UQ studies on
their simulation models. The PSUADE tool provides most of the UQ functionality available
in FOQUS [<a 
href="#XTong_2011">1</a>]. The recommended systematic multi-step approach consists of the following
steps:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Define  the  objectives  of  the  analysis  (e.g.,  identify  the  most  important  sources  of
      uncertainties).
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Specify a simulation model to be studied. Acquire the model input files and the executable
      that runs the simulation (i.e., an executable that uses the specified inputs and generates model
      outputs). Identify the outputs of interest, identify all relevant sources of uncertainties, and
      ensure that they can be used as input variables to the simulation model.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Select some or all input parameters that have uncertainty attributed. Characterize the prior
      probability distribution of these selected parameters by specifying the upper/lower bounds.
                                                                                         
                                                                                         
      For  non-uniform  prior  distributions  (e.g.,  Gaussian),  additional  information  (e.g.,  mean
      and  standard  deviation)  is  required  to  define  the  shape  of  the  prior  distribution.  This
      prior  distribution  represents  the  user&#8217;s  best  initial  guess  about  the  selected  parameters&#8217;
      uncertainties.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Identify, if available, relevant data from physical experiments that can be used for model
      parameter  calibration.  Model  calibration  is  a  process  that  applies  the  observational  data
      to update the prior distribution. The model calibration correlates the observational data to
      predict a distribution as a result.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Select a sample scheme and sample size. From this information, a set of input values are
      sampled from the prior distribution. The choice of sampling scheme (which affects how the
      samples populate the input space) depends on the UQ objective(s) specified in Step 1.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">&#8220;Run&#8221; the input samples. Running the input samples is the process where each sampled input
      value is fed to the simulation executable (specified in Step 2) and the corresponding output
      value is returned.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Analyze the results and make decisions on how to proceed.</dd></dl>
<!--l. 59--><p class="noindent" >Steps 1-4 are often done through expert knowledge elicitation and/or literature search. Steps 5-7 can be
achieved through software provided in the FOQUS UQ module.
<!--l. 63--><p class="noindent" >The FOQUS UQ module provides a number of sampling and analysis methods, including:
      <ul class="itemize1">
      <li class="itemize">Parameter  screening  methods:  computes  the  importance  of  input  parameters  to  identify
      which are important (to be kept in subsequent analyses) and which to ignore (to be weeded
      out).
      </li>
      <li class="itemize">Response  surface  (used  interchangeably  with  &#8216;surrogate&#8217;)  construction:  approximates  the
      relationship between the input samples and their outputs via a smooth mathematical function.
      This response surface or surrogate can then be used in place of the actual simulation model
      to speed up lengthy simulations.
      </li>
      <li class="itemize">Response surface validation methods: evaluates how well a given response surface fits the
      data. This is important for choosing different response surfaces.
      </li>
      <li class="itemize">Basic uncertainty analysis: propagates input uncertainty to output uncertainty.
      </li>
      <li class="itemize">Sensitivity analysis methods: quantifies how much varying an input value can impact the
      resulting output value.
                                                                                         
                                                                                         
      </li>
      <li class="itemize">Bayesian calibration: applies observational data to refine the estimate of input uncertainties.
      </li>
      <li class="itemize">Visualization tools: views computed distributions and response surfaces.
      </li>
      <li class="itemize">Diagnostics tools (mainly in the form of scatter plots): checks samples and model behaviors
      (e.g., outliers).</li></ul>
<!--l. 88--><p class="noindent" >The adsorber 650.1 subsystem process model is used to demonstrate the UQ framework. The A650.1
process model was developed and is continuously refined by our Process Synthesis and Design Team.
The model is based on their design and optimization of an initial full-scale design of a solid
sorbent capture system for a net 650 MW (before capture) supercritical pulverized coal power
plant. The A650.1 model describes a solid sorbent-based carbon capture system that uses the
NETL-32D sorbent. NETL-32D is a mixture of polyethyleneamine (PEI) and aminosilanes
impregnated into the mesoporous structure of a silica substrate. CO<sub><span 
class="cmr-8">2</span></sub> removal is achieved
through chemical reactions between the amine sites within the sorbent. The A650.1 model is
implemented in Aspen Custom Modeler (ACM) and contains many components (e.g., adsorbers,
regenerators, compressors, heat exchangers). For the UQ analyses, this manual focuses is
on the adsorber units, which are responsible for the adsorption of CO<sub><span 
class="cmr-8">2</span></sub> from the input flue
gas.
<!--l. 103--><p class="noindent" >In its original form, the A650.1 model consists of a deterministic simulation model, which
means to consider all the parameters (e.g. chemical reaction parameters, heat and mass transfer
coefficients) to have a fixed value (most likely fixed to a mean value, lower or upper bound for
robustness). With the FOQUS UQ module, the model uncertainties can be addressed. Thus, UQ
analysis of the A650.1 model would help to develop a robust design by addressing the following
questions:
      <ul class="itemize1">
      <li class="itemize">How  accurately  does  each  subsystem  model  predict  actual  system  performance  (under
      uncertain operating conditions)?
      </li>
      <li class="itemize">Which input parameters should be examined to improve prediction accuracy?
      </li>
      <li class="itemize">What is each input parameters&#8217; contribution to prediction uncertainty?</li></ul>
<a 
 id="x1-4008r4"></a>
<h3 class="sectionHead"><span class="titlemark">1.3.    </span> <a 
 id="x1-50003"></a>Optimization Under Uncertainty</h3>
<!--l. 112--><p class="noindent" >The Optimization Under Uncertainty (OUU) module in FOQUS is an extension of simulation-based
optimization by including the contribution of model parameter uncertainties in the objective function.
OUU is useful when inclusion of uncertainties may significantly alter the optimal design configurations.
A straightforward approach to include the effect of uncertainty is to replace the objective
function with its statistical mean on an ensemble drawn from the probability distributions of the
                                                                                         
                                                                                         
continuous uncertain parameters (other options are available in FOQUS). Alternatively, users
can provide a set of &#8216;scenarios&#8217;, where each scenario is associated with a probability. The
latter case is often called &#8216;scenario optimization.&#8217; The FOQUS OUU accommodates both
continuous and scenario-based uncertain parameters. OUU makes use of the flowsheet for
evaluations of the objective function. Naturally, OUU requires more computational resources
than deterministic optimization. However, the ensemble runs can be launched in parallel so
ideally, the turnaround time remains about the same as that of deterministic optimization if high
performance computing capability (such as the CCSI Turbine gateway) is used in conjunction with
FOQUS.
<a 
 id="x1-5001r5"></a>
<h3 class="sectionHead"><span class="titlemark">1.4.    </span> <a 
 id="x1-60004"></a>Heat Integration</h3>
<!--l. 125--><p class="noindent" >The Heat Integration tool maximizes heat utilization within the entire process. For example, in a carbon
capture process, the regenerator needs to be heated by steam while the adsorber (or absorber) needs to be
cooled by water. Heat integration aims to match all available heat sources and sinks within the process so
that heating or cooling requirements can be satisfied internally as much as possible without using utilities.
In carbon capture, heat integration not only reduces steam consumption for the regenerator, but also
recovers part of heat from the adsorber to be used in other parts of the process. The heat integration
tool is tightly integrated with process simulation and optimization software. The graphical
interface transfers the relevant information from process simulation results to heat integration
inputs. The heat integration tool consists on a mathematical model solved using mathematical
programming to minimize utility usage. The General Algebraic Modeling System (GAMS)
software is used for this purpose. Finally, the graphical interface sends the heat integration
results to other simulation inputs or optimization inputs. Capital cost calculation for the heat
exchanger network is not considered in the current version of heat integration tool due to its
complexity.
<!--l. 127--><p class="noindent" >There are many heat integration opportunities in a power plant with steam cycles, carbon capture
processes and CO<sub><span 
class="cmr-8">2</span></sub> compressors. For example, potential heat sources include adsorbers in the capture
process and intercoolers between CO<sub><span 
class="cmr-8">2</span></sub> compressors. Potential cold sources include feed water heaters in
the steam cycle and regenerators in the capture process. Note: In a power plant, steam is usually extracted
from the steam cycle instead of purchasing it from outside; therefore, heat integration not only reduces
utility cost but also increases the net power output and efficiency. The motivating example consists of a
BFB CO<sub><span 
class="cmr-8">2</span></sub> adsorber/regenerator process model (in ACM), a multi-stage CO<sub><span 
class="cmr-8">2</span></sub> compression process model
(in ACM), steam cycle calculations (in Python), and heat integration calculations (in GAMS). Heat
integration returns minimum utility cost, minimum hot and cold utility consumption, and minimum
number of heat exchangers. These results can be used as final outputs or inputs for steam cycle
calculations. Correlations for net power outputs to steam extraction or heat addition, which are obtained
from the Thermoflex model, are used in steam cycle calculations. Steam cycle calculations
provide the net power output and efficiency with carbon capture and sequestration (CCS),
and possibly heat integration. This example demonstrates the net efficiency of a power plant
with CCS, which can be (potentially) significantly increased after using the heat integration
tool.
<a 
 id="x1-6001r6"></a>
                                                                                         
                                                                                         
<h3 class="sectionHead"><span class="titlemark">1.5.    </span> <a 
 id="x1-70005"></a>Surrogate Models</h3>
<!--l. 131--><p class="noindent" >Process simulations are often time consuming and occasionally fail to converge. For mathematical
optimization, it is sometimes necessary to replace a simulation with a surrogate model, which is a
simplified model that executes much faster. FOQUS contains tools for creating and quantifying the
uncertainty associated with surrogate models.
<a 
 id="x1-7001r1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.1.    </span> <a 
 id="x1-80001"></a>ALAMO</h4>
<!--l. 134--><p class="noindent" >While simulation based optimization, can often do a good job of providing optimal design and operating
conditions for a predetermined flowsheet, it cannot provide an optimal flowsheet. To obtain a more
optimal flowsheet, a mixed integer nonlinear program must be solved. These types of problems cannot
generally be solved using simulation based optimization. A solution is to generate relatively simple
algebraic models that accurately represent the high fidelity models. FOQUS currently provides an
interface for ALAMO [<a 
href="#XCozad_2014">2</a>], which builds surrogate model that are well suited for superstructure
optimization.
<a 
 id="x1-8001r8"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.2.    </span> <a 
 id="x1-90002"></a>ACOSSO</h4>
<!--l. 137--><p class="noindent" >The Adaptive Component Selection and Shrinkage Operator (ACOSSO) surface approximation was
developed under the Smoothing Spline Analysis of Variance (SS-ANOVA) modeling framework [<a 
href="#XStorlie_2011">3</a>]. As it
is a smoothing type method, ACOSSO works best when the underlying function is somewhat smooth. For
functions which are known to have sharp changes or peaks, etc., other methods may be more appropriate.
Since it implicitly performs variable selection, ACOSSO can also work well when there are
a large number of input variables. To facilitate the description of ACOSSO, the univariate
smoothing spline is reviewed first. The ACOSSO procedure also allows for categorical inputs
[<a 
href="#XStorlie_2013">4</a>].
<a 
 id="x1-9001r9"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.3.    </span> <a 
 id="x1-100003"></a>BSS-ANOVA</h4>
<!--l. 140--><p class="noindent" >The Bayesian Smoothing Spline ANOVA (BSS-ANOVA) is essentially a Bayesian version of ACOSSO
[<a 
href="#XReich_2009">5</a>]. It is Gaussian Process (GP) model with a non-conventional covariance function that borrows its form
from SS-ANOVA. It tackles the high dimensionality (of inputs) on two fronts: (1) variable selection to
eliminate uninformative variables from the model and (2) restricting the level of interactions involved
among the variables in the model. This is done through a fully Bayesian approach which can also allow
for categorical input variables with relative ease. Since it is closely related to ACOSSO, it generally works
well in similar settings as ACOSSO. The BSS-ANOVA procedure also allows for categorical inputs
[<a 
href="#XStorlie_2013">4</a>].
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;2</span><br /><a 
 id="x1-110002"></a>Flowsheet and Settings</h2>
<!--l. 3--><p class="noindent" >This chapter provides general information about using FOQUS and constructing flowsheets. The FOQUS
flowsheet provides the basis for the tools described in Chapters <a 
href="#x1-380003">3<!--tex4ht:ref: chpt.opt --></a> through <a 
href="#x1-1040008">8<!--tex4ht:ref: chpt.surrogates --></a>. The Sections <a 
href="#x1-120001">2.1<!--tex4ht:ref: sec.flowsheet.starting.foqus --></a> through <span 
class="ptmb7t-x-x-120">??</span>
provide an overview of the FOQUS user interface, and Sections <a 
href="#x1-270006">2.6<!--tex4ht:ref: tutorial.example.files --></a> through <a 
href="#x1-3700011">2.11<!--tex4ht:ref: tutorial.fs.remote.turbine --></a> provide
tutorials.
<a 
 id="x1-11001r7"></a>
<h3 class="sectionHead"><span class="titlemark">2.1.    </span> <a 
 id="x1-120001"></a>Starting FOQUS</h3>
<!--l. 3--><p class="noindent" >The Windows FOQUS installer will add a FOQUS menu under &#8220;CCSI Tools&#8221; in the Windows start menu.
Upon software installation (see the FOQUS bundle installation manual), the user can start the graphical
interface using one of the following methods:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Select FOQUS from the Windows start menu. Note: FOQUS may be slow starting the first
      time, which oftentimes is related to installed anti-virus software.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Double-click a file with the &#8220;.foqus&#8221; extension in the Windows file explorer. FOQUS will
      automatically load the selected file.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The easiest way to launch FOQUS from the command line, if it has been installed from the
      Windows installer, is to open &#8220;Turbine Console&#8221; from the FOQUS menu in the Windows start
      menu. The following command can be used in the command prompt:
           <ul class="itemize1">
           <li class="itemize"><span 
class="pcrr7t-x-x-120">foqus</span>
           </li>
           <li class="itemize"><span 
class="pcrr7t-x-x-120">foqus --load &#x003C;path to session file&#x003E;</span></li></ul>
      <!--l. 12--><p class="noindent" >The load option can take a relative or absolute path. If a relative path is specified, it is relative to the
      directory where the command is executed.</dd></dl>
<!--l. 15--><p class="noindent" >The first time FOQUS is started, the user is prompted to specify a working directory. The working
directory preference is stored in &#8220;%APPDATA%<span 
class="cmsy-10x-x-120">\</span>.foqus.cfg&#8221; on Windows (APPDATA is an environment
variable). On Linux or OSX, the working directory is specified in &#8220;<span 
class="ptmr8c-x-x-120">$</span>HOME/.foqus.cfg&#8221;. Additionally the
user can override the working directory when starting FOQUS by using the &#8220;<span 
class="pcrr7t-x-x-120">--</span>working_dir <span 
class="cmsy-10x-x-120">&#x27E8;</span>working
dir<span 
class="cmsy-10x-x-120">&#x27E9;</span>&#8221; or &#8220;-w <span 
class="cmsy-10x-x-120">&#x27E8;</span>working dir<span 
class="cmsy-10x-x-120">&#x27E9;</span>&#8221; command line option. Log files, user plugins, and files related to other
FOQUS tools are stored in the working directory. The working directory can be changed at a later time
from within FOQUS. A full list of FOQUS command line arguments is available using the &#8220;-h&#8221; or
&#8220;<span 
class="pcrr7t-x-x-120">--</span>help&#8221; arguments.
<a 
 id="x1-12004r12"></a>
<h3 class="sectionHead"><span class="titlemark">2.2.    </span> <a 
 id="x1-130002"></a>Session and Menu</h3>
<a 
 id="x1-13001r10"></a>
                                                                                         
                                                                                         
<h4 class="subsectionHead"><span class="titlemark">2.2.1.    </span> <a 
 id="x1-140001"></a>Session Information Display</h4>
<!--l. 5--><p class="noindent" >Information related to a flowsheet and tool settings is organized into a FOQUS session. The session screen
displays information about the current session. A menu is available by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Session</span></span> drop-down
menu. Figure <a 
href="#x1-14001r1">1<!--tex4ht:ref: fig.homescreen --></a> illustrates the Home window. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-14001r1"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 7--><p class="noindent" >
<!--l. 8--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/homescreen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">Home Window</span></div><!--tex4ht:label?: x1-14001r1 -->
</div>
                                                                                         
                                                                                         
<!--l. 12--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The buttons displayed at the top of the Home window, excluding <span class="underline"><span 
class="ptmb7t-x-x-120">Help</span></span>, are tab-like buttons that
      change the window when selected. The depressed button indicates the currently displayed
      window.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Session</span></span> displays the Session window, which contains a description of the session that is
           currently open. <span class="textul"><span 
class="ptmb7t-x-x-120">Session</span></span> has a drop-down menu that displays the Session menu, which
           is illustrated in Figure <a 
href="#x1-15001r2">2<!--tex4ht:ref: fig.session.menu --></a>.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> displays the meta-flowsheet editing window.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Uncertainty</span></span> displays the interface for PSAUDE and UQ visualization.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Optimization</span></span> displays the simulation-based optimization interface.
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">OUU</span></span> displays the optimization under uncertainty interface.
           </dd><dt class="enumerate-enumitem">
       (f) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Surrogates</span></span> displays the surrogate model generation window.
           </dd><dt class="enumerate-enumitem">
       (g) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">DRM-Builder</span></span>  displays  the  dynamic  reduced  model  builder,  which  can  be  used  to
           develop reduced models for dynamic simulations.
           </dd><dt class="enumerate-enumitem">
       (h) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Settings</span></span> displays the main FOQUS settings window.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Help</span></span> toggles the Help browser. The Help browser contains HTML help, as well as additional
      licensing information about other libraries and software included in the FOQUS installation.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The main Session window displays information about the current session and is divided into three
      tabs:
           <ul class="itemize1">
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Metadata</span></span> displays information about the current FOQUS session. The <span class="underline"><span 
class="ptmb7t-x-x-120">Session Name</span></span>
           provides a descriptive name for the session. This name is used by the data management
           framework and when running flowsheets remotely, so a name is required. Entering a
           name should be the first step in creating a FOQUS flowsheet. <span class="underline"><span 
class="ptmb7t-x-x-120">Version</span></span> number can be
           used to keep track of changes to a FOQUS session. <span class="underline"><span 
class="ptmb7t-x-x-120">Confidence</span></span> describes whether the
           FOQUS session is expected to produce reliable results or not. <span class="underline"><span 
class="ptmb7t-x-x-120">ID</span></span> is a unique identifier
           to identify a particular saved version of the session. <span class="underline"><span 
class="ptmb7t-x-x-120">Creation Time</span></span> is the date and
           time that the flowsheet was first saved. <span class="underline"><span 
class="ptmb7t-x-x-120">Modification Tim</span>e</span> is the time and date that the
           flowsheet was last saved.
                                                                                         
                                                                                         
           </li>
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Description</span></span> displays a detailed explanation of the purpose of the current session file,
           the problem being solved, and other useful information provided by the creator of the
           session file.
           </li>
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Change Log</span></span> displays a record of changes made to the file. If the <span 
class="ptmb7t-x-x-120">Automatically create</span>
           <span 
class="ptmb7t-x-x-120">backup session file, when saving changes </span>checkbox is selected in FOQUS <span class="underline"><span 
class="ptmb7t-x-x-120">Settings</span></span>,
           a backup file should exist for entries in the <span class="underline"><span 
class="ptmb7t-x-x-120">Change Log</span></span>. The backup can be matched
           to the <span class="underline"><span 
class="ptmb7t-x-x-120">Change Log</span></span> by the unique identifier appended to the file name.</li></ul>
      </dd></dl>
<a 
 id="x1-14013r14"></a>
<h4 class="subsectionHead"><span class="titlemark">2.2.2.    </span> <a 
 id="x1-150002"></a>Session Menu</h4>
<!--l. 38--><p class="noindent" >Figure <a 
href="#x1-15001r2">2<!--tex4ht:ref: fig.session.menu --></a> illustrates the <span class="underline"><span 
class="ptmb7t-x-x-120">Session</span></span> menu displayed with the data management framework (DMF) features
disabled. When using the DMF, the <span class="textul"><span 
class="ptmb7t-x-x-120">Open Session</span></span> and <span class="textul"><span 
class="ptmb7t-x-x-120">Save/Save Session As</span></span> options include using
the local file system or DMF database. To learn more about DMF options, see Section <span 
class="ptmb7t-x-x-120">??</span>.
<hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-15001r2"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 40--><p class="noindent" >
<!--l. 41--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/sessionMenu.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2: </span><span  
class="content">Home Window, Session Drop-Down Menu</span></div><!--tex4ht:label?: x1-15001r2 -->
</div>
                                                                                         
                                                                                         
<!--l. 45--><p class="noindent" ></div><hr class="endfigure">
<!--l. 47--><p class="noindent" >The menu items in Figure <a 
href="#x1-15001r2">2<!--tex4ht:ref: fig.session.menu --></a> are:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add</span><span 
class="cmsy-10x-x-120">\</span><span 
class="ptmb7t-x-x-120">Update  Model  to  Turbine</span></span>  enables  additional  models  to  be  uploaded  to  Turbine.
      Turbine provides simulation job queuing functionality so models cannot be run in FOQUS
      until they have been added to the Turbine server.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add</span><span 
class="cmsy-10x-x-120">\</span><span 
class="ptmb7t-x-x-120">Update  Model  to  DMF</span></span>  enables  additional  models  to  be  uploaded  to  the  DMF.  If
      models are uploaded to the DMF FOQUS can automatically upload the models to Turbine
      as needed.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">New Session</span></span> clears all session information so that a new session can be started.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Open Recent</span></span> shows a list of recently open FOQUS sessions that can be quickly reloaded
      for convenience.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Open Session</span></span> opens a session that was previously saved to a file.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Save Session</span></span> saves the current session with the current session file name. If the session has
      not  been  previously  saved,  the  user  will  be  prompted  to  enter  a  file  name.  <span class="underline"><span 
class="ptmb7t-x-x-120">Save  Session</span></span>
      commands the user to save two session files: (1) a file with the selected name and (2) if
      backup option is enabled, a backup file with a name constructed from the <span class="textul"><span 
class="ptmb7t-x-x-120">Session Name</span></span>
      and <span class="textul"><span 
class="ptmb7t-x-x-120">ID</span></span>. The Session <span class="textul"><span 
class="ptmb7t-x-x-120">ID</span></span> is shown on the <span class="textul"><span 
class="ptmb7t-x-x-120">Session, Metadata</span></span> tab. The backup file is saved to
      the working directory. This system prevents accidental saving over an important file. It also
      enables the user to open any previously saved session.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Save Session As</span></span> is similar to <span class="underline"><span 
class="ptmb7t-x-x-120">Save Session</span></span>; however, the user is prompted for a new file
      name.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Logout from DMF Repositories</span></span> Allows the user to logout of a DMF server.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Exit FOQUS</span></span> exits FOQUS. The user is asked whether to save the current session before
      exiting.</dd></dl>
<a 
 id="x1-15011r16"></a>
<h4 class="subsectionHead"><span class="titlemark">2.2.3.    </span> <a 
 id="x1-160003"></a>Adding or Changing Turbine Simulations</h4>
<!--l. 62--><p class="noindent" >Before running any flowsheet where a node is linked to a simulation, the simulation must be
uploaded to the Turbine gateway. To use a simulation at least two things are required: (1)
the simulation file (e.g., Aspen Plus file, Excel file) and (2) the SimSinter configuration. The
                                                                                         
                                                                                         
SimSinter configuration file is a JavaScript Object Notation (JSON) formatted file that specifies the
simulation, input, and output. Any additional files required to run the simulation must also be
uploaded.
<!--l. 64--><p class="noindent" >Figure <a 
href="#x1-16001r3">3<!--tex4ht:ref: fig.turbine.upload --></a> illustrates the dialog box for uploading a simulation to Turbine. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-16001r3"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 66--><p class="noindent" >
<!--l. 67--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/turbineUpload.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;3: </span><span  
class="content">Turbine Upload Dialog Box</span></div><!--tex4ht:label?: x1-16001r3 -->
</div>
                                                                                         
                                                                                         
<!--l. 71--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Create/Edit</span></span> enables use of the SimSinter configuration Graphical User Interface (GUI) to
      create a SimSinter configuration file. See Chapter <a 
href="#x1-1230009">9<!--tex4ht:ref: chapt.simsinter --></a> and the SimSinter documentation for
      more information.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span>  displays  a  file  browser,  which  can  be  used  to  select  an  existing  SimSinter
      configuration file. Once a SimSinter configuration file is selected, the <span class="textul"><span 
class="ptmb7t-x-x-120">Application</span></span> type is
      filled in. The SimSinter <span class="textul"><span 
class="ptmb7t-x-x-120">Configuration File</span></span> and simulation file are automatically added to
      the file upload table.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Simulation Name</span></span> enables entry of a new name if uploading a new simulation. An existing
      simulation  can  be  selected  from  the  drop-down  list  if  an  existing  simulation  is  being
      modified. After selecting a SimSinter configuration file, the simulation name is guessed from
      the SimSinter configuration file name, but it can be edited.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Application</span></span> displays the application that will be used to run the simulation. This is filled in
      automatically based on information in the SimSinter configuration file, and cannot be edited.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add Files</span></span> enables uploading of any auxiliary files that may be required by the simulation.
      Multiple files may be selected at once.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Remove Files</span></span> enables added files to be removed from the list of files to upload.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">File Table</span></span> displays a list of files to be uploaded to Turbine.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Delete</span></span> allows the simulation with the name currently displayed in the <span class="textul"><span 
class="ptmb7t-x-x-120">Simulation Name</span></span>
      drop-down list to be deleted from Turbine. Only simulations that have not been run can be
      deleted.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Resource  Relative  Path</span></span>  enables  the  user  to  set  the  path  of  resource  files  relative  to  the
      simulation working directory. To set the directory, select files in the <span class="textul"><span 
class="ptmb7t-x-x-120">File Table</span></span>. Multiple files
      can be selected. Click <span class="textul"><span 
class="ptmb7t-x-x-120">Resource Relative Path</span></span>, and type the relative path to assign to the
      selected resource files.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Turbine  Gateway  Selection</span></span>  enables  the  user  to  select  the  instance  of  Turbine  to  which
      to upload the simulation. <span class="textul"><span 
class="ptmb7t-x-x-120">Current</span></span> is the Turbine instance currently set to run simulations.
      <span class="textul"><span 
class="ptmb7t-x-x-120">Remote</span></span> is configured Remote instance. <span class="textul"><span 
class="ptmb7t-x-x-120">Local</span></span> is the TurbineLite instance installed on the
      local computer. <span class="textul"><span 
class="ptmb7t-x-x-120">Remote + Local</span></span> allows simulations to be uploaded to both the local and
      remote instances of Turbine. <span class="textul"><span 
class="ptmb7t-x-x-120">Multiple/Custom</span></span> allows simulations to be uploaded to other
      Turbine instances by selecting Turbine configuration files.</dd></dl>
                                                                                         
                                                                                         
<a 
 id="x1-16012r18"></a>
<h4 class="subsectionHead"><span class="titlemark">2.2.4.    </span> <a 
 id="x1-170004"></a>Adding or Changing Data Management Framework Simulations</h4>
<!--l. 87--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Please see Section</span> <span 
class="ptmb7t-x-x-120">??</span> <span 
class="ptmb7t-x-x-120">for information about setting up the data management framework (DMF) for</span>
<span 
class="ptmb7t-x-x-120">use with FOQUS.</span>
<!--l. 89--><p class="noindent" >The DMF allows storing and tracking changes for simulations. Simulations from the DMF can be used in
the FOQUS flowsheet, and FOQUS will automatically upload the simulations to Turbine as needed. The
procedure for adding and updating simulations in the DMF is similar to uploading to Turbine, described in
Section <a 
href="#x1-160003">2.2.3<!--tex4ht:ref: overview.turbine.upload --></a>.
<!--l. 91--><p class="noindent" >The upload to DMF dialog is shown below in Figure <a 
href="#x1-17001r4">4<!--tex4ht:ref: fig.dmf.upload --></a>. To change between the local DMF lite and DMF
server, use the <span class="textul"><span 
class="ptmb7t-x-x-120">SelectDMF</span></span> button (see item 1 in Figure <a 
href="#x1-17001r4">4<!--tex4ht:ref: fig.dmf.upload --></a>). For more information see Section <a 
href="#x1-160003">2.2.3<!--tex4ht:ref: overview.turbine.upload --></a> and
<span 
class="ptmb7t-x-x-120">??</span>.
<!--l. 93--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-17001r4"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 94--><p class="noindent" >
<!--l. 95--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/dmfUpload.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4: </span><span  
class="content">DMF Upload Dialog Box</span></div><!--tex4ht:label?: x1-17001r4 -->
</div>
                                                                                         
                                                                                         
<!--l. 99--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-17002r13"></a>
<h3 class="sectionHead"><span class="titlemark">2.3.    </span> <a 
 id="x1-180003"></a>Settings</h3>
<!--l. 4--><p class="noindent" >The settings screen shows FOQUS settings that are related to the general FOQUS setup, and are
unlikely to change between sessions. The settings screen is accessible by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Settings</span></span>
button at the top of the Home window. The FOQUS settings can be stored in two locations: (1)
&#8220;%APPDATA%<span 
class="cmsy-10x-x-120">\</span>.foqus.cfg&#8221; on Windows or &#8220;<span 
class="ptmr8c-x-x-120">$</span>HOME/.foqus.cfg&#8221; on Linux or OSX, (2) &#8220;foqus.cfg&#8221; in
the working directory.
<!--l. 6--><p class="noindent" >The Settings screen displays settings grouped into tabs. Figure <a 
href="#x1-18001r5">5<!--tex4ht:ref: fig.settings.options --></a> shows <span class="textul"><span 
class="ptmb7t-x-x-120">Settings, FOQUS</span></span>
tab.
<!--l. 8--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-18001r5"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 9--><p class="noindent" >
<!--l. 10--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/settings_options.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;5: </span><span  
class="content">Settings, FOQUS Tab</span></div><!--tex4ht:label?: x1-18001r5 -->
</div>
                                                                                         
                                                                                         
<!--l. 14--><p class="noindent" ></div><hr class="endfigure">
<!--l. 16--><p class="noindent" >Options in the <span class="textul"><span 
class="ptmb7t-x-x-120">Settings, FOQUS</span></span> tab are described below.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Save settings to working directoy</span></span>, when checkbox is selected the settings file will be read
      from the specified working directory. This setting is useful for running multiple copies of
      FOQUS to ensure the settings do not conflict. When starting additional copies of FOQUS,
      it  is  best  to  start  them  from  the  Working  Directory  command  line  giving  each  copy  of
      FOQUS its own independent working directory. If FOQUS is started more than once from
      the Windows start menu, each copy will use the same working directory. Starting FOQUS
      multiple times with the same working directory may cause unusual behavior in FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Use DMF if available</span></span>, when checkbox is selected the Data Management Framework (DMF)
      module will be loaded and the DMF options will be shown in the <span 
class="ptmb7t-x-x-120">Session</span><span class="underline"></span> menu.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Automatically create backup session file</span></span>, when checkbox is selected each time a FOQUS
      session is saved it will be saved twice. A backup copy with a universally unique identifier
      appended to the file name will be saved. This will allow the user to load any previous save
      point of the session.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Smaller  session  files</span></span>,  when  checkbox  is  selected  significant  storage  space  is  saved  by
      excluding formatting from the session file; this makes the session files less human readable.
      A more readable session file can be useful for debugging.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">FOQUS Flowsheet Run Method</span></span> enables the user to select between running simulations
      on the same computer as FOQUS, or on a remote Turbine gateway. Running simulations
      remotely allows parallel execution.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Working Directory</span></span> is the path to the FOQUS working directory. The <span class="underline"><span 
class="ptmb7t-x-x-120">Working Directory</span></span>
      is where FOQUS reads and writes files needed to function. When running multiple copies
      of FOQUS, the <span class="underline"><span 
class="ptmb7t-x-x-120">Working Directory</span></span> can also be specified from the command line using the
      &#8220;-w&#8221; or &#8220;&#8211;workingDir&#8221; options. After changing the <span class="underline"><span 
class="ptmb7t-x-x-120">Working Directory</span></span>, FOQUS should be
      restarted.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">PSUADE EXE</span></span> is the path to the PSUADE executable. PSUADE provides FOQUS&#8217;s UQ
      features.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">SimSinter Home</span></span> is the path to the SimSinter interface for creating Sinter configuration files
      for simulations to be run with FOQUS. This setting is not required but it allows easy access
      to the SimSinter configuration GUI when uploading simulation to Turbine.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">iREVEAL  Home</span></span>  is  the  path  the  iREVEAL  installation.  This  is  required  to  use  the
      iREVEAL surrogate model module.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">ALAMO EXE</span></span> is the path to the ALAMO executable. This is required to use the ALAMO
      surrogate model module.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">RScript Path</span></span> is the path to the RScript executable. This is required for surrogate model
      modules that use R as a platform.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Java  Home</span></span>  is  the  path  to  the  Java  installation.  The  DMF  and  the  iREVEAL  surrogate
      modules require Java.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Revert Changes</span></span> The settings changes are applied when the user navigates away from the
      settings screen. To undo changes made to settings the revert button can be clicked before
      changing to another screen.</dd></dl>
<!--l. 35--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine</span></span> tab contains settings for configuring the local and remote instance of Turbine. Figure <a 
href="#x1-18015r6">6<!--tex4ht:ref: fig.settings.turbine --></a>
shows the FOQUS Turbine settings.
<!--l. 37--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-18015r6"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 38--><p class="noindent" >
<!--l. 39--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/settings_turbine.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;6: </span><span  
class="content">Settings, Turbine Tab</span></div><!--tex4ht:label?: x1-18015r6 -->
</div>
                                                                                         
                                                                                         
<!--l. 43--><p class="noindent" ></div><hr class="endfigure">
<!--l. 45--><p class="noindent" >The first section in the <span class="underline"><span 
class="ptmb7t-x-x-120">Turbine</span></span> tab is <span class="textul"><span 
class="ptmb7t-x-x-120">TurbineLite (Local)</span></span>. This section contains settings related to the
local installation of Turbine, and is only applicable when running FOQUS on the windows
platform.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Test</span></span> tests the connection to the local Turbine server to make sure it is configured and running
      properly.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Start Service</span></span> starts the Turbine server service on Windows. The user must have permission
      to start services to use this button.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Stop Service</span></span> stops the Turbine server service on Windows. The user must have permission
      to stop services to use this button.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Change Port</span></span> can reconfigure the local Turbine server service on Windows to use a different
      port. This may be necessary if Turbine conflicts with another service.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Aspen Version</span></span>, Aspen 7.3 is still in common use but the API differs slightly form newer
      versions. This option allows FOQUS to be used with Aspen 7.3.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">TurbineLite Home</span></span> is the location of the TurbineLite installation. For local simulation runs
      FOQUS needs to know where TurbineLite is installed so it can launch Turbine consumers to
      run simulations. This setting is not needed if simulations are only run remotely.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Turbine Configuration (local)</span></span> is the path to the TurbineLite gateway configuration file for
      running simulations locally. If simulations are only run remotely, this setting is not needed.
      <span class="textul"><span 
class="ptmb7t-x-x-120">New/Edit</span></span> displays a form to create or edit a Turbine configuration file. Having a setting for
      both local and remote Turbine allows easy switching between run methods.
      </dd></dl>
<!--l. 63--><p class="noindent" >The second section in the <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine</span></span> tab is <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine Gateway (Remote)</span></span>. This section contains settings
related to a remote instance of Turbine.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Test</span></span>  tests  the  connection  to  the  remote  Turbine  server  to  make  sure  it  is  configured  and
      running properly.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Turbine Configuration (remote)</span></span>, is the path to the Turbine gateway configuration file for
      running simulations remotely. If simulations are only run locally, this setting is not needed.
                                                                                         
                                                                                         
      <span class="textul"><span 
class="ptmb7t-x-x-120">New/Edit</span></span> displays a form to create or edit a Turbine configuration file. Having a setting for
      both local and remote Turbine allows easy switching between run methods.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Check Interval (sec)</span></span> is the number of seconds between checking the remote Turbine server
      for job results. This number should not be set too low to avoid overwhelming the Turbine
      server with requests.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Number of Times to Resubmit Failed Jobs</span></span> is the number of times to resubmit jobs that
      fail. Jobs occasionally fail due to software bugs. This allows a job to be retried.
      </dd></dl>
<!--l. 76--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Logging</span></span> tab contains settings related to the FOQUS log files, which provide debugging
information. The FOQUS log files are stored in the logs directory in the working directory.
Figure <a 
href="#x1-18027r7">7<!--tex4ht:ref: fig.settings.logging --></a> show the FOQUS log settings. There are two log files (1) FOQUS and (2) Turbine
Client.
<!--l. 78--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-18027r7"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 79--><p class="noindent" >
<!--l. 80--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/settings_logging.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;7: </span><span  
class="content">Settings, Logging Tab</span></div><!--tex4ht:label?: x1-18027r7 -->
</div>
                                                                                         
                                                                                         
<!--l. 84--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The level sliders indicate how much information to send to the logs.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Log Files</span></span> section enables the user to specify where the log information is sent. The <span class="textul"><span 
class="ptmb7t-x-x-120">File</span>
      <span 
class="ptmb7t-x-x-120">Out</span></span> checkboxes turn on or off the file output of logs. The <span class="textul"><span 
class="ptmb7t-x-x-120">Std. Out</span></span> checkboxes enable or
      disable the output to the screen.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Format</span></span> allows the format of the log messages to be changed. See the documentation for the
      Python 2.7 logging module for more information.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Rotate Log Files</span></span> turns on or off log file rotation. When a log file reaches a certain size, a
      new log file is started and the contents of the old log are moved to a new file. There currently
      seems to be a bug in the log file rotation which occasionally makes the log file output stop;
      therefore, the <span class="textul"><span 
class="ptmb7t-x-x-120">Rotate Log Files</span></span> option is labeled as an experimental feature.</dd></dl>
<a 
 id="x1-18032r22"></a>
<h3 class="sectionHead"><span class="titlemark">2.4.    </span> <a 
 id="x1-190004"></a>Flowsheet</h3>
<!--l. 4--><p class="noindent" >The meta-flowsheet defines connections between simulations. The flowsheet defines the order that
simulations are performed and what data is transferred between them. Simulations are represented as
nodes in the flowsheet. These simulations may be links to external simulation software through the
Turbine gateway, or custom simulations or simulation wrappers written in Python. Directed edges in
the flowsheet connect nodes. The edges also specify which variables in the simulations are
equivalent.
<!--l. 6--><p class="noindent" >If the flowsheet contains cycles, they are solved iteratively. Tear streams are selected by FOQUS based on
two criteria: (1) minimize the maximum number of times any cycle is torn and (2) minimize the total
number of tear edges (which only is considered when two tear sets have the same value for the first
criteria).
<!--l. 8--><p class="noindent" >FOQUS currently has two methods available for solving flowsheets with recycle: (1) direct substitution
and (2) Wegstien [<a 
href="#XWegstein_1958">6</a>]. FOQUS will solve strongly connected components in the order they are encountered
in the flowsheet. FOQUS flowsheets are generally not very complicated, so if a strongly connected
component contains more than one tear stream, they are solved simultaneously. More advanced solution
options will be added if a need arises. Figure <a 
href="#x1-19001r8">8<!--tex4ht:ref: fig.flowsheet.recycle --></a> shows how a simple flowsheet with recycle would be
solved. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-19001r8"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 10--><p class="noindent" >
<!--l. 11--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/recycle.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;8: </span><span  
class="content">Flowsheet Recycle</span></div><!--tex4ht:label?: x1-19001r8 -->
</div>
                                                                                         
                                                                                         
<!--l. 15--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-19002r20"></a>
<h4 class="subsectionHead"><span class="titlemark">2.4.1.    </span> <a 
 id="x1-200001"></a>Flowsheet Editor</h4>
<!--l. 18--><p class="noindent" >Figure <a 
href="#x1-20001r9">9<!--tex4ht:ref: fig.flowsheet.editor --></a> illustrates the main <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet Editor</span></span> screen and a description of the pieces. The toolbar on the
left contains various flowsheet tools. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-20001r9"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 20--><p class="noindent" >
<!--l. 21--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/flowsheetEdit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;9: </span><span  
class="content">Flowsheet Editor</span></div><!--tex4ht:label?: x1-20001r9 -->
</div>
                                                                                         
                                                                                         
<!--l. 25--><p class="noindent" ></div><hr class="endfigure">
<!--l. 27--><p class="noindent" >The first three buttons are mouse mode buttons. The current mouse mode is shown by the depressed
button. The remaining buttons on the toolbar perform an action. The flowsheet editing toolbar and
flowsheet are described in detail below.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Selection mode</span></span> enables the user to select nodes and edges. Multiple items may be selected
      by holding down the Shift key. To deselect everything, click an empty area of the flowsheet
      while not holding the Shift key. Selected items can be moved by dragging them. To move
      multiple items, hold down the Shift key while dragging. The last item selected becomes the
      current object to be edited in the <span class="textul"><span 
class="ptmb7t-x-x-120">Node</span></span> or <span class="textul"><span 
class="ptmb7t-x-x-120">Edge Editor</span></span>.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add node mode</span></span> enables the user to add a node by clicking anywhere on the flowsheet. Once
      a location is clicked, a dialog box opens where the new node name can be entered. If <span class="underline"><span 
class="ptmb7t-x-x-120">Cancel</span></span>
      is selected, no node is added. The new node name cannot be &#8220;graph&#8221; and cannot match any
      existing node name.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add edge mode</span></span> enables edges to be added by selecting the node that the edge originates
      from, followed by the node the edge terminates at.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Center flowsheet in display</span></span> centers the display on the flowsheet.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Delete selected</span></span> deletes all selected nodes and edges. If a node is deleted, all edges connecting
      to that node are also deleted.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Run a simulation</span></span> starts a single simulation run. This is primarily used to test a simulation
      before running optimization or UQ.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Stop a simulation</span></span> is enabled when a simulation is running and stops any running simulation.
      The simulation may take several seconds to stop.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Set inputs to defaults</span></span> returns all of the inputs to their default values.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Determine tear edges</span></span> makes it easier to see where initial guesses are needed and makes it
      possible to edit the tear set before running the flowsheet. If tear streams are needed but not
      specified before running a flowsheet, they will be automatically specified, however inputs
      that will be used for the initial guess will not be known before running.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet solver settings</span></span> contains options related to tear solvers.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Toggle node editor display</span></span> displays or hides the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Editor</span></span>. The user can change the node
      being edited by selecting from <span class="textul"><span 
class="ptmb7t-x-x-120">Name</span></span> in the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> or selecting it on the flowsheet in
      selection mode.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Toggle edge editor display</span></span> displays or hides the edge editor. The user can change the edge
      being edited in the <span class="textul"><span 
class="ptmb7t-x-x-120">Edge Editor</span></span>, or by selecting it in selection mode.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Show results from all flowsheet runs</span></span> displays the results of all flowsheet runs in a table
      view. This can be exported to a spreadsheet.
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Node</span></span> represents a simulation or calculations.
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Edge</span></span> connects simulation data, represents data transfer between two nodes.</dd></dl>
<a 
 id="x1-20017r28"></a>
<h4 class="subsectionHead"><span class="titlemark">2.4.2.    </span> <a 
 id="x1-210002"></a>Node Editor</h4>
<!--l. 47--><p class="noindent" >The <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> enables the assignment of simulations to a node, and editing variables. Figure <a 
href="#x1-21001r10">10<!--tex4ht:ref: fig.node.editor.input --></a>
shows the Node Editor window with the input variables section of the toolbox displayed.
<hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-21001r10"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 49--><p class="noindent" >
<!--l. 50--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/nodeEditInput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;10: </span><span  
class="content">Node Editor Window</span></div><!--tex4ht:label?: x1-21001r10 -->
</div>
                                                                                         
                                                                                         
<!--l. 54--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Apply</span></span>  immediately  applies  any  changes  made  in  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Node  Editor</span></span>.  This  is  not  usually
      needed. Changes are applied when the current node is changed, the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> is closed,
      or some other action is taken that requires the flowsheet, such as running the flowsheet.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Revert</span></span> sets the node back to the version where the changes were last applied. This is usually
      the original state of the node when the editor was opened.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> can be used to run the simulation represented by this node only. This can be used for
      testing to make sure the node is properly configured without running the whole flowsheet.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Stop Run</span></span> is active when a simulation is currently running. It stops a single node run or a
      flowsheet run.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">There are three tabs in the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span>: (1) <span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab, shown in Figure <a 
href="#x1-21001r10">10<!--tex4ht:ref: fig.node.editor.input --></a>, (2) <span class="textul"><span 
class="ptmb7t-x-x-120">Position</span></span>
      tab  displays  the  coordinates  of  the  node,  and  (3)  <span class="textul"><span 
class="ptmb7t-x-x-120">Node  Script</span></span>  tab  enabling  the  entry  of
      Python code to be executed after the simulation is run.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Name</span></span> displays the name of the node currently being edited. The current node can be changed
      by selecting from existing nodes in the drop-down menu.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Code</span></span> displays the error status code for the node.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Message</span></span> displays a more detailed description of the error status of the node.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span> enables the user to select the type of model to run. The model types are none, Turbine,
      DMF Lite, DMF Server, or Python Plugin. None allows no model to be assigned to the node;
      this is useful when the node only executes a script entered directly into FOQUS. Turbine is
      used to execute Aspen, gPROMS, or Excel simulations. If simulations are stored in either
      the DMF lite or DMF server, the DMF type models can be used. FOQUS will automatically
      upload  DMF  models  to  Turbine  as  needed.  Python  plugins  are  custom  simulations  or
      wrappers written by the user. Surrogate model methods may also produce Python plugin
      models.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span> enables selection of the models available on Turbine or loaded Python plugins.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> enables viewing and editing the node&#8217;s input variables. Most of these variables are
      added automatically when a simulation is selected.
                                                                                         
                                                                                         
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add variable</span></span> enables the addition of an input variable. There are two reasons to add an
           input: (1) to use a variable to pass information to another simulation (even if the variable
           is not used in any node calculation, it can receive data from the previous simulation
           and be passed on to the next simulation) and (2) to use in a node script. For example, a
           variable could be added that provides output in different units of measure.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Remove variable</span></span> removes variables. If an input variable is removed that originally
           came from a Turbine simulation, the simulation will run with the default value.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Tags</span></span> displays a tag browser that lists commonly used variable tags.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Input  Variables</span></span>  table  displays  information  about  variables.  Most  attributes  can  be
           edited, except for the <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> column within the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table. The rows for
           input variables are color coded depending on whether they are set by an edge from
           results in another node. White rows are not connected. Yellow rows are set by a tear
           edge.  These  variables  serve  as  initial  guesses  but  their  value  may  change  once  the
           simulation has run. Red rows are set by an edge that is not a tear edge. The value set
           for these inputs does not matter and it may change once the simulation has run.</dd></dl>
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> is a variable table similar to the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table for node output variables.
      This area is displayed by clicking <span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span>.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Settings</span></span> displays simulation settings. A description is provided for each setting. The available
      settings vary depending on simulation.</dd></dl>
<a 
 id="x1-21019r30"></a>
<h4 class="subsectionHead"><span class="titlemark">2.4.3.    </span> <a 
 id="x1-220003"></a>Node Variables</h4>
<!--l. 79--><p class="noindent" >Variables in the node editor are grouped into two sections, inputs and outputs. The input and output
variable tables are accessible as described in the previous section. The contents of the variable tables are
described here.
<!--l. 81--><p class="noindent" >The columns in the input variable list are:
      <ul class="itemize1">
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Name</span></span> is the name of the variable,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Value</span></span> is the current value,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Unit</span></span> is the unit of measure,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span> is the data type (float, int, or str),
                                                                                         
                                                                                         
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Default</span></span> is the default value,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Min</span></span> is the minimum value,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Max</span></span> is the maximum value,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Description</span></span> is a description string,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Tag</span></span> is a list of strings that can be used to attach additional information to a variable
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Distribution</span></span> is a distribution type,
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Param1</span></span> is the first parameter of a parametric distribution the exact meaning depends on the
      selected distribution, and
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Param2</span></span> is the second parameter of a parametric distribution the exact meaning depends on
      the selected distribution.</li></ul>
<!--l. 96--><p class="noindent" >The minimum and maximum values for are not enforced when running simulations are not enforced. A
value can be given outside the range. Optimization and UQ features make use of these values to set upper
and lower bounds on decision variables or sampling. The distribution information is used when setting up
sampling for UQ. In the future, this may also be used for things like optimization under uncertainty.
Integer and string type variables cannot currently be used as optimization decision variables, or sampled
with the UQ tool.
<!--l. 98--><p class="noindent" >The rows of the input variable table are color coded. Some of the input variables may be set by
connections to other nodes. White rows are variables who&#8217;s values are not set by a connection. The
variables that are red have values set by a connection, and the value given will be overwritten and does not
matter. The values that are colored yellow are inputs set by a connection that is a tear stream. The values
of these variables serves as an initial guess for solving recycles.
<!--l. 100--><p class="noindent" >The output variable table is similar to the input table, however it only contains the columns: Name, Value,
Unit, Type, Description, and Tags. The value of the outputs may not correspond to the inputs until the
simulation has been run.
<a 
 id="x1-22001r32"></a>
<h4 class="subsectionHead"><span class="titlemark">2.4.4.    </span> <a 
 id="x1-230004"></a>Node Script</h4>
<!--l. 105--><p class="noindent" >There are three type of <span class="underline"><span 
class="ptmb7t-x-x-120">Node Script</span></span> that can be used: (1) <span class="textul"><span 
class="ptmb7t-x-x-120">Pre</span></span> runs before a node simulation, (2) <span class="textul"><span 
class="ptmb7t-x-x-120">Post</span></span> runs
after a node simulation, and (3) <span class="textul"><span 
class="ptmb7t-x-x-120">Total</span></span> scripts how a node runs the simulation.
<!--l. 107--><p class="noindent" >Figure <a 
href="#x1-23001r11">11<!--tex4ht:ref: fig.post.calc --></a> illustrates the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Script</span></span> tab of the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> with calculations for an optimization test
problem.
                                                                                         
                                                                                         
<!--l. 109--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-23001r11"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 110--><p class="noindent" >
<!--l. 111--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/postCalc.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;11: </span><span  
class="content">Node Script Tab</span></div><!--tex4ht:label?: x1-23001r11 -->
</div>
                                                                                         
                                                                                         
<!--l. 115--><p class="noindent" ></div><hr class="endfigure">
<!--l. 117--><p class="noindent" >Node scripts can be any valid Python code. The input and output variables for node scripts are stored in
dictionaries x and f. The dictionary keys are the variable names. The f dictionary is used to update the
node variables after the calculations are executed.
<a 
 id="x1-23002r33"></a>
<h4 class="subsectionHead"><span class="titlemark">2.4.5.    </span> <a 
 id="x1-240005"></a>Edge Editor</h4>
<!--l. 120--><p class="noindent" >The <span class="underline"><span 
class="ptmb7t-x-x-120">Edge Editor</span></span> is illustrated in Figure <a 
href="#x1-24001r12">12<!--tex4ht:ref: fig.edge.editor --></a>. The <span class="underline"><span 
class="ptmb7t-x-x-120">Edge Editor</span></span> can be used to set connections between
node variables.
<!--l. 122--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-24001r12"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 123--><p class="noindent" >
<!--l. 124--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/edgeEdit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;12: </span><span  
class="content">Edge Editor</span></div><!--tex4ht:label?: x1-24001r12 -->
</div>
                                                                                         
                                                                                         
<!--l. 128--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Index</span></span> is the index of the current edge. The current edge can be changed by selecting an
      index from the drop-down menu, but since the index is not a very meaningful identifier it is
      usually more convenient to select the edge to edit with the graphical selection tool.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Origin Node</span></span> is the node where an edge starts. This may be edited by selecting a different
      node from the drop-down menu.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Destination Node</span></span> is the node to which the edge goes.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Curve</span></span>  can  be  a  positive  or  negative  number.  The  greater  the  magnitude  of  number,  the
      more curved an edge will appear in the flowsheet. This setting is used to keep edges from
      overlapping in the flowsheet display.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Tear</span></span> marks this edge as a tear. Before a simulation is run, if a valid tear set is not specified,
      FOQUS locates one.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Active</span></span> specifies whether the edge is active or not. This allows connections to be temporarily
      disabled.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Variable Connections</span></span> table displays which variables are connected. Inputs or outputs in the
      origin node can be connected to inputs in the destination node.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add connection</span></span> adds a new connection.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Remove connection</span></span> deletes the selected connections.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Auto</span></span> automatically connects variables having the same name. For example, in connecting a
      simulation to a spreadsheet to calculate costs there are a large number of variables for which
      it makes sense that the variables have the same name in the simulation and spreadsheet. <span class="textul"><span 
class="ptmb7t-x-x-120">Auto</span></span>
      should be used with great care. Connecting variables with the same name is often not what
      is wanted. For example two simulations may have a variable named FlowAIn; however, it is
      very unlikely that they should be connected. It is more likely FlowAOut should be connected
      to FlowAIn.</dd></dl>
<a 
 id="x1-24012r26"></a>
                                                                                         
                                                                                         
<h3 class="sectionHead"><span class="titlemark">2.5.    </span> <a 
 id="x1-250005"></a>Sample Results</h3>
<!--l. 3--><p class="noindent" >Flowsheet evaluations that have been run in a FOQUS session can be viewed by clicking the table button
in the flowsheet toolbar (#13 in Figure <a 
href="#x1-20001r9">9<!--tex4ht:ref: fig.flowsheet.editor --></a>). The results are displayed in a table, and the contents can be
copied and pasted into a spreadsheet or exported to a CSV file. Figure <a 
href="#x1-25001r13">13<!--tex4ht:ref: fig.results.table --></a> show the Flowsheet Results
Table window.
<!--l. 6--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-25001r13"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 7--><p class="noindent" >
<!--l. 8--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/resultsTable.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;13: </span><span  
class="content">Flowsheet Results Table Window</span></div><!--tex4ht:label?: x1-25001r13 -->
</div>
                                                                                         
                                                                                         
<!--l. 12--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Menu</span></span> contains a menu with four sub menus.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Import</span></span> data from files or the clipboard.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Export</span></span> data to files or the clipboard.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Edit</span></span> or delete data.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">View</span></span> options for the table.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Current Filter</span></span> drop-down list enables the user to select a data filter, which can be used to filter
      and sort data.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Edit Filters</span></span> enables the user to create or edit data filters.</dd></dl>
<a 
 id="x1-25009r35"></a>
<h4 class="subsectionHead"><span class="titlemark">2.5.1.    </span> <a 
 id="x1-260001"></a>Error Codes</h4>
<!--l. 28--><p class="noindent" >Error codes are listed in the <span class="underline"><span 
class="ptmb7t-x-x-120">Flowsheet Results</span></span> table for the whole flowsheet and for individual nodes.
Table <a 
href="#x1-26001r1">1<!--tex4ht:ref: table.fs.error --></a> shows the flowsheet error codes and Table <a 
href="#x1-26002r2">2<!--tex4ht:ref: table.node.error --></a> shows the node error codes. The most common
flowsheet error is 1, a node calculation failed. The most common node error is 7, Turbine simulation error.
These errors are typically caused by a simulation that fails to converge or has some other calculation
error (e.g., ACM does not converge or an Excel spreadsheet simulation with a division by 0
error).
<div class="table">
                                                                                         
                                                                                         
<!--l. 30--><p class="noindent" ><a 
 id="x1-26001r1"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 31--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Table&#x00A0;1: </span><span  
class="content">Flowsheet Error Codes</span></div><!--tex4ht:label?: x1-26001r1 -->
 <table id="TBL-7" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"><col 
id="TBL-7-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-1-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-1-1"  
class="td11"> Code  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-2"  
class="td11"> Meaning                                                                             </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-2-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-2-1"  
class="td11">   -1  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-2"  
class="td11"> Did not run or finish                                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-3-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-3-1"  
class="td11">    0  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-2"  
class="td11"> Success                                                                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-4-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-4-1"  
class="td11">    1  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-4-2"  
class="td11"> A node calculation failed                                                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-5-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-5-1"  
class="td11">    3  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-5-2"  
class="td11"> Failed to create a worker node                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-6-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-6-1"  
class="td11">    5  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-6-2"  
class="td11"> Unknown tear solver                                                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-7-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-7-1"  
class="td11">   11  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-7-2"  
class="td11"> Wegstein failed to converge                                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-8-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-8-1"  
class="td11">   12  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-8-2"  
class="td11"> Direct failed to converge                                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-9-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-9-1"  
class="td11">   16  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-9-2"  
class="td11"> Presolve node error                                                           </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-10-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-10-1"  
class="td11">   17  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-10-2"  
class="td11"> Postsolve node error                                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-11-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-11-1"  
class="td11">   19  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-11-2"  
class="td11"> Unhandled exception during evaluation (see log)             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-12-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-12-1"  
class="td11">   20  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-12-2"  
class="td11"> Flowsheet thread terminated                                             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-13-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-13-1"  
class="td11">   21  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-13-2"  
class="td11"> Missing session name                                                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-14-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-14-1"  
class="td11">   40  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-14-2"  
class="td11"> Error connecting to Turbine                                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-15-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-15-1"  
class="td11">   50  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-15-2"  
class="td11"> Error loading session or inputs                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-16-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-16-1"  
class="td11">  100  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-16-2"  
class="td11"> Single node calculation success                                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-17-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-17-1"  
class="td11">  201  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-17-2"  
class="td11"> Cycle in determining calculation order (invalid tear set)  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-18-"><td  style="white-space:nowrap; text-align:right;" id="TBL-7-18-1"  
class="td11">      </td></tr></table></div>
                                                                                         
                                                                                         
</div><hr class="endfloat" />
</div>
<div class="table">
                                                                                         
                                                                                         
<!--l. 58--><p class="noindent" ><a 
 id="x1-26002r2"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 59--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Table&#x00A0;2: </span><span  
class="content">Node Error Codes</span></div><!--tex4ht:label?: x1-26002r2 -->
 <table id="TBL-10" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-10-1g"><col 
id="TBL-10-1"><col 
id="TBL-10-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-1-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-1-1"  
class="td11"> Code  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-1-2"  
class="td11"> Meaning                                                 </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-2-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-2-1"  
class="td11">   -1  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-2-2"  
class="td11"> Did not run or finish                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-3-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-3-1"  
class="td11">    0  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-3-2"  
class="td11"> Success                                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-4-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-4-1"  
class="td11">    1  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-4-2"  
class="td11"> Simulation error (see log)                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-5-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-5-1"  
class="td11">    3  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-5-2"  
class="td11"> Exceeded maximum wait time              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-6-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-6-1"  
class="td11">    4  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-6-2"  
class="td11"> Failed to create Turbine session ID       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-7-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-7-1"  
class="td11">    5  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-7-2"  
class="td11"> Failed to add Turbine job                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-8-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-8-1"  
class="td11">    6  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-8-2"  
class="td11"> Exceeded maximum run time                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-9-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-9-1"  
class="td11">    7  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-9-2"  
class="td11"> Turbine simulation error                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-10-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-10-1"  
class="td11">    8  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-10-2"  
class="td11"> Failed to start Turbine job                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-11-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-11-1"  
class="td11">   10  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-11-2"  
class="td11"> Failed to get Turbine jobs status            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-12-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-12-1"  
class="td11">   11  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-12-2"  
class="td11"> Flowsheet thread terminated                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-13-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-13-1"  
class="td11">   20  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-13-2"  
class="td11"> Error in node script                                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-14-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-14-1"  
class="td11">   23  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-14-2"  
class="td11"> Could not convert Numpy value to list  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-15-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-15-1"  
class="td11">   27  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-15-2"  
class="td11"> Cannot read variable result (see log)     </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-16-"><td  style="white-space:nowrap; text-align:right;" id="TBL-10-16-1"  
class="td11">      </td></tr></table></div>
                                                                                         
                                                                                         
</div><hr class="endfloat" />
</div>
<a 
 id="x1-26003r37"></a>
<h3 class="sectionHead"><span class="titlemark">2.6.    </span> <a 
 id="x1-270006"></a>Tutorial &#8211; Example Files</h3>
<!--l. 3--><p class="noindent" >Many of the tutorials in this manual make use of example files provided in the FOQUS installation. This
tutorial helps the user find and copy the example files.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Locate the example files; they are in the FOQUS installation directory. If the Windows installer was
      used, the files can usually be found in one of two locations:
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">64-bit OS, C:<span 
class="cmsy-10x-x-120">\</span>Program Files (x86)<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>examples
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">32-bit OS, C:<span 
class="cmsy-10x-x-120">\</span>Program Files<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>examples</dd></dl>
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Copy the example files directory to a convenient location for use in other tutorials.</dd></dl>
<a 
 id="x1-27005r42"></a>
<h3 class="sectionHead"><span class="titlemark">2.7.    </span> <a 
 id="x1-280007"></a>Tutorial &#8211; Creating a Flowsheet</h3>
<!--l. 3--><p class="noindent" >This tutorial provides information about the basic use of FOQUS and setting up a very simple flowsheet.
A single node flowsheet will be created that performs a simple calculation using a square root so that
simulation errors can be observed when a negative input value is provided.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS (see Section <a 
href="#x1-120001">2.1<!--tex4ht:ref: sec.flowsheet.starting.foqus --></a>).
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">In the session form enter the <span class="underline"><span 
class="ptmb7t-x-x-120">Session Name</span></span> as &#8220;Simple_Flow&#8221; (Figure <a 
href="#x1-28003r14">14<!--tex4ht:ref: fig.session.name1 --></a>).</dd></dl>
<!--l. 10--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-28003r14"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 11--><p class="noindent" >
<!--l. 12--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/session_name1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;14: </span><span  
class="content">Setting the Session Name</span></div><!--tex4ht:label?: x1-28003r14 -->
</div>
                                                                                         
                                                                                         
<!--l. 16--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Set the session description.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Description</span></span> tab (Figure <a 
href="#x1-28007r15">15<!--tex4ht:ref: fig.session.description1 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Type the description shown in Figure <a 
href="#x1-28007r15">15<!--tex4ht:ref: fig.session.description1 --></a>. The buttons above the <span class="underline"><span 
class="ptmb7t-x-x-120">Description</span></span> tab box
           can be used to format the text.</dd></dl>
      </dd></dl>
<!--l. 27--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-28007r15"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 28--><p class="noindent" >
<!--l. 29--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/session_description1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;15: </span><span  
class="content">Setting the Session Description</span></div><!--tex4ht:label?: x1-28007r15 -->
</div>
                                                                                         
                                                                                         
<!--l. 33--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button at the top of the Home window (Figure <a 
href="#x1-28024r16">16<!--tex4ht:ref: fig.simple.flow1 --></a>).
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Add a node named &#8220;calc.&#8221;
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Add Node</span></span> button in the toolbar on the left side of the Home window.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Click a location on the gridded flowsheet area.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Enter the node name &#8220;calc&#8221; in the dialog box.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Select Mode</span></span> button in the toolbar.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Open the Node Editor by clicking the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> button in the toolbar.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Add input variables to the node. (When linking a node to an external simulation the input and output
      variables are populated automatically, and this step is not necessary.)
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">+</span></span> above the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Enter x1 in the variable <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> dialog box.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">+</span></span> above the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Enter x2 in the variable <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> dialog box.
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">Enter -2 and 2 for the <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> of x1 in the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table.
           </dd><dt class="enumerate-enumitem">
       (f) </dt><dd 
class="enumerate-enumitem">Enter -1 and 4 for the <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> of x2 in the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table.
           </dd><dt class="enumerate-enumitem">
       (g) </dt><dd 
class="enumerate-enumitem">Enter 1 for the value of x1.
           </dd><dt class="enumerate-enumitem">
       (h) </dt><dd 
class="enumerate-enumitem">Enter 4 for the value of x2.</dd></dl>
      </dd></dl>
<!--l. 60--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-28024r16"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 61--><p class="noindent" >
<!--l. 62--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/simple_flow_1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;16: </span><span  
class="content">Flowsheet, Input Variables</span></div><!--tex4ht:label?: x1-28024r16 -->
</div>
                                                                                         
                                                                                         
<!--l. 66--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Add an output variable to the node. (When linking a node to an external simulation the input and
      output variables are populated automatically.)
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> to show the <span class="underline"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> table (Figure <a 
href="#x1-28029r17">17<!--tex4ht:ref: fig.simple.flow2 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">+</span></span> above the <span class="underline"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> table to add a variable.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Enter z in the output <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> dialog box.</dd></dl>
      </dd></dl>
<!--l. 78--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-28029r17"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 79--><p class="noindent" >
<!--l. 80--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/simple_flow_2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;17: </span><span  
class="content">Flowsheet, Output Variables</span></div><!--tex4ht:label?: x1-28029r17 -->
</div>
                                                                                         
                                                                                         
<!--l. 84--><p class="noindent" ></div><hr class="endfigure">
<!--l. 86--><p class="noindent" >In this example, the node is not linked to any external simulation. The FOQUS nodes contain a section
called node script, which can be used to do calculations before, after or instead of a simulation linked to
the node. The node script can be used for things such as unit conversion, simple calculations, or
simulation convergence procedures. The node scripts are written as Python. The <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> are
contained in a dictionary named x and the <span class="underline"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> are contained in a dictionary named f. The
dictionary keys are the variables names shown in the input and output tables. Only <span class="underline"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> can
be modified by a node script.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Add a calculation to the node.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Script</span></span> tab (Figure <a 
href="#x1-28035r18">18<!--tex4ht:ref: fig.simple.flow3 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Enter the following code into the Python code box: <br 
class="newline" /><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-x-x-120">f['z']</span><span 
class="pcrr7t-x-x-120">&#x00A0;=</span><span 
class="pcrr7t-x-x-120">&#x00A0;x['x1']&#x22C6;math.sqrt(x['x2'])</span></span></span></dd></dl>
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Run</span></span> button (Figure <a 
href="#x1-28035r18">18<!--tex4ht:ref: fig.simple.flow3 --></a>).</dd></dl>
<!--l. 99--><p class="noindent" >The flowsheet should run successfully and the output value should be 2. Rerun the flowsheet with a
negative value for x2, and observe the result. The simulation should report an error.
<!--l. 101--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-28035r18"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 102--><p class="noindent" >
<!--l. 103--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/simple_flow_3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;18: </span><span  
class="content">Node Calculation</span></div><!--tex4ht:label?: x1-28035r18 -->
</div>
                                                                                         
                                                                                         
<!--l. 107--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Save the FOQUS session.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Session</span></span> drop-down menu at the top of the Home window (Figure <a 
href="#x1-28041r19">19<!--tex4ht:ref: fig.simple.flow.save --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Save</span></span>. The exact location of save in the menu depends on whether or not the data
           management framework is enabled.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Change Log</span></span> entry can be left blank.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">The default file name is the session name. Change the file name and location if desired.</dd></dl>
      </dd></dl>
<!--l. 120--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-28041r19"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 121--><p class="noindent" >
<!--l. 122--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/simple_flow_save.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;19: </span><span  
class="content">Save Session</span></div><!--tex4ht:label?: x1-28041r19 -->
</div>
                                                                                         
                                                                                         
<!--l. 126--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-28042r43"></a>
<h3 class="sectionHead"><span class="titlemark">2.8.    </span> <a 
 id="x1-290008"></a>Tutorial &#8211; Creating a Flowsheet with Linked Simulations</h3>
<!--l. 4--><p class="noindent" >This tutorial is referenced by other tutorials. <span 
class="ptmb7t-x-x-120">Save the flowsheet in a convenient location for future</span>
<span 
class="ptmb7t-x-x-120">use.</span>
<!--l. 6--><p class="noindent" >This tutorial demonstrates how to link simulations to nodes, and how to connect nodes in a flowsheet. Two
models are used: (1) a bubbling fluidized bed model in ACM and (2) a cost of electricity (COE) model in
Excel. The COE model estimates the cost of electricity for a 650 MW (net before adding capture)
supercritical pulverized coal power plant with solid sorbent post combustion CO<sub><span 
class="cmr-8">2</span></sub> capture process
added.
<!--l. 9--><p class="noindent" >Before starting the tutorial, see Section <a 
href="#x1-270006">2.6<!--tex4ht:ref: tutorial.example.files --></a> to locate and copy the example files to a convenient
location.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS. The Session window displays (Figure <a 
href="#x1-29006r20">20<!--tex4ht:ref: fig.tut.opt.session --></a>).
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Enter &#8220;BFB_opt&#8221; in <span class="textul"><span 
class="ptmb7t-x-x-120">Session Name</span></span> (without quotes).
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Description</span></span> tab. The problem description box displays and is shown in (Figure
      <a 
href="#x1-29007r21">21<!--tex4ht:ref: fig.tut.opt.description --></a>).
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">In  the  problem  description  box  enter  information  about  the  problem  being  solved  in  the
      FOQUS session; this information can be more extensive than what is shown in the example.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Save the session file. Click <span class="underline"><span 
class="ptmb7t-x-x-120">Save Session</span></span> from the <span class="underline"><span 
class="ptmb7t-x-x-120">Session</span></span> drop-down menu. Enter change
      log information and a file name when prompted. The <span class="underline"><span 
class="ptmb7t-x-x-120">Creation Time</span></span> in metadata page will
      be the time the session is first saved. The <span class="underline"><span 
class="ptmb7t-x-x-120">Modification Time</span></span> will be the last time the session
      was saved. The <span class="underline"><span 
class="ptmb7t-x-x-120">ID</span></span> is a unique identifier that changes each time the user saves the simulation.
      The <span class="underline"><span 
class="ptmb7t-x-x-120">Change Log</span></span> tab provides a record of the changes made each time the session is saved.</dd></dl>
<!--l. 19--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-29006r20"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 20--><p class="noindent" >
<!--l. 21--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/session.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;20: </span><span  
class="content">Session Setup</span></div><!--tex4ht:label?: x1-29006r20 -->
</div>
                                                                                         
                                                                                         
<!--l. 25--><p class="noindent" ></div><hr class="endfigure">
<!--l. 27--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-29007r21"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 28--><p class="noindent" >
<!--l. 29--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/description.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;21: </span><span  
class="content">Session Description</span></div><!--tex4ht:label?: x1-29007r21 -->
</div>
                                                                                         
                                                                                         
<!--l. 33--><p class="noindent" ></div><hr class="endfigure">
<!--l. 36--><p class="noindent" >There are two models needed for this optimization problem: (1) the ACM model for the BFB capture
system and (2) the Excel cost estimating spreadsheet. These models are provided in the example files
directory, under optimization/models (see Section <a 
href="#x1-270006">2.6<!--tex4ht:ref: tutorial.example.files --></a>). There are two SimSinter configuration files: (1)
BFB_sinter_config_v6.2.json for the process model and (2) BFB_cost_v6.2.3.json for the cost model. The
next step is to upload the models to Turbine.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Open the <span class="textul"><span 
class="ptmb7t-x-x-120">Add</span><span 
class="cmsy-10x-x-120">\</span><span 
class="ptmb7t-x-x-120">Update Model to Turbine</span></span> dialog box (Figure <a 
href="#x1-29014r22">22<!--tex4ht:ref: fig.tut.opt.menu.upload --></a>).
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">In  this  case,  the  SimSinter  configuration  files  have  already  been  created.  If  a  SimSinter
      configuration file needs to be created for the simulation, <span class="textul"><span 
class="ptmb7t-x-x-120">Create/Edit</span></span> displays the SimSinter
      configuration GUI (see Figure <a 
href="#x1-29015r23">23<!--tex4ht:ref: fig.tut.opt.upload --></a>). See the SimSinter documentation or Chapter <a 
href="#x1-1230009">9<!--tex4ht:ref: chapt.simsinter --></a> for more
      information.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Click  <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span>  to  select  a  SimSinter  configuration  file  (Figure  <a 
href="#x1-29015r23">23<!--tex4ht:ref: fig.tut.opt.upload --></a>).  Once  the  SimSinter
      configuration file is selected, the simulation file and sinterconfig file is automatically added
      to the files to upload. The application type is entered automatically. If there are additional
      files required for the simulation, those files can be added by clicking <span class="textul"><span 
class="ptmb7t-x-x-120">Add File</span></span>.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Enter the simulation name in <span class="textul"><span 
class="ptmb7t-x-x-120">Simulation Name</span></span>. This name is determined by the user, but
      will default to the SimSinter configuration file name. For this tutorial use BFB_v6_2.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Click OK to upload the simulation.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Repeat the upload process for the cost model. Name the model <br 
class="newline" />BFB_v6_2_Cost.</dd></dl>
<!--l. 47--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-29014r22"></a>
<div class="center" 
>
<!--l. 48--><p class="noindent" >
<!--l. 49--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/menu_upload.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;22: </span><span  
class="content">Open Upload to Turbine Dialog</span></div><!--tex4ht:label?: x1-29014r22 -->
</div>
<!--l. 53--><p class="noindent" ></div><hr class="endfigure">
<!--l. 54--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-29015r23"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 55--><p class="noindent" >
<!--l. 56--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/upload.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;23: </span><span  
class="content">Upload to Turbine Dialog</span></div><!--tex4ht:label?: x1-29015r23 -->
</div>
                                                                                         
                                                                                         
<!--l. 60--><p class="noindent" ></div><hr class="endfigure">
<!--l. 61--><p class="noindent" >The next step is to create the flowsheet. Figure <a 
href="#x1-29023r24">24<!--tex4ht:ref: fig.tut.opt.drawFlowsheet --></a> illustrates the steps to draw the flowsheet.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> at the top of the Home window.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add Node mode</span></span>.
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Add two nodes to the flowsheet. Name the first node &#8220;BFB&#8221; and the second node &#8220;cost&#8221;.
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add Edge mode</span></span>.
      </dd><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem">Click the BFB node followed by the cost node.
      </dd><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Selection mode</span></span> and select the BFB node.
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Toggle Node Editor</span></span>. The Node Editor displays as illustrated in Figure <a 
href="#x1-29028r25">25<!--tex4ht:ref: fig.tut.opt.nodeEditor --></a>.</dd></dl>
<!--l. 72--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-29023r24"></a>
<div class="center" 
>
<!--l. 73--><p class="noindent" >
<!--l. 74--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/flowsheetDraw.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;24: </span><span  
class="content">Flowsheet Editor</span></div><!--tex4ht:label?: x1-29023r24 -->
</div>
<!--l. 78--><p class="noindent" ></div><hr class="endfigure">
<!--l. 79--><p class="noindent" >Each node must be assigned the appropriate simulation. Use the Node Editor to set the simulation type
and the simulation name from simulation uploaded to Turbine. The Node Editor is illustrated in Figure
<a 
href="#x1-29028r25">25<!--tex4ht:ref: fig.tut.opt.nodeEditor --></a>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  19. </dt><dd 
class="enumerate-enumitem">Under  <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span>  and  <span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span>,  set  the  simulation  <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span>  to  Turbine.  This  indicates  that  the
      simulation is to be run with Turbine.
      </dd><dt class="enumerate-enumitem">
  20. </dt><dd 
class="enumerate-enumitem">Under <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span>, set the simulation of the BFB node to BFB_v6_2.
      </dd><dt class="enumerate-enumitem">
  21. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Variables</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Settings</span></span> are automatically populated from the SimSinter configuration
      file. Variable values, <span class="underline"></span>Min/Max, and descriptions can be changed; however, for this problem,
      the values taken from the SimSinter configuration should not be changed.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  22. </dt><dd 
class="enumerate-enumitem">Repeat the process for the cost node, assigning it the BFB_v6_2_cost simulation.</dd></dl>
<!--l. 87--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-29028r25"></a>
<div class="center" 
>
<!--l. 88--><p class="noindent" >
<!--l. 89--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/nodeEditor.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;25: </span><span  
class="content">Node Editor</span></div><!--tex4ht:label?: x1-29028r25 -->
</div>
<!--l. 93--><p class="noindent" ></div><hr class="endfigure">
<!--l. 94--><p class="noindent" >The connections between variables in the BFB simulation and the cost estimation spreadsheet must
be set, so that required information can be transferred from the BFB simulation to the cost
simulation.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  23. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Toggle Node Editor</span></span> to hide the Node Editor (Figure <a 
href="#x1-29023r24">24<!--tex4ht:ref: fig.tut.opt.drawFlowsheet --></a>).
      </dd><dt class="enumerate-enumitem">
  24. </dt><dd 
class="enumerate-enumitem">Select the edge on the flowsheet with the <span class="textul"><span 
class="ptmb7t-x-x-120">Selection</span></span> tool.
      </dd><dt class="enumerate-enumitem">
  25. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Toggle Edge Editor</span></span> to show the Edge Editor. The Edge Editor is shown in Figure <a 
href="#x1-29033r26">26<!--tex4ht:ref: fig.tut.opt.edgeEditor --></a>.
      </dd><dt class="enumerate-enumitem">
  26. </dt><dd 
class="enumerate-enumitem">For convenience, all of the variables that should be connected from the ACM model to the
      Excel spreadsheet have been given the same names in their SimSinter configuration files. To
      connect the variables click <span class="textul"><span 
class="ptmb7t-x-x-120">Auto</span></span> in the Edge Editor. <span class="textul"><span 
class="ptmb7t-x-x-120">Auto</span></span> connects variables of the same
      name. Since this is often not desired, the <span class="textul"><span 
class="ptmb7t-x-x-120">Auto</span></span> button should be used carefully. There should
      be 46 connected variables.</dd></dl>
<!--l. 104--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-29033r26"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 105--><p class="noindent" >
<!--l. 106--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/edgeEditor.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;26: </span><span  
class="content">Edge Editor</span></div><!--tex4ht:label?: x1-29033r26 -->
</div>
                                                                                         
                                                                                         
<!--l. 110--><p class="noindent" ></div><hr class="endfigure">
<!--l. 112--><p class="noindent" >The flowsheet should now be ready to run. Test the flowsheet by executing a single evaluation before
setting up the optimization problem.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  27. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> in the Flowsheet Editor (Figure <a 
href="#x1-29023r24">24<!--tex4ht:ref: fig.tut.opt.drawFlowsheet --></a>).
      </dd><dt class="enumerate-enumitem">
  28. </dt><dd 
class="enumerate-enumitem">The flowsheet may take a few minutes to run. The BFB simulation takes a significant amount
      of time to open in ACM. While running optimization, the evaluations take less time because
      the simulation remains opened. The simulation should complete successfully. A message
      box displays when the simulation is done. The status bar also indicates the simulation is
      running.
      </dd><dt class="enumerate-enumitem">
  29. </dt><dd 
class="enumerate-enumitem">While the simulation is running, <span class="textul"><span 
class="ptmb7t-x-x-120">Stop</span></span> is enabled.
      </dd><dt class="enumerate-enumitem">
  30. </dt><dd 
class="enumerate-enumitem">Once the simulation runs successfully, <span class="underline"><span 
class="ptmb7t-x-x-120">Save</span></span> the FOQUS session again, and <span 
class="ptmb7t-x-x-120">keep it for use</span>
      <span 
class="ptmb7t-x-x-120">in later tutorials</span>.</dd></dl>
<a 
 id="x1-29038r50"></a>
<h3 class="sectionHead"><span class="titlemark">2.9.    </span> <a 
 id="x1-300009"></a>Tutorial &#8211; Flowsheets with Recycle</h3>
<!--l. 3--><p class="noindent" >This section provides a tutorial on working with flowsheets containing recycle. Sections <a 
href="#x1-280007">2.7<!--tex4ht:ref: tutorial.simple.flow --></a> and
<a 
href="#x1-290008">2.8<!--tex4ht:ref: tutorial.sim.flowsheet --></a> provide tutorials for creating flowsheets, in this section a pre-constructed flowsheet is
used.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">From  the  example  files,  copy  the  Recycle<span 
class="cmsy-10x-x-120">\</span>Mass_Bal_Test_02.foqus  example  file  to  a
      convenient location (see Section <a 
href="#x1-270006">2.6<!--tex4ht:ref: tutorial.example.files --></a>).
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Open FOQUS.</dd></dl>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Open the Mass_Bal_Test_02.foqus file.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Open the <span class="underline"><span 
class="ptmb7t-x-x-120">Session</span></span> drop-down menu on the right side of the <span class="underline"><span 
class="ptmb7t-x-x-120">Session</span></span> button (Figure <a 
href="#x1-30008r27">27<!--tex4ht:ref: fig.recycle.tut1 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Select <span class="textul"><span 
class="ptmb7t-x-x-120">Open Session</span></span> from the drop-down menu.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Locate Mass_Bal_Test_02.foqus in the file browser, and open it.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button from the toolbar at the top of the Home window.</dd></dl>
                                                                                         
                                                                                         
<!--l. 21--><p class="noindent" >The flowsheet is shown in Figure <a 
href="#x1-30008r27">27<!--tex4ht:ref: fig.recycle.tut1 --></a>. The flowsheet consists of two reactors in recycle loops. The
flowsheet contains mixers, reactors, separators, and splitters. Each node uses a set of simple calculations
in the node script section. The tear edges are shown in light blue.
<!--l. 23--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-30008r27"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 24--><p class="noindent" >
<!--l. 25--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/recycle_tut1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;27: </span><span  
class="content">Flowsheet with Recycle</span></div><!--tex4ht:label?: x1-30008r27 -->
</div>
                                                                                         
                                                                                         
<!--l. 29--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Inspect a node.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Make sure the Selection tool is selected (Figure <a 
href="#x1-30017r28">28<!--tex4ht:ref: fig.recycle.tut2 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Open  the  Node  Editor  by  clicking  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Node  Edit</span></span>  button  in  the  left  toolbar  in  the
           Flowsheet view.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Click the &#8220;React_01&#8221; node.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table. Note: Some input rows are colored red. This denotes that
           their values are set by output of the previous flowsheet node by the edge connecting
           &#8220;Mix_01&#8221; to &#8220;React_01.&#8221;
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Script</span></span> tab.
           </dd><dt class="enumerate-enumitem">
       (f) </dt><dd 
class="enumerate-enumitem">Note  the  equations.  <span class="underline"><span 
class="ptmb7t-x-x-120">Input  Variables</span></span>  are  stored  in  the  x  dictionary  and  <span class="underline"><span 
class="ptmb7t-x-x-120">Output</span>
           <span 
class="ptmb7t-x-x-120">Variables</span></span> are stored in the f dictionary.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click the gear icon in the left toolbar (see Figure <a 
href="#x1-30017r28">28<!--tex4ht:ref: fig.recycle.tut2 --></a>). The tear solver settings are shown in Figure
      <a 
href="#x1-30018r29">29<!--tex4ht:ref: fig.tear.settings --></a>.</dd></dl>
<!--l. 45--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-30017r28"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 46--><p class="noindent" >
<!--l. 47--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/recycle_tut2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;28: </span><span  
class="content">React_01 Node</span></div><!--tex4ht:label?: x1-30017r28 -->
</div>
                                                                                         
                                                                                         
<!--l. 51--><p class="noindent" ></div><hr class="endfigure">
<!--l. 53--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-30018r29"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 54--><p class="noindent" >
<!--l. 55--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/tear_solver_settings.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;29: </span><span  
class="content">Tear Solver Settings</span></div><!--tex4ht:label?: x1-30018r29 -->
</div>
                                                                                         
                                                                                         
<!--l. 59--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Remove the tear edges.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Close the Node Editor.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Open the Edge Editor. Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Edge Editor</span></span> icon in the left toolbar (see Figure <a 
href="#x1-30026r30">30<!--tex4ht:ref: fig.recycle.tut3 --></a>).
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Click the edge between &#8220;React_01&#8221; and &#8220;Sep_01.&#8221;
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">In the Edge Editor, clear the <span class="textul"><span 
class="ptmb7t-x-x-120">Tear</span></span> checkbox.
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">Repeat for the other tear edge.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Close the Edge Editor.</dd></dl>
<!--l. 76--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-30026r30"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 77--><p class="noindent" >
<!--l. 78--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/recycle_tut3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;30: </span><span  
class="content">Edge Edit</span></div><!--tex4ht:label?: x1-30026r30 -->
</div>
                                                                                         
                                                                                         
<!--l. 82--><p class="noindent" ></div><hr class="endfigure">
<!--l. 84--><p class="noindent" >There should now be no tear edges in the flowsheet. The user can select tear edges or FOQUS can
automatically select a set. If there is not a valid set of tear edges marked when a flowsheet is run, tear
edges will automatically be selected.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Automatically select a tear edge set by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Tear</span></span> icon in the left toolbar (see Figure
      <a 
href="#x1-30026r30">30<!--tex4ht:ref: fig.recycle.tut3 --></a>).
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Open the Node Editor and look at node &#8220;Sep_01.&#8221; In the Input Variables table, notice that
      some of the input lines are colored yellow. The yellow inputs serve as initial guesses for the
      tear solver. The final value will be different from the initial value.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Run</span></span> button on the left toolbar. The flowsheet should solve quickly.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">The results of the completed run are in the flowsheet. An entry will also be created in the
      Flowsheet Results data table (see Section <a 
href="#x1-3100010">2.10<!--tex4ht:ref: tutorials.fs.data --></a>).</dd></dl>
<a 
 id="x1-30031r58"></a>
<h3 class="sectionHead"><span class="titlemark">2.10.    </span> <a 
 id="x1-3100010"></a>Tutorial &#8211; Flowsheet Result Data</h3>
<!--l. 3--><p class="noindent" >Flowsheet evaluation results are stored in a table in the FOQUS session. This data can be used for many
purposes. The flowsheet evaluations may be single runs, part of an optimization problem, or part
of a UQ ensemble. This tutorial provide information about sorting, filtering, and exporting
data.
<!--l. 5--><p class="noindent" >Copy the Data<span 
class="cmsy-10x-x-120">\</span>Simple_flow.foqus file from the example files to a convenient location (see section <a 
href="#x1-270006">2.6<!--tex4ht:ref: tutorial.example.files --></a>).
This file is similar to the one created in the tutorial Section <a 
href="#x1-280007">2.7<!--tex4ht:ref: tutorial.simple.flow --></a>, but it has been run an additional 100 times
using a UQ ensemble (see Chapter <a 
href="#x1-470004">4<!--tex4ht:ref: chpt.uq --></a>).
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Open the Simple_flow.foqus session from the example files.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button from the Home window.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet Data</span></span> in the toolbar on the left side of the Home window (Figure <a 
href="#x1-31005r31">31<!--tex4ht:ref: fig.data.table1 --></a>).</dd></dl>
<!--l. 14--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-31005r31"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 15--><p class="noindent" >
<!--l. 16--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/data_table_1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;31: </span><span  
class="content">Flowsheet Results Data Table, All Data</span></div><!--tex4ht:label?: x1-31005r31 -->
</div>
                                                                                         
                                                                                         
<!--l. 20--><p class="noindent" ></div><hr class="endfigure">
<!--l. 22--><p class="noindent" >A data table should be displayed like the one shown in Figure <a 
href="#x1-31005r31">31<!--tex4ht:ref: fig.data.table1 --></a>. There are 102 flowsheet
evaluations. The first two evaluations are single runs, as can be seen in the <span class="underline"><span 
class="ptmb7t-x-x-120">SetName</span></span> column, and
the remaining 100 evaluation are from a UQ ensemble. The <span class="underline"><span 
class="ptmb7t-x-x-120">Error</span></span> column shows several of
the evaluations resulted in an error from a negative number being passed to the square root
function.
<!--l. 24--><p class="noindent" >This tutorial is broken up into mini-tutorials in the remaining subsections, which can be done
independently. They each use the example data file described above.
<a 
 id="x1-31006r39"></a>
<h4 class="subsectionHead"><span class="titlemark">2.10.1.    </span> <a 
 id="x1-320001"></a>Sorting Data</h4>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Open the Simple_flow.foqus session from the example files.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> in the main toolbar at the top of the FOQUS Home window.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet Data</span></span> in the toolbar on the left side of the Home window (Figure <a 
href="#x1-31005r31">31<!--tex4ht:ref: fig.data.table1 --></a>).
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Edit Filters</span></span> (Figure <a 
href="#x1-31005r31">31<!--tex4ht:ref: fig.data.table1 --></a>).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">New Filter</span></span>.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Enter &#8220;Sort1&#8221; as the new filter name.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">New Filter</span></span>.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Enter &#8220;Sort2&#8221; as the new filter name.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Select &#8220;Sort1&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Filter</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Sort Data</span></span> checkbox.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Enter <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-x-x-120">["-result"]</span></span></span> as the <span 
class="ptmb7t-x-x-120">Sort Term</span><span class="underline"></span>. Include the square brackets. The square brackets
      indicate that there is a list of sort terms, although in this case there is only one. If multiple
      search terms are given, the additional terms will be used to sort results having the same value
      for the previous terms. The &#8220;-&#8221; in front of <span class="underline"><span 
class="ptmb7t-x-x-120">result</span></span> indicates the results should be sorted in
      reverse. The names of the sort terms come from the column headings, and are case sensitive.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Done</span></span> to save the filters and return to the results table.</dd></dl>
<!--l. 44--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-32014r32"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 45--><p class="noindent" >
<!--l. 46--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/filter_1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;32: </span><span  
class="content">Sort1 Data Filter</span></div><!--tex4ht:label?: x1-32014r32 -->
</div>
                                                                                         
                                                                                         
<!--l. 50--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Select &#8220;Sort1&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Current Filter</span></span> drop-down list (Figure <a 
href="#x1-32017r33">33<!--tex4ht:ref: fig.filter.1.result --></a>).
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem">The results are shown in Figure <a 
href="#x1-32017r33">33<!--tex4ht:ref: fig.filter.1.result --></a>. The data should be sorted in reverse alphabetical order
      by <span class="underline"><span 
class="ptmb7t-x-x-120">result</span></span>. Some of the columns are hidden to make the relevant results easier to see.</dd></dl>
<!--l. 58--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-32017r33"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 59--><p class="noindent" >
<!--l. 60--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/filter_1_result.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;33: </span><span  
class="content">Sort1 Data Filter Results</span></div><!--tex4ht:label?: x1-32017r33 -->
</div>
                                                                                         
                                                                                         
<!--l. 64--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Edit Filters</span></span> (Figure <a 
href="#x1-32017r33">33<!--tex4ht:ref: fig.filter.1.result --></a>). The dialog box in Figure <a 
href="#x1-32023r34">34<!--tex4ht:ref: fig.filter.2 --></a> should display.
      </dd><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem">Select &#8220;Sort2&#8221; from <span class="textul"><span 
class="ptmb7t-x-x-120">Filter</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Select the &#8220;Sort Data&#8221; checkbox.
      </dd><dt class="enumerate-enumitem">
  19. </dt><dd 
class="enumerate-enumitem">Enter <span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-x-x-120">["Error",</span><span 
class="pcrr7t-x-x-120">&#x00A0;"-result"]</span></span></span> in the <span class="textul"><span 
class="ptmb7t-x-x-120">Sort Term</span></span> field. This will sort the data first by
      <span class="underline"><span 
class="ptmb7t-x-x-120">Error</span></span> code then by <span class="underline"><span 
class="ptmb7t-x-x-120">result</span></span> in reverse alphabetical order.
      </dd><dt class="enumerate-enumitem">
  20. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Done</span></span>.</dd></dl>
<!--l. 75--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-32023r34"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 76--><p class="noindent" >
<!--l. 77--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/filter_2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;34: </span><span  
class="content">Sort2 Data Filter</span></div><!--tex4ht:label?: x1-32023r34 -->
</div>
                                                                                         
                                                                                         
<!--l. 81--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  21. </dt><dd 
class="enumerate-enumitem">Select &#8220;Sort2&#8221; in the <span class="textul"><span 
class="ptmb7t-x-x-120">Current Filter</span></span> drop-down list (Figure <a 
href="#x1-32026r35">35<!--tex4ht:ref: fig.filter.2.result --></a>).
      </dd><dt class="enumerate-enumitem">
  22. </dt><dd 
class="enumerate-enumitem">The results are shown in Figure <a 
href="#x1-32026r35">35<!--tex4ht:ref: fig.filter.2.result --></a>. The data should be sorted so all <span class="underline"><span 
class="ptmb7t-x-x-120">Error</span></span> code zero results
      are first then sorted in reverse alphabetical order by <span class="underline"><span 
class="ptmb7t-x-x-120">result</span></span>.</dd></dl>
<!--l. 89--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-32026r35"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 90--><p class="noindent" >
<!--l. 91--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/filter_2_result.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;35: </span><span  
class="content">Sort2 Data Filter Result</span></div><!--tex4ht:label?: x1-32026r35 -->
</div>
                                                                                         
                                                                                         
<!--l. 95--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-32027r65"></a>
<h4 class="subsectionHead"><span class="titlemark">2.10.2.    </span> <a 
 id="x1-330002"></a>Filtering Data</h4>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Open the Simple_flow.foqus session from the example files.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button in the Home window.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click the Results Data button (Table icon in left toolbar).
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">In the data table dialog, click <span class="textul"><span 
class="ptmb7t-x-x-120">Edit Filters</span></span>.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">New Filter</span></span> and enter &#8220;Filter1&#8221; in the <span class="underline"><span 
class="ptmb7t-x-x-120">Filter</span></span> field as the new filter name.</dd></dl>
<!--l. 108--><p class="noindent" >The completed filter settings are shown in Figure <a 
href="#x1-33011r36">36<!--tex4ht:ref: fig.filter.3 --></a>. The buttons along the bottom of the filter
editor dialog are used to add, delete, and change the order of rules and operations. Rules are
conditions that are placed on data to be displayed. Operations are used to modify or combine
rules. FOQUS uses reverse polish notation for the order of operations. The example filter in <a 
href="#x1-33011r36">36<!--tex4ht:ref: fig.filter.3 --></a>
is equivalent to (Error = 0 AND SetName <span 
class="cmsy-10x-x-120">&#x2208;{</span>UQ_Ensemble, Single_runs<span 
class="cmsy-10x-x-120">}</span>) OR Index <span 
class="cmmi-12">&#x003C;</span>
3.
<!--l. 110--><p class="noindent" >The filter terms can be numbers, strings, lists of numbers, lists of strings or column headings. When
entering column headings as search terms, do not enclose the column heading in quotes. This
distinguishes column heading names from strings. The other types of terms are in JSON format. Strings
are enclosed in double quotes, numbers have no quotes, and lists are enclosed in square brackets with
elements separated by commas.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add Rule</span></span> three times.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add Operation</span></span> two times.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Fill out the rule and operation rows as shown in Figure <a 
href="#x1-33011r36">36<!--tex4ht:ref: fig.filter.3 --></a>.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Done</span></span>.</dd></dl>
<!--l. 120--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-33011r36"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 121--><p class="noindent" >
<!--l. 122--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/filter_3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;36: </span><span  
class="content">Filter1 Data Filter</span></div><!--tex4ht:label?: x1-33011r36 -->
</div>
                                                                                         
                                                                                         
<!--l. 126--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">In the data table dialog, select &#8220;Filter1&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Current Filter</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">The result is displayed in Figure <a 
href="#x1-33014r37">37<!--tex4ht:ref: fig.filter.3.result --></a>.</dd></dl>
<!--l. 134--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-33014r37"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 135--><p class="noindent" >
<!--l. 136--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/filter_3_result.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;37: </span><span  
class="content">Filter1 Data Filter Result</span></div><!--tex4ht:label?: x1-33014r37 -->
</div>
                                                                                         
                                                                                         
<!--l. 140--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-33015r70"></a>
<h4 class="subsectionHead"><span class="titlemark">2.10.3.    </span> <a 
 id="x1-340003"></a>Exporting Data</h4>
<!--l. 144--><p class="noindent" >This tutorial uses a spreadsheet program such as Excel or Open Office. The exported data is subject to the
selected filter. See the previous tutorials in this section for more information about sorting and filtering
data to be exported.
<h5 class="subsubsectionHead"><a 
 id="x1-350003"></a>Clipboard</h5>
<!--l. 148--><p class="noindent" >FOQUS can export data directly to the Clipboard. The data can be pasted into a spreadsheet or as
text. Copying data to the Clipboard eliminates the need for an intermediate file when creating
spreadsheets.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Open a spreadsheet program.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Open the Simple_flow.foqus session from the example files.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button in the Home window.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click the Results Data button (Table icon in left toolbar).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click on the <span class="textul"><span 
class="ptmb7t-x-x-120">Menu</span></span> drop-down list in the data table dialog.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Select &#8220;Export&#8221; from the <span class="underline"><span 
class="ptmb7t-x-x-120">Menu</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Copy Data to Clipboard</span></span>.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Select Paste in the spreadsheet program. The data table in FOQUS should paste into the
      spreadsheet. Filters can be used to sort or reduce the exported data.</dd></dl>
<h5 class="subsubsectionHead"><a 
 id="x1-360003"></a>CSV File</h5>
<!--l. 164--><p class="noindent" >CSV (comma separated value) files can be read by almost any spreadsheet program, and are common
formats readable by many types of software. FOQUS exports CSV files using the column headings from
the data table as a header.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Open a spreadsheet program.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Open the Simple_flow.foqus session from the example files.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button in the Home window.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click the Results Data button (Table icon in left toolbar).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Menu</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Select &#8220;Export&#8221; from the <span class="underline"><span 
class="ptmb7t-x-x-120">Menu</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Export to CSV File</span></span>.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Enter a file name in the file dialog.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">In the spreadsheet program, open the CSV file exported in the previous step.</dd></dl>
<a 
 id="x1-36011r63"></a>
<h3 class="sectionHead"><span class="titlemark">2.11.    </span> <a 
 id="x1-3700011"></a>Tutorial &#8211; Using a Remote Turbine Instance</h3>
<!--l. 3--><p class="noindent" >A remote Turbine instance may be used instead of TurbineLite. TurbineLite, used by default,
runs simulations (e.g., Aspen Plus) on the user&#8217;s local machine. The remote Turbine gateway
has several potential advantages over TurbineLite, while the main disadvantage is the effort
required for installation and configuration. Some reasons to run a remote Turbine instance
are:
      <ul class="itemize1">
      <li class="itemize">Simulations  can  be  run  in  parallel.  The  Turbine  gateway  can  distribute  simulations  to
      multiple  machines  configured  to  run  FOQUS  flowsheet  consumers.  FOQUS  consumers
      are basically additional instances of FOQUS running on remote systems which can run a
      FOQUS flowsheet.
      </li>
      <li class="itemize">Simulations  can  be  run  on  machines  other  than  the  user&#8217;s,  so  as  not  to  tie-up  the  user&#8217;s
      machine running simulations.</li></ul>
<!--l. 9--><p class="noindent" >The steps below demonstrate how to set up FOQUS to run flowsheets remotely (see Figure
<a 
href="#x1-37014r39">39<!--tex4ht:ref: fig.remote.settings --></a>).
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Obtain a user name, password, and URL from the site&#8217;s Turbine administrator.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Settings</span></span> at the top right of the Home window (Figure <a 
href="#x1-37006r38">38<!--tex4ht:ref: fig.remote.settings1 --></a>).
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select &#8220;Remote&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">FOQUS Flowsheet Run Method</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine</span></span> tab; this displays the Turbine settings shown in Figure <a 
href="#x1-37014r39">39<!--tex4ht:ref: fig.remote.settings --></a>.</dd></dl>
<!--l. 19--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-37006r38"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 20--><p class="noindent" >
<!--l. 21--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/settings_turbine_01.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;38: </span><span  
class="content">Run Method Settings</span></div><!--tex4ht:label?: x1-37006r38 -->
</div>
                                                                                         
                                                                                         
<!--l. 25--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Create a Turbine configuration file; this contains your password in plain text, so it is very important
      that if you are allowed to choose your own password, you choose one that is not used for any other
      purpose.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click  <span class="textul"><span 
class="ptmb7t-x-x-120">New/Edit</span></span>  next  to  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Turbine  Configuration  (remote)</span></span>  field.  The  Turbine
           Configuration window displays (see Figure <a 
href="#x1-37014r39">39<!--tex4ht:ref: fig.remote.settings --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Select  &#8220;Cluster/Cloud&#8221;  from  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine  Gateway  Version</span></span>  drop-down  list  in  the
           Turbine Configuration window.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Enter the Turbine URL in the <span class="underline"><span 
class="ptmb7t-x-x-120">Address</span></span> field.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Enter the <span class="underline"><span 
class="ptmb7t-x-x-120">User</span></span> name and <span class="underline"><span 
class="ptmb7t-x-x-120">Password</span></span>.
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Save as</span></span> and enter a new file name.
           </dd><dt class="enumerate-enumitem">
       (f) </dt><dd 
class="enumerate-enumitem">Set  the  remote  Turbine  configuration  file.   Click  <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span>  next  to  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine</span>
           <span 
class="ptmb7t-x-x-120">Configuration (remote)</span></span> field. Select the file created in Step 6e.</dd></dl>
      </dd></dl>
<!--l. 40--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-37014r39"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 41--><p class="noindent" >
<!--l. 42--><p class="noindent" ><img 
src="Chapt_flowsheet/figs/remoteSetting.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;39: </span><span  
class="content">Remote Turbine Settings</span></div><!--tex4ht:label?: x1-37014r39 -->
</div>
                                                                                         
                                                                                         
<!--l. 46--><p class="noindent" ></div><hr class="endfigure">
<!--l. 48--><p class="noindent" >At this point the remote gateway is ready to use. The last step is to ensure that all simulations referenced
by flowsheets to be run are uploaded to the remote Turbine gateway.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Upload any necessary simulations to Turbine (see Section <a 
href="#x1-160003">2.2.3<!--tex4ht:ref: overview.turbine.upload --></a> and the tutorial in Section
      <a 
href="#x1-290008">2.8<!--tex4ht:ref: tutorial.sim.flowsheet --></a>)</dd></dl>
<!--l. 55--><p class="noindent" >Once all settings are specified there is no apparent difference between running flowsheets
locally or on a remote Turbine gateway, and FOQUS can readily be switched between the
two.
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;3</span><br /><a 
 id="x1-380003"></a>Optimization</h2>
<!--l. 1--><p class="noindent" >The simulation based optimization tool provides a plug-in system where different derivative free
optimization (DFO) solvers can be used with FOQUS. Several solvers are provided with FOQUS. The
CMA-ES solver [<a 
href="#XHansen_2006">7</a>] is a good global derivative free optimization (DFO) solver. The NLopt library
provides access to several DFO solvers [<a 
href="#XJohnson_2015">8</a>]. SLSQP and BFGS from the Scipy module are also provided
[<a 
href="#XScipy_2015">9</a>]. Since FOQUS does not generally have access to derivative information the Scipy solvers rely on finite
difference approximations, and should only be used with well-behaved functions. Due to convergence
tolerances in process simulators, finite difference approximations may not be good for many of FOQUS&#8217;s
intended applications.
<!--l. 3--><p class="noindent" >CMA-ES offers a restart feature, which can be used to resume an optimization if it is interrupted for any
reason. Other solvers may use an auto-save feature, which does not provide the ability to restart, but will
allow optimization to start from the best solution found up to the point the optimization was interrupted.
Samples making up the population in CMA-ES can be run in parallel. The NLopt and Scipy plugins do
not offer parallel computing for standard optimization. For any solver, parallel computation can be used
for parameter estimation and optimization under uncertainty, where multiple flowsheet evaluations go into
an objective function calculation.
<a 
 id="x1-38001r76"></a>
<h3 class="sectionHead"><span class="titlemark">3.1.    </span> <a 
 id="x1-390001"></a>Problem Set Up</h3>
<!--l. 7--><p class="noindent" >See Chapter <a 
href="#x1-110002">2<!--tex4ht:ref: chpt.flowsheet --></a> for information about setting up a flowsheet in FOQUS. Once the flowsheet has been set up
and tested, an optimization problem can be added. FOQUS allows multiple flowsheet evaluations to be
used to calculate a single objective function value. This allows FOQUS to do parameter estimation and
scenario based optimization under uncertainty. There are three types of variables used in the optimization
problem: (1) fixed variables do not change during the optimization, (2) decision variables are
modified by the optimization algorithm to find the best value of the objective function, and (3)
sample variables, which are used to construct the multiple flowsheet evaluations that can go into
an objective calculation. If no sample variables are defined, each objective function value
will be based on a single flowsheet evaluation. Figure <a 
href="#x1-39001r40">40<!--tex4ht:ref: fig.opt.problem.variables --></a> shows the <span class="underline"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab selection
form.
<!--l. 9--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-39001r40"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 10--><p class="noindent" >
<!--l. 11--><p class="noindent" ><img 
src="Chapt_optimization/figs/opt_problem_variables.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;40: </span><span  
class="content">Optimization Variable Selection</span></div><!--tex4ht:label?: x1-39001r40 -->
</div>
                                                                                         
                                                                                         
<!--l. 15--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab contains the form for variables selection.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Variable</span></span> column shows the name of input variables in the flowsheet. If a variable is set
      by a connection to another variable through an edge, it is not shown in the table. The format
      for a variable name is <span 
class="cmsy-10x-x-120">{</span>Node Name<span 
class="cmsy-10x-x-120">}</span>.<span 
class="cmsy-10x-x-120">{</span>Variable Name<span 
class="cmsy-10x-x-120">}</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span> column allows the variables to be assigned as one of three types (1) fixed, (2)
      decision, or (3) sample.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Scale</span></span> column allows the scaling method to be set for each variable. Decision variables
      must be scaled. Scaling is ignored for other variables. In the FOQUS example files, there
      is a scaling spreadsheet that provides a demonstration of the different scaling methods. The
      upper and lower bound are used in the scaling calculations. Regardless of the scaling method,
      the optimizer sees the decision variables as running from 0 at their minimum to 10 at their
      maximum.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> columns are used to define the upper and lower bounds for the variables.
      FOQUS requires that all optimization problems be bounded.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span> column provides the starting point for the optimization. How the starting point
      is  used  depends  on  the  optimization  method.  The  starting  point  for  sample  variables  is
      irrelevant. Fixed variables will remain at their starting point during the optimization.</dd></dl>
<!--l. 26--><p class="noindent" >The sample variables define a set of samples that will be used to calculate an objective function. For each
objective function, the decision variables are fixed at values set by the optimization solver, and the
flowsheet is evaluated for each row on the sample table. The results of the samples can be used to
calculate the objective function. Using the <span class="underline"><span 
class="ptmb7t-x-x-120">Samples</span></span> tab is optional. If no sample variables are set, each
objective function value will be based on a single simulation. Figure <a 
href="#x1-39008r41">41<!--tex4ht:ref: fig.opt.problem.samples --></a> shows the Samples table
form.
<!--l. 28--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-39008r41"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 29--><p class="noindent" >
<!--l. 30--><p class="noindent" ><img 
src="Chapt_optimization/figs/opt_problem_samples.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;41: </span><span  
class="content">Optimization Sample Table</span></div><!--tex4ht:label?: x1-39008r41 -->
</div>
                                                                                         
                                                                                         
<!--l. 34--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The  <span class="textul"><span 
class="ptmb7t-x-x-120">Samples</span></span>  tab  contains  the  table  used  to  define  samples  for  objective  function
      calculations. If there are no sample variables, the table should be empty.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add Sample</span></span> adds a row to the Samples table.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Delete Samples</span></span> deletes the selected rows from the Samples table.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Generate  Samples</span></span>  opens  a  dialog  box  that  provides  a  selection  of  methods  to  generate
      samples or read samples from a file.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Clear Samples</span></span> clears the Samples table.</dd></dl>
<!--l. 44--><p class="noindent" >Once the variables and (optionally) samples have been selected, the objective function and constraints can
be defined. FOQUS is set up to handle multi-objective optimization, but no multi-objective
optimization plug-ins are currently provided in the FOQUS installer, so some of the options
may seem to be extraneous. There are two methods for entering the objective function and
constraints into FOQUS: (1) Simple Python expressions and (2) a more extensive Python
function. Python expressions are easier and sufficient for most cases. If the objective function
is complicated it may be necessary to write a Python function, which can be as complex as
needed.
<!--l. 46--><p class="noindent" >The variables used in the Python code for the objective function or constraints are stored in two Python
dictionaries, &#8220;f&#8221; for outputs and &#8220;x&#8221; for inputs. There are two ways to index the dictionaries depending on
whether or not sample variables are used. For an input variable with sampling, the indexing is <span 
class="pcrr7t-x-x-120">x[Sample</span>
<span 
class="pcrr7t-x-x-120">Index]['Node Name']['Variable Name'][Time Step Index]</span>. If no sample variables
are defined, the sample index is not needed, so the indexing would be, <span 
class="pcrr7t-x-x-120">x['Node Name']['Variable</span>
<span 
class="pcrr7t-x-x-120">Name'][Time Step]</span>. Node Name and Variable Name are strings so they should be in quotes. The
sample and time step indexes are integers. For steady state simulations, the time step should be
0.
<!--l. 48--><p class="noindent" >Figure <a 
href="#x1-39014r42">42<!--tex4ht:ref: fig.opt.problem.objective1 --></a> shows the form for entering the objective function and constraints as Python expressions.
<!--l. 50--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-39014r42"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 51--><p class="noindent" >
<!--l. 52--><p class="noindent" ><img 
src="Chapt_optimization/figs/opt_problem_objective1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;42: </span><span  
class="content">Optimization Simple Objective Function</span></div><!--tex4ht:label?: x1-39014r42 -->
</div>
                                                                                         
                                                                                         
<!--l. 56--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Objective/Constraints</span></span> tab contains the form used to enter the objective function and
      constraints.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The  drop-down  list  enables  the  selection  of  either  the  &#8220;Simple  Python  Expression&#8221;  or
      &#8220;Custom Python&#8221; form of the objective function.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">+</span></span> adds an objective function to the table. The solvers currently available are single objective
      and will only use the first objective function.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">-</span></span> removes the selected objective from the table.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">The Python expression for the objective function can be entered in the <span class="underline"><span 
class="ptmb7t-x-x-120">Expression</span></span> column.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Penalty Scale</span></span> column is intended for use with multi-objective solvers and allows the
      constraint violation penalty to be applied differently to objective functions with different
      magnitudes.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Value for Failure</span></span> column contains the value to be assigned to the objective function
      if the objective cannot be evaluated for any reason. The value should be higher than the
      expected highest value for a successful objective.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">+</span></span> adds an inequality constraint.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">-</span></span> removes selected inequality constraints.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">The inequality constraints are in the form <span 
class="cmmi-12">g</span><span 
class="cmr-12">(</span><span 
class="cmbx-12">x</span><span 
class="cmr-12">) </span><span 
class="cmsy-10x-x-120">&#x2264; </span><span 
class="cmr-12">0</span>. The <span class="underline"><span 
class="ptmb7t-x-x-120">Expression</span></span> column contains the
      Python expression for <span 
class="cmmi-12">g</span><span 
class="cmr-12">(</span><span 
class="cmbx-12">x</span><span 
class="cmr-12">)</span>.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Penalty Factor</span></span> contains the coefficient <span 
class="cmmi-12">a </span>used in calculating the penalty for a constraint
      violation, see Equations <a 
href="#x1-39029r1">3.1<!--tex4ht:ref: eq.linear.constriant --></a> to <a 
href="#x1-39031r3">3.3<!--tex4ht:ref: eq.step.constriant --></a>.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Form</span></span> column contains a selection of different methods to calculate a constraint penalty.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Check Input</span></span> checks the problem for any mistakes that can be detected before running the
      optimization.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Variable Explorer</span></span> enables the user to browse the variables in the simulation. They can be
      copied and pasted into the Python expression. The variables are provided without the sample
      index.</dd></dl>
<!--l. 75--><p class="noindent" >The calculations for each type of constraint penalty are given in Equations <a 
href="#x1-39029r1">3.1<!--tex4ht:ref: eq.linear.constriant --></a> to <a 
href="#x1-39031r3">3.3<!--tex4ht:ref: eq.step.constriant --></a>.
<table 
class="equation"><tr><td><a 
 id="x1-39029r1"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual0x.png" alt="                         (
                         { 0          if g(x ) &#x2264; 0
Linear p enalty fo rm : pi =                i
                         ( a &#x00D7; gi(x )  if gi(x ) &#x003E; 0
" class="math-display" ></center></td><td class="equation-label">(3.1)</td></tr></table>
<!--l. 83--><p class="nopar" >
<table 
class="equation"><tr><td><a 
 id="x1-39030r2"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual1x.png" alt="                            (
                            { 0           if g(x ) &#x2264; 0
Q uadratic p enalty form : pi =                 i
                            ( a &#x00D7; gi(x )2  if gi(x ) &#x003E; 0
" class="math-display" ></center></td><td class="equation-label">(3.2)</td></tr></table>
<!--l. 91--><p class="nopar" >
<table 
class="equation"><tr><td><a 
 id="x1-39031r3"></a>
                                                                                         
                                                                                         
<center class="math-display" >
<img 
src="FOQUS_User_Manual2x.png" alt="                      (
                      {
Ste p pen alty form : pi =  0  if gi(x) &#x2264; 0
                      (  a  if gi(x) &#x003E; 0
" class="math-display" ></center></td><td class="equation-label">(3.3)</td></tr></table>
<!--l. 99--><p class="nopar" >
<!--l. 101--><p class="noindent" >If the Simple Python Expression method of entering the objective function does not offer enough
flexibility, the Custom Python method can be used. The Custom Python method enables the user to enter
the objective calculation as a Python function, which also should include any required constraint
penalties.
<!--l. 103--><p class="noindent" >Figure <a 
href="#x1-39032r43">43<!--tex4ht:ref: fig.opt.problem.objective2 --></a> shows the Custom Python objective form. The top text box provides instructions for writing a
custom objective function. The bottom text box provides a place to enter Python code. The numpy and
math modules have been imported and are available as numpy and math. To use the Custom Python
objective, the user must define a function called &#8220;onjfunc(x, f, fail).&#8221; The three arguments are: (1) &#8220;x&#8221; is
the dictionary of input variables, (2) &#8220;f&#8221; is the dictionary of output variables, and (3) &#8220;fail&#8221; is a boolean
vector that indicates whether a particular sample calculation has failed. The &#8220;objfunc&#8221; function should
return three values: (1) a list of objective function values for multi-objective optimization (in
most cases with single objective optimization this will be a list with one value), (2) a list of
constraint violations, and (3) the total constraint penalty. The constraint violation and penalty
information are only used for debugging, so they are not required. It is safe to return [0] and 0 for
the constraint information regardless of whether a constraint penalty has been added to the
objective.
<!--l. 105--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-39032r43"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 106--><p class="noindent" >
<!--l. 107--><p class="noindent" ><img 
src="Chapt_optimization/figs/opt_problem_objective2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;43: </span><span  
class="content">Custom Objective Function</span></div><!--tex4ht:label?: x1-39032r43 -->
</div>
                                                                                         
                                                                                         
<!--l. 111--><p class="noindent" ></div><hr class="endfigure">
<!--l. 113--><p class="noindent" >The code in Figure <a 
href="#x1-39033r44">44<!--tex4ht:ref: fig.opt.problem.objective2_code --></a> provides an example of a custom objective function for parameter estimation. The
objective function minimizes the sum of the differences between simulation and empirical data. In this
case the decision variables would be model parameters. The first line defines a function with three
arguments. The &#8220;x&#8221; and &#8220;f&#8221; arguments are the input and output variables. The variable indexing is
explained in the simple objective function section. The &#8220;fail&#8221; argument is a boolean vector where
element &#8220;i&#8221; is true if sample &#8220;i&#8221; failed. If there are no sample variables, &#8220;fail&#8221; will only have one
element.
<!--l. 115--><p class="noindent" >The &#8220;if&#8221; in the function determines if any flowsheet evaluation failed, and assigns a bad objective function
value if so. If all the flowsheet evaluations where successful, the results are used to calculate the
objective function. In the objective function calculation, Python list comprehension is used to
calculate the sum of squared errors. In this case, no constraint penalty is needed. The objective
function is returned as a list with only one element. The last two return values are debugging
information for constraints. In this case, the &#8220;zeros&#8221; are just place holders and have no real
utility.
<!--l. 117--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-39033r44"></a>
                                                                                         
                                                                                         
<div class="verbatim" id="verbatim-1">
def&#x00A0;objfunc(x,&#x00A0;f,&#x00A0;fail):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;if&#x00A0;any(fail):&#x00A0;#&#x00A0;any&#x00A0;simulation&#x00A0;failed
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;obj&#x00A0;=&#x00A0;100000
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;else:&#x00A0;#simulations&#x00A0;successful
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;obj=sum([(f[i]['Test']['y'][0]&#x00A0;-&#x00A0;x[i]['Test']['ydata'][0])&#x22C6;&#x22C6;2\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;for&#x00A0;i&#x00A0;in&#x00A0;range(len(f))])
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;[obj],&#x00A0;[0],&#x00A0;0
</div>
<!--l. 127--><p class="nopar" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;44: </span><span  
class="content">Custom Objective Function Code</span></div><!--tex4ht:label?: x1-39033r44 -->
                                                                                         
                                                                                         
<!--l. 131--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-39034r80"></a>
<h3 class="sectionHead"><span class="titlemark">3.2.    </span> <a 
 id="x1-400002"></a>Solver Options</h3>
<!--l. 135--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Solver</span></span> tab in the <span class="underline"><span 
class="ptmb7t-x-x-120">Optimization</span></span> button tool enables the selection of the DFO method and setting of
solver parameters. Figure <a 
href="#x1-40001r45">45<!--tex4ht:ref: fig.opt.solver.form --></a> illustrates the solver form. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-40001r45"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 137--><p class="noindent" >
<!--l. 138--><p class="noindent" ><img 
src="Chapt_optimization/figs/opt_solver_form.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;45: </span><span  
class="content">Optimization Solver Form</span></div><!--tex4ht:label?: x1-40001r45 -->
</div>
                                                                                         
                                                                                         
<!--l. 142--><p class="noindent" ></div><hr class="endfigure">
<!--l. 144--><p class="noindent" >Elements of the solver form are:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Select Solver</span></span> drop-down list, which enables the user to select from available DFO solvers.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Description</span></span> text box provides a description of the selected DFO solver.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Solver  Options</span></span>  table  contains  the  solver  settings  and  a  description  of  each  option.  The
      settings depend on the selected plug-in.</dd></dl>
<a 
 id="x1-40005r86"></a>
<h3 class="sectionHead"><span class="titlemark">3.3.    </span> <a 
 id="x1-410003"></a>Running Optimization</h3>
<!--l. 153--><p class="noindent" >The optimization monitor is displayed under the <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> tab in the <span class="underline"><span 
class="ptmb7t-x-x-120">Optimization</span></span> button tool. The
optimization monitor, illustrated in Figure <a 
href="#x1-41001r46">46<!--tex4ht:ref: fig.opt.run.form --></a>, is used to monitor the progress of the optimization as it
runs.
<!--l. 155--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-41001r46"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 156--><p class="noindent" >
<!--l. 157--><p class="noindent" ><img 
src="Chapt_optimization/figs/opt_run_form.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;46: </span><span  
class="content">Optimization Monitor Form</span></div><!--tex4ht:label?: x1-41001r46 -->
</div>
                                                                                         
                                                                                         
<!--l. 161--><p class="noindent" ></div><hr class="endfigure">
<!--l. 163--><p class="noindent" >Elements of the optimization monitor are:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Start</span></span> starts the optimization.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Stop</span></span> stops the optimization. The best solution found when optimization is stopped is stored
      in the flowsheet.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Update delay</span></span> is how often the user interface communicates with the optimization thread to
      update the display.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Optimization Solver Messages</span></span> displays output from the optimization solver.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Best Solution Parallel Coordinate Plot</span></span> displays the values of the decision variables scaled.
      This plot is helpful in identifying when variables are at, or near, their bounds.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Objective Function Plot</span></span> displays the objective function value at each iteration.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Status  Box</span></span>  displays  the  current  iteration,  how  many  samples  have  been  run,  how  many
      sample were successful, and how many failed.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Clear</span></span> deletes solver messages from the solve message box.</dd></dl>
<!--l. 175--><p class="noindent" >As the optimization runs, the FOQUS flowsheet is updated to include the best solution found. If sampling
is used, the first sample in the best objective function is stored in the flowsheet. If for any reason the
optimization terminates, the best solution found is available in the flowsheet. The results for all
flowsheet evaluations done for the optimization are available in the Results table in the Flowsheet
Editor.
<a 
 id="x1-41010r88"></a>
<h3 class="sectionHead"><span class="titlemark">3.4.    </span> <a 
 id="x1-420004"></a>Tutorial &#8211; Optimization</h3>
<!--l. 3--><p class="noindent" >This tutorial is a step-by-step walk through of simulation-based optimization. This tutorial builds on the
tutorial in Section <a 
href="#x1-290008">2.8<!--tex4ht:ref: tutorial.sim.flowsheet --></a>.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Load the FOQUS session from the tutorial &#8220;Creating a Flowsheet with Linked Simulations&#8221;
      in Section <a 
href="#x1-290008">2.8<!--tex4ht:ref: tutorial.sim.flowsheet --></a> or if that tutorial has not yet been completed, complete it first.</dd></dl>
                                                                                         
                                                                                         
<a 
 id="x1-42003r73"></a>
<h4 class="subsectionHead"><span class="titlemark">3.4.1.    </span> <a 
 id="x1-430001"></a>Problem Set Up</h4>
<!--l. 11--><p class="noindent" >If the simulation runs successfully and the results are reasonable, proceed to define the optimization
problem. There are four steps to setting up the optimization problem: (1) select the variables, (2) define
samples (optional), (3) define the objective function, and constraints and (4) select and configure the
solver.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Optimization</span></span> button from the toolbar at the top of the Home window (Figure <a 
href="#x1-43004r47">47<!--tex4ht:ref: tut.opt.problem.vars --></a>).
      Select the <span class="underline"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select &#8220;Decision&#8221; from the drop-down list in the <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span> column as the variable type for all 17
      variables shown. If more than 17 variables are shown, the edge connecting the &#8220;BFB&#8221; node
      to the &#8220;Cost&#8221; node was most likely not configured properly. The scale will automatically
      change to linear, which is acceptable for most problems.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span>, and <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span> columns can be changed. The <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> columns define the
      lower and upper bounds. The <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span> column specifies the initial point. For this example the
      defaults are acceptable.</dd></dl>
<!--l. 20--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-43004r47"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 21--><p class="noindent" >
<!--l. 22--><p class="noindent" ><img 
src="Chapt_optimization/figs/optProblemVar.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;47: </span><span  
class="content">Optimization Problem Variables</span></div><!--tex4ht:label?: x1-43004r47 -->
</div>
                                                                                         
                                                                                         
<!--l. 26--><p class="noindent" ></div><hr class="endfigure">
<!--l. 28--><p class="noindent" >If more than one flowsheet evaluation is used in the objective function calculation (e.g., parameter
estimation or optimization under uncertainty), the next step is to setup the samples under the <span class="textul"><span 
class="ptmb7t-x-x-120">Samples</span></span> tab.
In this case only one evaluation is used to calculate an objective function value, so the sample setup is not
needed. The next step is to define the objective function and constraints using the form under the
<span class="underline"><span 
class="ptmb7t-x-x-120">Objective/Constraints</span></span> tab as shown in Figure <a 
href="#x1-43005r48">48<!--tex4ht:ref: tut.opt.problem.obj --></a>.
<!--l. 30--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-43005r48"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 31--><p class="noindent" >
<!--l. 32--><p class="noindent" ><img 
src="Chapt_optimization/figs/optProblemObj.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;48: </span><span  
class="content">Optimization Problem Objective</span></div><!--tex4ht:label?: x1-43005r48 -->
</div>
                                                                                         
                                                                                         
<!--l. 36--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Objective/Constraints</span></span> tab (see Figure <a 
href="#x1-43005r48">48<!--tex4ht:ref: tut.opt.problem.obj --></a>).
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">In the drop-down list, verify &#8220;Simple Python Expression&#8221; is selected.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Add an objective function by clicking <span class="textul"><span 
class="ptmb7t-x-x-120">+</span></span> to the right of the Objective Function table.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">The objective function is the cost of electricity from the cost spreadsheet. Enter:<br 
class="newline" /><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-x-x-120">f["Cost"]["COE"][0]</span></span></span><br 
class="newline" />in the <span class="underline"><span 
class="ptmb7t-x-x-120">Expression</span></span> column.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Enter  1  in  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Penalty  Scale</span></span>  column.  This  setting  is  used  mostly  for  multi-objective
      optimization to apply the constraint penalty to different objectives.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Enter 500 in the <span class="underline"><span 
class="ptmb7t-x-x-120">Value for Failure</span></span> column. This should be worse than the objective for any
      non-failed simulations.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Add a constraint by clicking <span class="textul"><span 
class="ptmb7t-x-x-120">+</span></span> next to the Inequality Constraints table.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">The constraint is that the fraction of CO<sub><span 
class="cmr-8">2</span></sub> captured must be greater than or equal to 0.9. The
      constraint is in the form <span 
class="cmmi-12">g</span><span 
class="cmr-12">(</span><span 
class="cmbx-12">x</span><span 
class="cmr-12">) </span><span 
class="cmsy-10x-x-120">&#x2264; </span><span 
class="cmr-12">0</span>; therefore, in the <span class="underline"><span 
class="ptmb7t-x-x-120">Expression</span></span> column enter: <br 
class="newline" /><span class="obeylines-h"><span class="verb"><span 
class="pcrr7t-x-x-120">0.9</span><span 
class="pcrr7t-x-x-120">&#x00A0;-</span><span 
class="pcrr7t-x-x-120">&#x00A0;f["BFB"]["removalCO2"][0]</span></span></span>.
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Enter 1000 for the <span class="underline"><span 
class="ptmb7t-x-x-120">Penalty Factor</span></span>.
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem">The constraint penalty <span class="underline"><span 
class="ptmb7t-x-x-120">Form</span></span> should be linear.
      </dd><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Explorer</span></span> button can be used to help select flowsheet variables.</dd></dl>
<a 
 id="x1-43017r91"></a>
<h4 class="subsectionHead"><span class="titlemark">3.4.2.    </span> <a 
 id="x1-440002"></a>Solver Settings</h4>
<!--l. 58--><p class="noindent" >The last step before running the optimization is to select and configure the solver. The solver configuration
form is shown in Figure <a 
href="#x1-44001r49">49<!--tex4ht:ref: tut.opt.solver --></a>.
<!--l. 60--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-44001r49"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 61--><p class="noindent" >
<!--l. 62--><p class="noindent" ><img 
src="Chapt_optimization/figs/optSolver.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;49: </span><span  
class="content">Optimization Solver Setup</span></div><!--tex4ht:label?: x1-44001r49 -->
</div>
                                                                                         
                                                                                         
<!--l. 66--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Solver</span></span> tab (see Figure <a 
href="#x1-44001r49">49<!--tex4ht:ref: tut.opt.solver --></a>).
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Select &#8220;OptCMA&#8221; from the <span class="underline"><span 
class="ptmb7t-x-x-120">Select Solver</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
  19. </dt><dd 
class="enumerate-enumitem">The default options are acceptable. Solver options are described in the Solver Options table.</dd></dl>
<a 
 id="x1-44005r94"></a>
<h4 class="subsectionHead"><span class="titlemark">3.4.3.    </span> <a 
 id="x1-450003"></a>Running Optimization</h4>
<!--l. 77--><p class="noindent" >The optimization run form is shown in Figure <a 
href="#x1-45001r50">50<!--tex4ht:ref: tut.opt.run --></a>.
<!--l. 79--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-45001r50"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 80--><p class="noindent" >
<!--l. 81--><p class="noindent" ><img 
src="Chapt_optimization/figs/optRun.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;50: </span><span  
class="content">Optimization Monitor</span></div><!--tex4ht:label?: x1-45001r50 -->
</div>
                                                                                         
                                                                                         
<!--l. 85--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  20. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> tab to display the optimization run form (see Figure <a 
href="#x1-45001r50">50<!--tex4ht:ref: tut.opt.run --></a>).
      </dd><dt class="enumerate-enumitem">
  21. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Start</span></span>.
      </dd><dt class="enumerate-enumitem">
  22. </dt><dd 
class="enumerate-enumitem">Once the optimization has run for while click <span class="textul"><span 
class="ptmb7t-x-x-120">Stop</span></span>.</dd></dl>
<!--l. 94--><p class="noindent" >As the optimization run, the best result found is stored in the Flowsheet. If an optimization is run with
sample variables the first sample in the set with the best objective function will be stored in the flowsheet.
All simulation results can be viewed in the Flowsheet Results table.
<!--l. 96--><p class="noindent" >The run form displays some diagnostic information as the optimization runs. The parts of the display
labeled in Figure <a 
href="#x1-45001r50">50<!--tex4ht:ref: tut.opt.run --></a> are described below.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  23. </dt><dd 
class="enumerate-enumitem">The Optimization Solver Messages window displays information from the solver.
      </dd><dt class="enumerate-enumitem">
  24. </dt><dd 
class="enumerate-enumitem">The  <span class="underline"><span 
class="ptmb7t-x-x-120">Best  Solution  Parallel  Coordinate  Plot</span></span>  shows  the  value  of  the  scaled  decision
      variables, which is useful to see where the best solution is relative to the variable bounds.
      </dd><dt class="enumerate-enumitem">
  25. </dt><dd 
class="enumerate-enumitem">The  <span class="underline"><span 
class="ptmb7t-x-x-120">Objective  Function  Plot</span></span>  shows  the  best  value  of  the  objective  function  found  as  a
      function of the optimization iteration or sample number.
      </dd><dt class="enumerate-enumitem">
  26. </dt><dd 
class="enumerate-enumitem">While the optimization is running, the status bar shows the amount of time that has elapsed
      since starting the optimization.</dd></dl>
<a 
 id="x1-45009r90"></a>
<h3 class="sectionHead"><span class="titlemark">3.5.    </span> <a 
 id="x1-460005"></a>Tutorial &#8211; Parameter Estimation</h3>
<!--l. 3--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Note: </span>The NLopt solvers are used for the tutorial, but are an optional to the installation. See the install
instructions for more information about installing NLopt.
<!--l. 5--><p class="noindent" >This tutorial provides a very simple example of using the sampling with optimization. Sampling can be
used to do optimization under uncertainty where there are several scenarios with differing values of
uncertain parameters. Sampling can also be used to do parameter estimation, where estimated
values must be compared against several data points. This tutorial will focus on parameter
estimation.
<!--l. 7--><p class="noindent" >At any point in this tutorial, the FOQUS session can be saved and the tutorial can be started again from
that point.
                                                                                         
                                                                                         
<!--l. 9--><p class="noindent" >The model is given by Equation <a 
href="#x1-46001r4">3.4<!--tex4ht:ref: eq.pe.tut --></a>. The unknown parameters are <span 
class="cmmi-12">a</span>, <span 
class="cmmi-12">b</span>, and <span 
class="cmmi-12">c</span>. The x and y data are given
in Table <a 
href="#x1-46002r3">3<!--tex4ht:ref: table.pe.data --></a>.
<table 
class="equation"><tr><td><a 
 id="x1-46001r4"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual3x.png" alt="y =  ax2 + bx + c
" class="math-display" ></center></td><td class="equation-label">(3.4)</td></tr></table>
<!--l. 13--><p class="nopar" >
<div class="table">
                                                                                         
                                                                                         
<!--l. 15--><p class="noindent" ><a 
 id="x1-46002r3"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 16--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Table&#x00A0;3: </span><span  
class="content">x-y Data</span></div><!--tex4ht:label?: x1-46002r3 -->
 <table id="TBL-12" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-12-1g"><col 
id="TBL-12-1"><col 
id="TBL-12-2"><col 
id="TBL-12-3"><col 
id="TBL-12-4"><col 
id="TBL-12-5"><col 
id="TBL-12-6"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-1-"><td  style="white-space:nowrap; text-align:right;" id="TBL-12-1-1"  
class="td11"> Sample  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-1-2"  
class="td11"> 1  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-1-3"  
class="td11"> 2  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-1-4"  
class="td11"> 3  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-1-5"  
class="td11">  4  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-1-6"  
class="td11">  5  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-2-"><td  style="white-space:nowrap; text-align:right;" id="TBL-12-2-1"  
class="td11">     x  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-2-2"  
class="td11"> 0  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-2-3"  
class="td11"> 1  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-2-4"  
class="td11"> 2  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-2-5"  
class="td11">  3  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-2-6"  
class="td11">  4  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-3-"><td  style="white-space:nowrap; text-align:right;" id="TBL-12-3-1"  
class="td11">     y  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-3-2"  
class="td11"> 1  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-3-3"  
class="td11"> 0  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-3-4"  
class="td11"> 3  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-3-5"  
class="td11"> 10  </td><td  style="white-space:nowrap; text-align:right;" id="TBL-12-3-6"  
class="td11"> 21  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-4-"><td  style="white-space:nowrap; text-align:right;" id="TBL-12-4-1"  
class="td11">       </td></tr></table></div>
                                                                                         
                                                                                         
</div><hr class="endfloat" />
</div>
<!--l. 29--><p class="noindent" >The first step is to create a flowsheet with one node. The node will have the input variables: a, b, c, x, and
ydata; and output variable y.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">In the <span class="underline"><span 
class="ptmb7t-x-x-120">Session Name</span></span> field, enter &#8220;PE_tutorial&#8221; (see Figure <a 
href="#x1-46006r51">51<!--tex4ht:ref: fig.pe.tut1 --></a>).
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button in the top toolbar.</dd></dl>
<!--l. 36--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46006r51"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 37--><p class="noindent" >
<!--l. 38--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;51: </span><span  
class="content">Session Setup</span></div><!--tex4ht:label?: x1-46006r51 -->
</div>
                                                                                         
                                                                                         
<!--l. 42--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Add a node to the flowsheet named &#8220;model.&#8221;
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add Node</span></span> in the left toolbar (see Figure <a 
href="#x1-46021r52">52<!--tex4ht:ref: fig.pe.tut2 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Click anywhere on the gridded flowsheet area.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Select &#8220;model&#8221; in the <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> drop-down list and then click <span class="textul"><span 
class="ptmb7t-x-x-120">OK</span></span>.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Selection Mode</span></span> icon in the left toolbar (see Figure <a 
href="#x1-46021r52">52<!--tex4ht:ref: fig.pe.tut2 --></a>).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> icon in the left toolbar (see Figure <a 
href="#x1-46021r52">52<!--tex4ht:ref: fig.pe.tut2 --></a>).
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">In the Node Edit input table, add the variables a, b, c, x, and ydata. The ydata variable will be used
      as an input for the known y sample point data, later in the tutorial.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Add Input</span></span> icon (see Figure <a 
href="#x1-46021r52">52<!--tex4ht:ref: fig.pe.tut2 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Enter &#8220;a&#8221; for the variable name in the <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> column.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Enter -10 and 10 for the min and max in the <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> columns for a, b, c, and x.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Repeat for all of the inputs.
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">Enter 1 for the value of a, b, and c in the <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span> column.
           </dd><dt class="enumerate-enumitem">
       (f) </dt><dd 
class="enumerate-enumitem">Enter 2 for the value of x in the <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span> column.
           </dd><dt class="enumerate-enumitem">
       (g) </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span>, and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> for ydata do not matter.</dd></dl>
      </dd></dl>
<!--l. 68--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46021r52"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 69--><p class="noindent" >
<!--l. 70--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;52: </span><span  
class="content">Adding Node and Inputs</span></div><!--tex4ht:label?: x1-46021r52 -->
</div>
                                                                                         
                                                                                         
<!--l. 74--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> (see Figure <a 
href="#x1-46026r53">53<!--tex4ht:ref: fig.pe.tut3 --></a>).
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Add the output variable y.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Add Output</span></span> icon (see Figure <a 
href="#x1-46026r53">53<!--tex4ht:ref: fig.pe.tut3 --></a>).
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Enter &#8220;y&#8221; for the variable name in the <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> column.</dd></dl>
      </dd></dl>
<!--l. 86--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46026r53"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 87--><p class="noindent" >
<!--l. 88--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;53: </span><span  
class="content">Adding Outputs</span></div><!--tex4ht:label?: x1-46026r53 -->
</div>
                                                                                         
                                                                                         
<!--l. 92--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Add the model equation to the node.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Script</span></span> tab.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Enter the following code in the calculations box:
           <div class="fancyvrb" id="fancyvrb1"><a 
 id="x1-46031r1"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;f['y']</span><span 
class="pcrr7t-x-x-120">&#x00A0;=</span><span 
class="pcrr7t-x-x-120">&#x00A0;x['a']&#x22C6;x['x']&#x22C6;&#x22C6;2\</span><br class="fancyvrb" /><a 
 id="x1-46033r2"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;+</span><span 
class="pcrr7t-x-x-120">&#x00A0;x['b']&#x22C6;x['x']</span><span 
class="pcrr7t-x-x-120">&#x00A0;+</span><span 
class="pcrr7t-x-x-120">&#x00A0;x['c']</span></div>
           </dd></dl>
      </dd></dl>
<!--l. 107--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46034r54"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 108--><p class="noindent" >
<!--l. 109--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut4.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;54: </span><span  
class="content">Adding Node Calculation</span></div><!--tex4ht:label?: x1-46034r54 -->
</div>
                                                                                         
                                                                                         
<!--l. 113--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Return to the Output Variables table in the Node Editor, by clicking on the <span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab,
      and selecting <span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span>.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Click  <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span>  in  the  left  toolbar  in  the  FOQUS  Home  window,  to  test  a  single  flowsheet
      evaluation and ensure there are no errors.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">When the run is complete, there should be no error and the value of y should be 7 in the
      Output Variables table.</dd></dl>
<!--l. 122--><p class="noindent" >The next step is to setup the optimization. The objective function is to minimize the sum of the squared
errors between the estimated value of y and the observed value of y. There are five data points
in Table <a 
href="#x1-46002r3">3<!--tex4ht:ref: table.pe.data --></a>, so there are five flowsheet evaluations that need to go into the calculation of the
objective.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Optimization</span></span> button in the top toolbar of the Home window (see Figure <a 
href="#x1-46041r55">55<!--tex4ht:ref: fig.pe.tut5 --></a>).
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem">Select &#8220;Decision&#8221; in the <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span> column drop-down lists for &#8220;model.a,&#8221; &#8220;model.b,&#8221; and <br 
class="newline" />&#8220;model.c.&#8221; The <span class="underline"><span 
class="ptmb7t-x-x-120">Scale</span></span> column will automatically be set to linear.
      </dd><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem">Select &#8220;Sample&#8221; in the <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span> column drop-down lists for &#8220;model.x&#8221; and &#8220;model.ydata.&#8221;</dd></dl>
<!--l. 131--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46041r55"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 132--><p class="noindent" >
<!--l. 133--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut5.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;55: </span><span  
class="content">Optimization Variables</span></div><!--tex4ht:label?: x1-46041r55 -->
</div>
                                                                                         
                                                                                         
<!--l. 137--><p class="noindent" ></div><hr class="endfigure">
<!--l. 139--><p class="noindent" >The decision variables in the optimization problem will be changed by the optimization solver to try to
minimize the objective, and the sample variables are used to construct the samples that will go into the
objective function calculation.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Samples</span></span> tab (see Figure <a 
href="#x1-46046r56">56<!--tex4ht:ref: fig.pe.tut6 --></a>).
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add Sample</span></span> five times to add five samples.
      </dd><dt class="enumerate-enumitem">
  19. </dt><dd 
class="enumerate-enumitem">Enter the data from Table <a 
href="#x1-46002r3">3<!--tex4ht:ref: table.pe.data --></a> in the Samples table.
      </dd><dt class="enumerate-enumitem">
  20. </dt><dd 
class="enumerate-enumitem">For larger sample sets, <span class="textul"><span 
class="ptmb7t-x-x-120">Generate Samples</span></span> has an option to load from a CSV file.</dd></dl>
<!--l. 148--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46046r56"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 149--><p class="noindent" >
<!--l. 150--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut6.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;56: </span><span  
class="content">Optimization Samples</span></div><!--tex4ht:label?: x1-46046r56 -->
</div>
                                                                                         
                                                                                         
<!--l. 154--><p class="noindent" ></div><hr class="endfigure">
<!--l. 156--><p class="noindent" >The objective function is the sum of the square difference between y and ydata for each sample in Table <a 
href="#x1-46002r3">3<!--tex4ht:ref: table.pe.data --></a>.
The optimization solver changes the a, b, and c to minimize the objective.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  21. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Objective/Constraints</span></span> tab.
      </dd><dt class="enumerate-enumitem">
  22. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Add Objective</span></span> icon on the right side of the Objective Function table (see Figure
      <a 
href="#x1-46053r57">57<!--tex4ht:ref: fig.pe.tut7 --></a>).
      </dd><dt class="enumerate-enumitem">
  23. </dt><dd 
class="enumerate-enumitem">In the <span class="underline"><span 
class="ptmb7t-x-x-120">Expression</span></span> column, enter the following (without the line break):
                                                                                         
                                                                                         
      <div class="verbatim" id="verbatim-2">
      sum([(f[i]['model']['y']&#x00A0;-&#x00A0;x[i]['model']['ydata'])&#x22C6;&#x22C6;2
      &#x00A0;<br />&#x00A0;for&#x00A0;i&#x00A0;in&#x00A0;range(len(x))])
</div>
      <!--l. 167--><p class="nopar" >
      The above expression uses Python list comprehension to calculate the sum of squared errors. The
      keys for x and f are: sample index, node name, variable name, time step.
      </dd><dt class="enumerate-enumitem">
  24. </dt><dd 
class="enumerate-enumitem">Enter 1 for the <span class="underline"><span 
class="ptmb7t-x-x-120">Penalty Scale</span></span>.
      </dd><dt class="enumerate-enumitem">
  25. </dt><dd 
class="enumerate-enumitem">Enter 100 for the <span class="underline"><span 
class="ptmb7t-x-x-120">Value for Failure</span></span>.
      </dd><dt class="enumerate-enumitem">
  26. </dt><dd 
class="enumerate-enumitem">No constraints are required.</dd></dl>
<!--l. 175--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46053r57"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 176--><p class="noindent" >
<!--l. 177--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut7.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;57: </span><span  
class="content">Objective Function</span></div><!--tex4ht:label?: x1-46053r57 -->
</div>
                                                                                         
                                                                                         
<!--l. 181--><p class="noindent" ></div><hr class="endfigure">
<!--l. 183--><p class="noindent" >Once the objective is set up, a solver needs to be selected and configured. Almost any solver in FOQUS
should work well for this problem with the default values.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  27. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Solver</span></span> tab (see Figure <a 
href="#x1-46057r58">58<!--tex4ht:ref: fig.pe.tut8 --></a>).
      </dd><dt class="enumerate-enumitem">
  28. </dt><dd 
class="enumerate-enumitem">Select &#8220;NLopt&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Select Solver</span></span> drop-down list. NLopt is a collection of solvers that
      share a standard interface [<a 
href="#XJohnson_2015">8</a>].
      </dd><dt class="enumerate-enumitem">
  29. </dt><dd 
class="enumerate-enumitem">Select &#8220;BOBYQA&#8221; under the Solver Options table in the <span class="underline"><span 
class="ptmb7t-x-x-120">Settings</span></span> column drop-down list.</dd></dl>
<!--l. 192--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46057r58"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 193--><p class="noindent" >
<!--l. 194--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut8.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;58: </span><span  
class="content">Optimization Samples</span></div><!--tex4ht:label?: x1-46057r58 -->
</div>
                                                                                         
                                                                                         
<!--l. 198--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  30. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> tab (see Figure <a 
href="#x1-46063r59">59<!--tex4ht:ref: fig.pe.tut9 --></a>).
      </dd><dt class="enumerate-enumitem">
  31. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Start</span></span> button.
      </dd><dt class="enumerate-enumitem">
  32. </dt><dd 
class="enumerate-enumitem">The Optimization Solver Messages window displays the solver progress. As the solver runs,
      the best results found is placed into the flowsheet.
      </dd><dt class="enumerate-enumitem">
  33. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Best Solution Parallel Coordinate Plot</span></span> shows the scaled decision variable values for
      the best solution found so far.
      </dd><dt class="enumerate-enumitem">
  34. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Objective Function Plot</span></span> shows the value of the objective function as the optimization
      progresses.</dd></dl>
<!--l. 209--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46063r59"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 210--><p class="noindent" >
<!--l. 211--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut9.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;59: </span><span  
class="content">Running Optimization</span></div><!--tex4ht:label?: x1-46063r59 -->
</div>
                                                                                         
                                                                                         
<!--l. 215--><p class="noindent" ></div><hr class="endfigure">
<!--l. 217--><p class="noindent" >The best result at the end of the optimization is stored in the flowsheet. All flowsheet evaluations run
during the optimization are stored in the flowsheet results table.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  35. </dt><dd 
class="enumerate-enumitem">Once the optimization has completed, click <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> in the top toolbar.
      </dd><dt class="enumerate-enumitem">
  36. </dt><dd 
class="enumerate-enumitem">Open the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> and look at the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> table. The approximate result should
      be a = 2, b = -3, and c = 1 (see Figure <a 
href="#x1-46066r60">60<!--tex4ht:ref: fig.pe.tut10 --></a>).</dd></dl>
<!--l. 225--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-46066r60"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 226--><p class="noindent" >
<!--l. 227--><p class="noindent" ><img 
src="Chapt_optimization/figs/par_est_tut10.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;60: </span><span  
class="content">Flowsheet, Input Variables Results</span></div><!--tex4ht:label?: x1-46066r60 -->
</div>
                                                                                         
                                                                                         
<!--l. 231--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;4</span><br /><a 
 id="x1-470004"></a>Uncertainty Quantification</h2>
<!--l. 3--><p class="noindent" >The Uncertainty Quantification (UQ) module of FOQUS provides a multitude of analysis and
visualization capabilities to facilitate the understanding of uncertainty&#8217;s impact on a given system. In a
generic UQ study, the workflow is usually comprised of the following steps:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Define the objectives of the analysis.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Specify and acquire the simulation model, which implements an input-to-output mapping
      from inputs to outputs.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Select the inputs that have uncertainty and characterize said uncertainty in the form of <span 
class="ptmri7t-x-x-120">prior</span>
      distributions.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Identify  relevant  data  from  physical  experiments  that  can  be  used  to  refine  these  prior
      distributions on the inputs.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Generate a set of input samples according to the input distribution.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Propagate the set of input samples through the simulation model to get the corresponding
      output values.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Analyze the results to make informed decisions about subsequent analyses.</dd></dl>
<!--l. 22--><p class="noindent" >FOQUS UQ provides tools to perform Steps 5-7. With respect to Step 7, a variety of analysis capabilities are
available. They include parameter screening methods, response surface construction/validation/prediction,
uncertainty analysis, sensitivity analysis, and visualization.
<!--l. 27--><p class="noindent" >In this chapter, components of the UQ user interface are first explained, then the use of these components
for UQ analyses is illustrated.
<a 
 id="x1-47008r98"></a>
<h3 class="sectionHead"><span class="titlemark">4.1.    </span> <a 
 id="x1-480001"></a>UQ User Interface</h3>
<!--l. 32--><p class="noindent" >The UQ module enables the user to perform UQ studies on a flowsheet. From the Uncertainty button on
the Home window, the user can configure different simulation ensembles (different sets of samples
generated using different sampling schemes), run them, and perform analyses. This screen is illustrated in
Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>.
<!--l. 39--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-48001r61"></a>
                                                                                         
                                                                                         
<!--l. 40--><p class="noindent" ><img 
src="Chapt_uq/figs/overview/1_UQScreen2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;61: </span><span  
class="content">Uncertainty Quantification Screen</span></div><!--tex4ht:label?: x1-48001r61 -->
                                                                                         
                                                                                         
<!--l. 43--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Simulation Ensemble Table</span></span> displays all of the simulation ensembles: each ensemble being
      a row in the table. A simulation ensemble is a collection of sample points where each sample
      point has a different set of values for the uncertain variables. The values of these variables
      are generated based on the sampling scheme designated by the user. When launched, the
      output values of the sample points are calculated based on the generated sample input values.
      Subsequently, the corresponding simulation outputs can be analyzed. For each ensemble, the
      table displays the <span class="underline"><span 
class="ptmb7t-x-x-120">Ensemble</span></span> index, <span class="underline"><span 
class="ptmb7t-x-x-120">Run Status</span></span> (how many have been completed), <span class="textul"><span 
class="ptmb7t-x-x-120">Setup</span></span>
      and <span class="textul"><span 
class="ptmb7t-x-x-120">Launch</span></span> options (discussed below), and a <span class="underline"><span 
class="ptmb7t-x-x-120">Descriptor</span></span>. The <span class="underline"><span 
class="ptmb7t-x-x-120">Descriptor</span></span> contains the name
      of the corresponding node in the flowsheet or the name of the file if the ensemble was loaded
      from a file. Additional sample information such as <span class="underline"><span 
class="ptmb7t-x-x-120"># Inputs</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120"># Outputs</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">Sample Design</span></span>,
      and <span class="underline"><span 
class="ptmb7t-x-x-120">Sample Size</span></span> are also displayed on the right.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add  New</span></span>  creates  a  simulation  ensemble  (a  set  of  input  samples)  as  a  new  row  in  the
      <span class="textul"><span 
class="ptmb7t-x-x-120">Simulation  Ensemble  Table</span></span>.  Once  clicked,  a  dialog  is  displayed  to  prompt  the  user  to
      choose between using (1) a flowsheet (an exact simulation model) or (2) a response surface
      (an approximate simulation model or an emulator) associated with the ensemble. <br 
class="newline" />If  using  an  emulator,  the  user  must  browse  a  PSUADE-formatted  file  that  contains  the
      training data for the emulator (in this version, the response surface type has been designated
      inside the sample file and can only be changed by editing the sample file) and select the
      output(s) to be evaluated by the trained emulator. Subsequently, a simulation setup dialog
      box is displayed for setting up the distributions of input variables and the sampling scheme to
      generate samples of the uncertain input variables. This <span class="underline"><span 
class="ptmb7t-x-x-120">Simulation Ensemble Setup</span></span> dialog
      is explained in further detail in Section <a 
href="#x1-490001">4.1.1<!--tex4ht:ref: subsec:uq_simsetup --></a>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Load  from  File</span></span>  loads  a  simulation  ensemble  from  a  sample  file  that  conforms  to  the
      PSUADE full file format. (See Section <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a> for details on the PSUADE full file format.) The
      user can click <span class="textul"><span 
class="ptmb7t-x-x-120">Save Selected</span></span> to save an existing ensemble as a PSUADE full file, and load it
      by clicking <span class="textul"><span 
class="ptmb7t-x-x-120">Load from File</span></span> to perform further analyses.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Clone Selected</span></span> clones the selected simulation ensemble and adds the copy as a new row
      at  the  end  of  the  table.  This  ensemble  can  then  be  edited  (e.g.,  depending  on  whether
      the  ensemble  has  been  run,  the  user  has  different  options  for  modifying  the  ensemble).
      This  allows  the  user  to  create  a  new  ensemble  similar  to  the  current  ensemble  without
      having to start from scratch (i.e., setting up the input parameters). For example: (1) <span class="textul"><span 
class="ptmb7t-x-x-120">Clone</span>
      <span 
class="ptmb7t-x-x-120">Selected</span></span> can be used in conjunction with <span class="textul"><span 
class="ptmb7t-x-x-120">Load from File</span></span> to clone an existing ensemble
      before input/output modification to prepare a new but similar ensemble for UQ analysis. (2)
      <span class="textul"><span 
class="ptmb7t-x-x-120">Clone Selected</span></span> can also be used to prepare a fresh ensemble for evaluation via a different
      simulation model. In this case, the user should save the cloned ensemble, reload it by clicking
      <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span>, associate it with a node, and then click <span class="underline"><span 
class="ptmb7t-x-x-120">Launch</span></span> to start the runs.
      </dd><dt class="enumerate-enumitem">
                                                                                         
                                                                                         
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Delete Selected</span></span> deletes the currently selected simulation ensemble.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Revise</span></span>  enables  a  user  to  change  a  simulation  ensemble  before  launching  the  run.  If
      the  ensemble  was  previously  run  or  it  is  cloned  from  an  already-generated  sample,  the
      corresponding button becomes <span class="textul"><span 
class="ptmb7t-x-x-120">View</span></span> so the user can view the input samples in the simulation
      ensemble.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Launch</span></span> starts the simulation process of the ensemble. (<span class="textul"><span 
class="ptmb7t-x-x-120">Launch</span></span> is not enabled until the user
      has setup everything needed for simulations.) A simulation is launched for each sample point
      to compute the corresponding outputs.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span>, when enabled (after all simulation results are ready), enables the user to perform
      various UQ analysis to the ensemble. When clicked, a new dialog box displays, allowing the
      user to configure and run analysis.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Data  Manipulation</span></span>  enables  (1)  the  deletion  of  inputs,  outputs,  or  samples,  (2)  the
      modification of output values for specific sample points, and (3) the range-based filtering of
      samples.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Inspection/Deletion/Output Value Modification</span></span> serves three purposes: it enables the user
      to  (1)  view  the  numerical  values  of  samples  in  table  form,  (2)  delete  variables  and/or
      samples, and (3) edit the output values of specific samples. <span class="underline"><span 
class="ptmb7t-x-x-120">Deletion</span></span> creates a new simulation
      ensemble as a new row in the simulation table that contains only those inputs/outputs and
      samples that were not selected for deletion. <span class="underline"><span 
class="ptmb7t-x-x-120">Output Value Modification</span></span> changes the values
      within the ensemble itself.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Filtering</span></span> enables the user to filter samples based on the values of an input or output. First,
      select the ensemble to be filtered from the <span class="underline"><span 
class="ptmb7t-x-x-120">Simulation Ensemble Table</span></span>. Once filtering is
      complete, a new simulation ensemble is added as a new row in the simulation table. The
      new simulation ensemble contains only those samples that satisfy the filtering criterion (with
      input or output samples within the specified range).
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Reset  Table</span></span>  resets  the  table  to  default,  meaning  all  variable  and  sample  selections  are
      unselected and output values within the table are reverted back to their original values, thus
      undoing any edits to the table.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">The table displays the values of inputs and outputs for each sample. Inputs are highlighted
      in pink; outputs are highlighted in yellow. The user can select which variables (columns)
      to delete by selecting the checkboxes on top. Likewise, the user can select which samples
      (rows)  to  delete  by  selecting  the  checkboxes  on  the  left.  Multiple  samples  can  also  be
      selected/deselected by using (1) Shift+Click or Ctrl+Click to select multiple rows, or (2)
      right-clicking to bring up a menu to check or uncheck the checkboxes corresponding to the
                                                                                         
                                                                                         
      rows of the selected samples. In addition, the user can change any output value by editing
      the  appropriate  cell.  These  modified  cells  are  highlighted  green  until  changes  are  made
      permanent by clicking the appropriate button.
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Perform Deletion then Save as New Ensemble</span></span> creates a new simulation ensemble as a
      new row in the <span class="underline"><span 
class="ptmb7t-x-x-120">Simulation Ensemble Table</span></span>. The new ensemble is without the variables and
      samples that were previously selected for removal.
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Make  Output  Value  Changes  Permanent</span></span>  overwrites  the  output  values  in  the  current
      ensemble with those that are highlighted green in the table.
      </dd></dl>
<!--l. 161--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Filtering</span></span> tab is illustrated in Figure <a 
href="#x1-48017r62">62<!--tex4ht:ref: fig:uq_deltab --></a> and enables the user to filter samples based on the values of an
input or output. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-48017r62"></a>
                                                                                         
                                                                                         
<!--l. 166--><p class="noindent" ><img 
src="Chapt_uq/figs/overview/2_FilteringTab2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;62: </span><span  
class="content">Filtering Tab</span></div><!--tex4ht:label?: x1-48017r62 -->
                                                                                         
                                                                                         
<!--l. 169--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Filter Input</span></span> filters based on the value of a certain input. Select an input variable as the filter
      target, and enter the lower and upper thresholds to specify a range of values to be kept in the
      new ensemble.
      </dd><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Filter Output</span></span> filters based on the value of a certain output. Select an output variable as the
      filter target, and enter the lower and upper thresholds to specify a range of values to be kept
      in the new ensemble.
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Once the filter settings are set, click <span class="textul"><span 
class="ptmb7t-x-x-120">Perform Filtering then Save as New Ensemble</span></span> to
      apply the filter and create a new simulation ensemble.</dd></dl>
<!--l. 187--><p class="noindent" >The single-output <span class="underline"><span 
class="ptmb7t-x-x-120">Analysis of Ensemble</span></span> dialog, which is displayed when <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> is clicked for the
selected ensemble, has two modes, as shown in Figure <a 
href="#x1-48021r63">63<!--tex4ht:ref: fig:uq_analysisW --></a> and Figure <a 
href="#x1-63001r95">95<!--tex4ht:ref: fig:uqt_rsaeua --></a>. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-48021r63"></a>
                                                                                         
                                                                                         
<!--l. 192--><p class="noindent" ><img 
src="Chapt_uq/figs/overview/3_AnalysisSection2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;63: </span><span  
class="content">Analysis Dialog, Ensemble Data Analysis, Wizard Mode</span></div><!--tex4ht:label?: x1-48021r63 -->
                                                                                         
                                                                                         
<!--l. 195--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  19. </dt><dd 
class="enumerate-enumitem">Select  <span class="textul"><span 
class="ptmb7t-x-x-120">Wizard</span></span>  or  <span class="textul"><span 
class="ptmb7t-x-x-120">Expert</span></span>  mode.  The  <span class="underline"><span 
class="ptmb7t-x-x-120">Wizard</span></span>  mode  provides  more  detailed  guidance  on
      how to perform UQ analysis. For users familiar with UQ analysis techniques, the <span class="underline"><span 
class="ptmb7t-x-x-120">Expert</span></span>
      mode  provides  more  functionality  and  flexibility  but  with  less  guidance  on  its  use.  For
      example, users will be able to customize the input distributions, as well as run more advanced
      uncertainty analysis that handles both epistemic and aleatory uncertainties.
      </dd><dt class="enumerate-enumitem">
  20. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Analyses Performed</span></span> section provides the user a history of previous analyses that were
      performed. The results of these analyses are cached, so the user can plot the analysis results
      without having to recompute them.
      </dd><dt class="enumerate-enumitem">
  21. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Analysis Table</span></span> populates as the user performs analyses. It lists previous analyses that
      the user has performed, along with some of the main analysis settings (analysis type, inputs
      and outputs analyzed, etc.)
      </dd><dt class="enumerate-enumitem">
  22. </dt><dd 
class="enumerate-enumitem">Depending  on  the  type  of  analysis  performed,  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Additional  Info</span></span>  button  displays  any
      additional settings or parameters set by the user in the selected analysis that were not shown
      in the <span class="underline"><span 
class="ptmb7t-x-x-120">Analysis Table</span></span>.
      </dd><dt class="enumerate-enumitem">
  23. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Results</span></span> button will display the results of the selected analysis.
      </dd><dt class="enumerate-enumitem">
  24. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Delete</span></span> button will delete the selected analysis from the history of previous analyses.
      Once deleted, the user will need to perform the analysis again to see its results.
      </dd><dt class="enumerate-enumitem">
  25. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Qualitative Parameter Selection</span></span> (top part of the <span class="underline"><span 
class="ptmb7t-x-x-120">Analysis of Ensemble</span></span> dialog) houses
      the controls for parameter selection analysis. Parameter selection is a qualitative sensitivity
      analysis method that identifies a group of dominant input parameters that are recommended
      for inclusion in subsequent UQ analyses, as they are the ones that most impact the output
      uncertainty. The parameter screening results are shown as bar graphs so that the user can
      rank the uncertain parameters visually.
      </dd><dt class="enumerate-enumitem">
  26. </dt><dd 
class="enumerate-enumitem">Before performing parameter selection, the user must select a single output for identifying
      parameter sensitivities from the <span class="textul"><span 
class="ptmb7t-x-x-120">Choose output to analyze</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
  27. </dt><dd 
class="enumerate-enumitem">There are several methods of parameter selection. The list of parameter selection methods
      available depends on the sample scheme of the selected ensemble. Select the appropriate
      method  from  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Choose  Parameter  Selection  Method</span></span>  drop-down  list.  Then  click
      <span class="textul"><span 
class="ptmb7t-x-x-120">Compute input importance</span></span> to start the analysis.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  28. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Ensemble Data</span></span> radio button directs FOQUS to perform analyses on the raw ensemble
      data.
      </dd><dt class="enumerate-enumitem">
  29. </dt><dd 
class="enumerate-enumitem">To view plots of the raw ensemble data, choose the desired input(s) from the <span class="textul"><span 
class="ptmb7t-x-x-120">Select the</span>
      <span 
class="ptmb7t-x-x-120">input(s)</span></span> drop-down lists. Then click <span class="textul"><span 
class="ptmb7t-x-x-120">Visualize</span></span>. If multiple inputs are selected, each must be
      unique.
      </dd><dt class="enumerate-enumitem">
  30. </dt><dd 
class="enumerate-enumitem">To perform an analysis, select the desired analysis (&#8220;Uncertainty Analysis&#8221; or &#8220;Sensitivity
      Analysis&#8221;) from the <span class="textul"><span 
class="ptmb7t-x-x-120">Choose UQ Analysis</span></span> drop-down list. Uncertainty Analysis computes and
      displays the probability distribution of the single selected output parameter and displays its
      sufficient statistics, such as mean, standard deviation, skewness, and kurtosis. Sensitivity Analysis
      computes and displays each uncertain input parameter&#8217;s contribution to the total variance of the
      output. If Sensitivity Analysis is selected, choose the type of sensitivity analysis desired in the next
      drop-down list. There are three options for Sensitivity Analysis: (1) first-order, (2) second-order,
      and (3) total-order.
           <ul class="itemize1">
           <li class="itemize">First-order analysis examines the effect of varying an input parameter alone.
           </li>
           <li class="itemize">Second-order analysis examines the effect of varying pairs of input parameters.
           </li>
           <li class="itemize">Total-order  analysis  examines  all  interactions&#8217;  effect  of  varying  an  input  parameter
           alone and as a combination with any other input parameters.</li></ul>
      <!--l. 266--><p class="noindent" >Click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> to run the analysis. (Note: Raw ensemble data analysis may not be suitable
      if the sample size is small. It may be useful if the data set has tens of thousands of sample
      points or if an adequate response surface cannot be constructed. Otherwise, response
      surface-based analyses are recommended.) <hr class="figure"><div class="figure" 
><a 
 id="x1-48034r64"></a> <img 
src="Chapt_uq/figs/overview/4_Analyze2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;64: </span><span  
class="content">Analysis Dialog, Response Surface Analysis, Wizard Mode</span></div><!--tex4ht:label?: x1-48034r64 -->
      <!--l. 276--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-4803330"></a>
      </dd><dt class="enumerate-enumitem">
  31. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Response  Surface</span></span>  enables  the  user  to  perform  all  analyses  related  to  response  surfaces.
      A  response  surface  is  an  approximation  of  the  input-to-output  relationship.  This  is  an
      inexpensive way to approximate the values of outputs given different input values when the
      actual simulation of output values is computationally intensive. FOQUS uses the data (i.e.,
      input-output samples) to fit a response surface scheme. The first step in this analysis is to
      select which output to analyze.
      </dd><dt class="enumerate-enumitem">
  32. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Response Surface Model</span></span> to be used to approximate the input-to-output mapping.
      Selection  of  &#8220;Polynomial&#8221;  or  &#8220;MARS&#8221;  requires  one  further  selection  in  the  second
      drop-down  list.  If  &#8220;Polynomial&#8221;  is  chosen  in  the  first  drop-down  list  and  &#8220;Legendre&#8221;  is
      chosen in the second drop-down list, the user needs to specify a number for the <span class="textul"><span 
class="ptmb7t-x-x-120">Legendre</span>
      <span 
class="ptmb7t-x-x-120">polynomial order</span></span> before analysis can proceed. <a 
 id="x1-4803632"></a>
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  33. </dt><dd 
class="enumerate-enumitem">The response surface selected must be validated before further analyses can be performed.
      The user can specify the error envelope for the validation plot. When <span class="textul"><span 
class="ptmb7t-x-x-120">Validate</span></span> is clicked, the
      resulting plots display the best fit between the response surface (based on the model selected)
      and the actual data.
      </dd><dt class="enumerate-enumitem">
  34. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Choose  UQ  Analysis</span></span>  enables  the  user  to  perform  response-surface-based  UQ  analyses.
      Select the analysis in the first drop-down list. If the desired analysis is Sensitivity Analysis,
      select the desired type of sensitivity analysis in the second drop-down list and then click
      <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span>. <span class="underline"><span 
class="ptmb7t-x-x-120">Uncertainty Analysis</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Sensitivity Analysis</span></span> compute and display the same
      quantities as in item #<a 
href="#x1-4803330">30<!--tex4ht:ref: itm:uq_analysis --></a>. However, the results displayed are based on samples drawn from
      the trained response surface, not the simulation ensemble itself. Moreover, if the selected
      response surface has uncertainty, the resulting plots also reflect this uncertainty information.
      </dd><dt class="enumerate-enumitem">
  35. </dt><dd 
class="enumerate-enumitem">FOQUS  also  provides  visualization  capabilities,  enabling  the  user  to  view  the  response
      surface as a function of one or multiple inputs. Up to three inputs can be visualized at once.
      Click <span class="textul"><span 
class="ptmb7t-x-x-120">Visualize</span></span> to view. A 2-D line plot displays if only one input parameter is selected.
      A 3-D surface plot and a 2-D contour plot display if two input parameters are selected. A
      3-D isosurface plot with a slider bar displays if three input parameters are chosen. For the
      isosurface plot, the user can use the slider to selectively display the 3-D input parameter
      space that activates a particular range in the output parameter.</dd></dl>
<!--l. 328--><p class="noindent" >Finally, the <span class="underline"><span 
class="ptmb7t-x-x-120">Bayesian Inference of Ensemble</span></span> dialog (shown in Figure <a 
href="#x1-48040r65">65<!--tex4ht:ref: fig:uq_inf --></a>) is used to calculate the
posterior distributions (prior distributions integrated with data) of the uncertain input parameters.
Inference utilizes Markov Chain Monte Carlo (MCMC) to compute the posterior distributions, using
response surfaces that serve as fast approximations to the actual simulation model.
<!--l. 340--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-48040r65"></a>
                                                                                         
                                                                                         
<!--l. 341--><p class="noindent" ><img 
src="Chapt_uq/figs/overview/5_InferenceWizard2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;65: </span><span  
class="content">Bayesian Inference Dialog</span></div><!--tex4ht:label?: x1-48040r65 -->
                                                                                         
                                                                                         
<!--l. 344--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  36. </dt><dd 
class="enumerate-enumitem">Inference uses a response surface to approximate the input-to-output mapping. In <span class="textul"><span 
class="ptmb7t-x-x-120">Output</span>
      <span 
class="ptmb7t-x-x-120">Settings</span></span>, select the observed outputs and select the response surface type that works best
      with each observed output. As in item (<a 
href="#x1-4803632">32<!--tex4ht:ref: itm:uq_rs --></a>), further selections may be required based on the
      response surface chosen. The simulation ensemble is used as the training data for generating
      the response surfaces.
      </dd><dt class="enumerate-enumitem">
  37. </dt><dd 
class="enumerate-enumitem">The  user  can  specify  which  inputs  are  fixed,  design  (fixed  per  experiment,  but  changes
      between experiments), or variable using the <span class="textul"><span 
class="ptmb7t-x-x-120">Input Settings Table</span></span>. In addition, the user can
      specify which inputs are displayed in the resulting plots of the posterior distributions. By
      default, once inference completes, all inputs will be displayed in the plots. To omit specific
      inputs, clear the checkboxes from the <span class="underline"><span 
class="ptmb7t-x-x-120">Display</span></span> column of the table. Finally, in <span class="underline"><span 
class="ptmb7t-x-x-120">Expert</span></span> mode,
      this table can also be used to modify the input prior distributions. The default prior is the
      input distribution specified in the simulation ensemble. To change the prior distribution type,
      use  the  drop-down  list  in  the  <span class="underline"><span 
class="ptmb7t-x-x-120">PDF</span></span>  column  and  enter  corresponding  values  for  the  PDF
      parameters. To change the range of a uniform prior, scroll all the way to the right to modify
      <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span>.
      </dd><dt class="enumerate-enumitem">
  38. </dt><dd 
class="enumerate-enumitem">The  <span class="textul"><span 
class="ptmb7t-x-x-120">Observations</span></span>  section  enables  the  user  to  add  experimental  data  in  the  form  of
      observations of certain output variables. At least one observation is required. Currently, the
      observation noise model is assumed to be a normal distribution. Other distributions may be
      supported in the future. To specify the observation noise model, enter the mean (and standard
      deviation, if standard inference is selected) for each output observation. For convenience,
      the <span class="underline"><span 
class="ptmb7t-x-x-120">Mean</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Standard Deviation</span></span> fields have been populated with the statistics from the
      ensemble uncertainty analysis. If any inputs are selected as design inputs, their values will
      also be required here.
      </dd><dt class="enumerate-enumitem">
  39. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Save Posterior Input Samples to File</span></span> checkbox, when selected, saves the posterior input
      samples as a PSUADE sample file (format described in Section <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a>). This file characterizes
      the input uncertainty as a set of samples, which can be re-used in the <span class="underline"><span 
class="ptmb7t-x-x-120">Simulation Ensemble</span>
      <span 
class="ptmb7t-x-x-120">Setup</span></span> dialog, to evaluate the outputs corresponding to these posterior input samples.
      </dd><dt class="enumerate-enumitem">
  40. </dt><dd 
class="enumerate-enumitem">If saving posterior samples to a file, click <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span> to set the name and location of where this
      file is saved.
      </dd><dt class="enumerate-enumitem">
  41. </dt><dd 
class="enumerate-enumitem">Click  <span class="textul"><span 
class="ptmb7t-x-x-120">Infer</span></span>  to  start  the  analysis.  (Note:  If  the  inference  returns  an  invalid  posterior
      distribution  (i.e.,  one  with  no  samples),  it  usually  means  the  prior  distributions  or  that
      the  observation  data  distributions  are  not  prescribed  appropriately.  In  this  case,  it  is
      recommended that the user experiment with different priors and/or data distribution means
      and/or standard deviations.)
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  42. </dt><dd 
class="enumerate-enumitem">Inference calculations often take a very long time. If inference has run to completion, use
      <span class="textul"><span 
class="ptmb7t-x-x-120">Replot</span></span> to generate new plots (e.g., to only display a subset of the input posterior graphs)
      from the cached inference results.</dd></dl>
<a 
 id="x1-48048r96"></a>
<h4 class="subsectionHead"><span class="titlemark">4.1.1.    </span> <a 
 id="x1-490001"></a>Simulation Ensemble Setup Dialog</h4>
<!--l. 406--><p class="noindent" >The <span class="underline"><span 
class="ptmb7t-x-x-120">Simulation Ensemble Setup</span></span> dialog (shown in Figure <a 
href="#x1-49001r66">66<!--tex4ht:ref: fig:uq_sim_dist --></a>) is used to create a new simulation
ensemble. This is done by: (1) setting up distribution parameters and generating samples, or (2) loading
samples from a file. This dialog is displayed when selecting <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span> on the UQ window (Figure
<a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>).
<!--l. 413--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-49001r66"></a>
                                                                                         
                                                                                         
<!--l. 414--><p class="noindent" ><img 
src="Chapt_uq/figs/overview/6_SimSetupDist2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;66: </span><span  
class="content">Simulation Ensemble Setup Dialog, Distributions Tab</span></div><!--tex4ht:label?: x1-49001r66 -->
                                                                                         
                                                                                         
<!--l. 417--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Choose how to generate samples. There are three options: (1) <span class="textul"><span 
class="ptmb7t-x-x-120">Choose sampling scheme</span></span>
      (default),  (2)  <span class="textul"><span 
class="ptmb7t-x-x-120">Load  flowsheet  samples</span></span>,  or  (3)  <span class="textul"><span 
class="ptmb7t-x-x-120">Load  all  samples  from  a  single  file</span></span>.  The
      option 3 is explained in item (<a 
href="#x1-4901311">11<!--tex4ht:ref: itm:uq_sim_last --></a>). <a 
 id="x1-490021"></a>
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">If  <span class="underline"><span 
class="ptmb7t-x-x-120">Choose  Sampling  Scheme</span></span>  is  selected,  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions</span></span>  tab  is  displayed.  The  user
      specifies the input uncertainty information.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The  <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions  Table</span></span>  is  pre-populated  with  input  variable  information  gathered  from
      the flowsheet node. Under the <span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span> column drop-down list, the user can select &#8220;Fixed&#8221; or
      &#8220;Variable&#8221;. Selecting &#8220;Fixed&#8221; means that the input is fixed at its default value for all the
      samples. Changing the type to &#8220;Variable&#8221; means that the input is uncertain; therefore, its
      value varies between samples. With any fixed input, the only parameter that can be changed
      is  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Default</span></span>  value  (i.e.,  all  samples  of  this  input  are  fixed  at  this  default  value).  With
      any  variable  input,  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span>  values,  as  well  as  the  probability  distribution  function
      (<span class="underline"><span 
class="ptmb7t-x-x-120">PDF</span></span>), for that input can be changed. Some PDFs have their own parameters (e.g., mean and
      standard deviation for a normal distribution), which are required in the columns right of the
      distribution column. See the PSUADE manual for more details on the different PDFs.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">All Fixed</span></span> and <span class="textul"><span 
class="ptmb7t-x-x-120">All Variable</span></span> are convenient ways to set all the inputs to variable or fixed.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Note: A &#8220;Sample&#8221; PDF refers to sampling with replacement (i.e., input samples would be
      randomly drawn, with replacement, from a sample file). If the selected distribution for any
      input is &#8220;Sample&#8221;, then the following parameters are required: (1) the path of the sample file
      (which must conform to the sample format specified in Section <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a>); (2) the output index that
      designates which output is to be used.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">In the <span class="textul"><span 
class="ptmb7t-x-x-120">Sampling scheme</span></span> tab (Figure <a 
href="#x1-49008r67">67<!--tex4ht:ref: fig:uq_sim_samplescheme --></a>), specify the sampling scheme, the sample size, and
      perform sample generation. <hr class="figure"><div class="figure" 
><a 
 id="x1-49008r67"></a> <img 
src="Chapt_uq/figs/overview/7_SimSetupSchemes2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;67: </span><span  
class="content">Simulation Ensemble Setup Dialog, Sampling Scheme Tab</span></div><!--tex4ht:label?: x1-49008r67 -->
      <!--l. 462--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Each radio button displays a different list of sampling schemes on the right. The radio
      buttons serve as a guide to help in the selection of the appropriate sampling schemes
      for target analyses. A sampling scheme must be selected from the list on the right to
      proceed.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Set the number of samples to be generated from the <span class="textul"><span 
class="ptmb7t-x-x-120"># of samples</span></span> spinbox.
      </dd><dt class="enumerate-enumitem">
                                                                                         
                                                                                         
   9. </dt><dd 
class="enumerate-enumitem">When all parameters are set, click <span class="textul"><span 
class="ptmb7t-x-x-120">Generate Samples</span></span>. This generates the values for all the input
      variables, based on the sampling scheme selected.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Once samples have been generated, click <span class="textul"><span 
class="ptmb7t-x-x-120">Preview Samples</span></span> to view the samples that were
      generated. This displays the sample values in table form, as well as graphically as a scatter
      plot.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">From item (<a 
href="#x1-490021">1<!--tex4ht:ref: itm:uq_sim_first --></a>), if the user elects to load all samples from a single file, click <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span> to select
      the file containing the samples (Figure <a 
href="#x1-49014r68">68<!--tex4ht:ref: fig:uq_sim_loadsample --></a>). This file must conform to the PSUADE full file
      format, the PSUADE sample format, or CSV file (all formats described in Section <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a>).
      Note: This is the only place where all the formats are supported. Once the file is loaded, the
      file name displays in the text box. These samples can now be used in the same way as an
      ensemble that was newly generated (as described above). <hr class="figure"><div class="figure" 
><a 
 id="x1-49014r68"></a> <img 
src="Chapt_uq/figs/overview/8_SimSetupLoad2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;68: </span><span  
class="content">Simulation Ensemble Setup Dialog, Load Samples Option</span></div><!--tex4ht:label?: x1-49014r68 -->
      <!--l. 493--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-4901311"></a>
      </dd></dl>
<a 
 id="x1-49015r111"></a>
<h3 class="sectionHead"><span class="titlemark">4.2.    </span> <a 
 id="x1-500002"></a>UQ Tutorial</h3>
<!--l. 4--><p class="noindent" >This section contains five tutorials that illustrate the use of FOQUS UQ to facilitate the UQ workflow
discussed above.
<!--l. 7--><p class="noindent" >Each tutorial will refer to example files that are typically located at:<br 
class="newline" />C:<span 
class="cmsy-10x-x-120">\</span>Program Files (x86)<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>foqus_2015.10.00<span 
class="cmsy-10x-x-120">\</span>examples.
<a 
 id="x1-50001r117"></a>
<h4 class="subsectionHead"><span class="titlemark">4.2.1.    </span> <a 
 id="x1-510001"></a>Simulation Ensemble Creation and Execution</h4>
<!--l. 4--><p class="noindent" >In this tutorial, a simulation ensemble is created and run.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">From the FOQUS main screen, click the <span class="textul"><span 
class="ptmb7t-x-x-120">Session</span></span> button and then select <span class="textul"><span 
class="ptmb7t-x-x-120">Open Session</span></span> to
      open a session. Browse to the examples folder, go into the UQ subfolder, and then select the
      &#8220;Rosenbrock_novectors.foqus&#8221; problem (Figure <a 
href="#x1-51002r69">69<!--tex4ht:ref: fig:uqt_home --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-51002r69"></a> <img 
src="Chapt_uq/figs/tutorial/1_home2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;69: </span><span  
class="content">Home Screen</span></div><!--tex4ht:label?: x1-51002r69 -->
      <!--l. 15--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Opening this file loads a session that has a flowsheet with one node (Figure <a 
href="#x1-51004r70">70<!--tex4ht:ref: fig:uqt_flowsheet --></a>). See Section
      <a 
href="#x1-290008">2.8<!--tex4ht:ref: subsec.opt.tutorial.flowsheet --></a> for a detailed example of creating a flowsheet. <hr class="figure"><div class="figure" 
><a 
 id="x1-51004r70"></a> <img 
src="Chapt_uq/figs/tutorial/2_flowsheet2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;70: </span><span  
class="content">Flowsheet for Rosenbrock Example</span></div><!--tex4ht:label?: x1-51004r70 -->
      <!--l. 26--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Uncertainty</span></span> button (Figure <a 
href="#x1-51006r71">71<!--tex4ht:ref: fig:uqt_uqhome --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-51006r71"></a> <img 
src="Chapt_uq/figs/tutorial/3_UQScreen2.png" alt="pict"  
>
                                                                                         
                                                                                         
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;71: </span><span  
class="content">Uncertainty Quantification Screen</span></div><!--tex4ht:label?: x1-51006r71 -->
      <!--l. 34--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span> to create a new simulation ensemble.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Add New Ensemble</span></span> dialog displays (Figure <a 
href="#x1-51011r72">72<!--tex4ht:ref: fig:uqt_addnew --></a>). The &#8220;Use flowsheet&#8221; option should be
      enabled.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span 
class="ptmri7t-x-x-120">This item describes additional features and is provided for information only. It is not intended</span>
      <span 
class="ptmri7t-x-x-120">to be followed as part of the step-by-step tutorial. </span><br 
class="newline" />
      <!--l. 44--><p class="noindent" >An alternative is to use an emulator by selecting &#8220;Use emulator.&#8221; This alternative is preferred if the
      actual simulation model is too computationally expensive to be practical for a large number of
      samples. This option enables the user to trade off accuracy for speed by training a response surface
      to approximate the actual simulation model. If this option is selected (Figure <a 
href="#x1-51012r73">73<!--tex4ht:ref: fig:uqt_addnew_emulator --></a>), the user needs to
      provide a training data file containing a small simulation ensemble generated from the actual
      simulation model. This training data file is be in the PSUADE full file format (Section
      <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a>).
           <ul class="itemize1">
           <li class="itemize">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span> and select the training data file with which to train the response surface.
           The  inputs,  outputs  and  response  surface  type  is  read  from  the  training  data  and
           populated accordingly on this dialog box.
           </li>
           <li class="itemize"><span class="underline"><span 
class="ptmb7t-x-x-120">Select Output(s) of Interest</span></span>. To select multiple outputs, the user can use Shift + Click
           to select a range, or use Ctrl + Click to select/deselect individual outputs.</li></ul>
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">OK</span></span>.</dd></dl>
<!--l. 67--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-51011r72"></a> <img 
src="Chapt_uq/figs/tutorial/4_AddNewEnsemble2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;72: </span><span  
class="content">Add New Ensemble Dialog, Flowsheet Option</span></div><!--tex4ht:label?: x1-51011r72 -->
<!--l. 71--><p class="noindent" ></div><hr class="endfigure">
<!--l. 72--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-51012r73"></a>
                                                                                         
                                                                                         
<!--l. 74--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/4a_AddNewEnsemble2_Emulator.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;73: </span><span  
class="content">Add New Ensemble Dialog, Emulator Option</span></div><!--tex4ht:label?: x1-51012r73 -->
                                                                                         
                                                                                         
<!--l. 77--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">This displays the <span class="textul"><span 
class="ptmb7t-x-x-120">Simulation Ensemble Setup</span></span> dialog box (Figure <a 
href="#x1-51018r74">74<!--tex4ht:ref: fig:uqt_sim --></a>) that prompts the user
      for options specific to the creation of input samples.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Within the <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions</span></span> tab, the <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions Table</span></span> has all the inputs from the flowsheet node,
      each displayed in its own row.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">All Variable</span></span> button.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Change the <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span> of &#8220;x2&#8221; to &#8220;fixed.&#8221;
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Enter 5 into the <span class="underline"><span 
class="ptmb7t-x-x-120">Default</span></span> column for &#8220;x2.&#8221;</dd></dl>
      <!--l. 90--><p class="noindent" >Subsequently, other cells in the row are enabled or disabled according to the type selection. <hr class="figure"><div class="figure" 
><a 
 id="x1-51018r74"></a>
      <img 
src="Chapt_uq/figs/tutorial/5_SimSetup2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;74: </span><span  
class="content">Simulation Ensemble Setup Dialog, Distributions Tab</span></div><!--tex4ht:label?: x1-51018r74 -->
      <!--l. 96--><p class="noindent" ></div><hr class="endfigure">
      </dd></dl>
<!--l. 100--><p class="noindent" >In this dialog, extra options that are available related to simulation ensemble setup are discussed.
      <ul class="itemize1">
      <li class="itemize"> Change the PDF of &#8220;x6&#8221; by exploring the drop-down list in the <span class="underline"><span 
class="ptmb7t-x-x-120">PDF</span></span> column of the
      <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions Table</span></span>. The drop-down list is denoted by box (9c) in Figure <a 
href="#x1-51019r75">75<!--tex4ht:ref: fig:uqt_sim_pdfs --></a>. If any of the
      parametric distributions are selected (e.g., &#8220;Normal&#8221;, &#8220;Lognormal&#8221;, &#8220;Weibull&#8221;), the user is
      prompted to enter the appropriate parameters for the selected distribution. If non-parametric
      distribution &#8220;Sample&#8221; is selected, the user needs to specify the name of the sample file (a
      CSV or PSUADE sample format is located in Section <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a>) that contains samples for the
      variable &#8220;x6.&#8221; The user also needs to specify the output index to indicate which output in
      the sample file to use. The resulting simulation ensemble would contain &#8220;x6&#8221; samples that
      are randomly drawn (with replacement) from the samples in this file. <hr class="figure"><div class="figure" 
><a 
 id="x1-51019r75"></a> <img 
src="Chapt_uq/figs/tutorial/6_SimSetupPDFs2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;75: </span><span  
class="content">Simulation Ensemble Setup Dialog, Distributions Tab, PDF Selection</span></div><!--tex4ht:label?: x1-51019r75 -->
      <!--l. 109--><p class="noindent" ></div><hr class="endfigure">
      </li>
      <li class="itemize">Alternatively,  select  <span class="underline"><span 
class="ptmb7t-x-x-120">Choose  sampling  scheme</span></span>  (box  (8)  of  Figure  <a 
href="#x1-51018r74">74<!--tex4ht:ref: fig:uqt_sim --></a>),  and  try  selecting
      &#8220;Load  all  samples  from  a  single  file.&#8221;  With  this  selection,  a  new  dialog  box  (Figure  <a 
href="#x1-49014r68">68<!--tex4ht:ref: fig:uq_sim_loadsample --></a>)
      prompts the user to browse to a PSUADE full file, a PSUADE sample file, or CSV file (all
      formats are described in Section <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a>) that contains all the samples for all the input variables
      in the model.</li></ul>
                                                                                         
                                                                                         
<!--l. 113--><p class="noindent" >Both of these options offer the user additional flexibility with respect to characterizing input uncertainty or
generating the input samples directly.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Once complete, switch to the <span class="textul"><span 
class="ptmb7t-x-x-120">Sampling Scheme</span></span> tab (Figure <a 
href="#x1-51021r76">76<!--tex4ht:ref: fig:uqt_sim_samplescheme --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-51021r76"></a> <img 
src="Chapt_uq/figs/tutorial/7_SimSetupSampling2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;76: </span><span  
class="content">Simulation Ensemble Setup Dialog, Sampling Scheme Tab</span></div><!--tex4ht:label?: x1-51021r76 -->
      <!--l. 122--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Select a sampling scheme with the assumption that the user is unsure which sampling scheme to
      use, but wants to perform some kind of response surface analysis. This example helps the user find a
      suitable one.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">For response surface analysis</span></span>. Note the list on the right changes accordingly.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Select &#8220;Latin Hypercube&#8221; from the list on the right.</dd></dl>
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">To generate 500 samples, change the value in &#8220;# of samples.&#8221; Some sampling schemes may
      impose a constraint on the number of samples. If the user has entered an incompatible
      sample size, a pop-up window displays with guidance on the recommended samples
      size.
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">Generate Sample</span></span><span 
class="ptmb7t-x-x-120">s </span>to generate the sample values for all the variable input parameters. On
      Windows, if the user did not install PSUADE in its default location (C:<span 
class="cmsy-10x-x-120">\</span>Program Files
      (x86)<span 
class="cmsy-10x-x-120">\</span>psuade_project 1.7.1<span 
class="cmsy-10x-x-120">\</span>bin<span 
class="cmsy-10x-x-120">\</span>psuade.exe) <span 
class="ptmri7t-x-x-120">and </span>the user did not update the PSUADE path in
      FOQUS settings (refer to Section <a 
href="#x1-150002">2.2.2<!--tex4ht:ref: session-menu --></a>), then the user is prompted to locate the PSUADE
      executable in a file dialog.
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Once the samples are generated, the user can examine them by clicking <span class="underline"><span 
class="ptmb7t-x-x-120">Preview Samples</span></span>. This
      displays a table of the values, as well as the option to view scatter plots of the input values. The user
      can also select multiple inputs at once to view them as separate scatter plots on the same
      figure.
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem">When finished, click <span class="underline"><span 
class="ptmb7t-x-x-120">Done</span></span>.
      </dd><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem">The simulation ensemble should be displayed in the <span class="underline"><span 
class="ptmb7t-x-x-120">Simulation Ensemble Table</span></span>. If the user would
      like to change any of the parameters and regenerate a new set of samples, simply click the <span class="underline"><span 
class="ptmb7t-x-x-120">Revise</span></span>
      button.
      </dd><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem">Next, calculate the output value for each sample. Click <span class="underline"><span 
class="ptmb7t-x-x-120">Launch</span></span>. The user should see the
      progress bar quickly advance, displaying the status of completed runs (Figure <a 
href="#x1-51031r77">77<!--tex4ht:ref: fig:uqt_ensem_added --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-51031r77"></a> <img 
src="Chapt_uq/figs/tutorial/8_EnsembleAdded2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;77: </span><span  
class="content">Simulation Ensemble Added</span></div><!--tex4ht:label?: x1-51031r77 -->
      <!--l. 146--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Next, look at the output.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> for &#8220;Ensemble 1&#8221; (Figure <a 
href="#x1-51034r78">78<!--tex4ht:ref: fig:uqt_ensem_complete --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-51034r78"></a> <img 
src="Chapt_uq/figs/tutorial/9_EnsembleEvalComplete2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;78: </span><span  
class="content">Simulation Ensemble Evaluation Complete</span></div><!--tex4ht:label?: x1-51034r78 -->
           <!--l. 155--><p class="noindent" ></div><hr class="endfigure">
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Step 1 of &#8220;Analysis&#8221; (bottom page), the user selects <span class="underline"><span 
class="ptmb7t-x-x-120">Ensemble Data</span></span> (Figure <a 
href="#x1-51036r79">79<!--tex4ht:ref: fig:uqt_analysis --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-51036r79"></a> <img 
src="Chapt_uq/figs/tutorial/10_AnalysisDialog2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;79: </span><span  
class="content">Simulation Ensemble Analysis</span></div><!--tex4ht:label?: x1-51036r79 -->
           <!--l. 161--><p class="noindent" ></div><hr class="endfigure">
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Step 2 of &#8220;Analysis&#8221; is to select &#8220;Rosenbrock.f&#8221; (Figure <a 
href="#x1-51036r79">79<!--tex4ht:ref: fig:uqt_analysis --></a>).
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Step 3 of &#8220;Analysis&#8221; is to keep the analysis method as &#8220;Uncertainty Analysis&#8221; and then click
           <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span>. The user should see two graphs displaying the probability and cumulative
           distributions plots (Figure <a 
href="#x1-51039r80">80<!--tex4ht:ref: fig:10a.rosenua --></a>).</dd></dl>
      <!--l. 165--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-51039r80"></a> <img 
src="Chapt_uq/figs/tutorial/10a_RosenbrockUA.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;80: </span><span  
class="content">Uncertainty Analysis Results</span></div><!--tex4ht:label?: x1-51039r80 -->
      <!--l. 169--><p class="noindent" ></div><hr class="endfigure">
      </dd></dl>
<!--l. 174--><p class="noindent" >Prior to this, the &#8220;Rosenbrock&#8221; example was selected to illustrate the process of creating and running a
simulation ensemble because simulations complete quickly using this simple model. But from this point
on, the adsorber subsystem of the A650.1 design is used as a motivating example to better illustrate how
one would apply UQ within the context of CCSI.
<!--l. 176--><p class="noindent" >A quick recap on our motivating example: The A650.1 design consists of two coupled reactors: (1) the
two-stage bubbling fluidized bed adsorber and (2) moving bed regenerator, in which the output (outlet of
sorbent stream) from one reactor is the input (inlet) for the other. The performance of the entire carbon
capture system is obtained by solving these two reactors simultaneously, accounting for the
interactions between the reactors. However, it is also necessary to study the individual effects
of the adsorber and the regenerator without the side effects of their coupling since the two
reactors display distinct characteristics under different operating conditions. Thus, the Process
Design/Synthesis Team has given us a version of the A650.1 model that can be run in two modes: (1)
coupled and (2) decoupled. In this section, analysis results are presented from running the
A650.1 model using the decoupled mode and examining the adsorber in isolation from the
regenerator.
<a 
 id="x1-51040r122"></a>
<h4 class="subsectionHead"><span class="titlemark">4.2.2.    </span> <a 
 id="x1-520002"></a>Data Manipulation</h4>
<!--l. 3--><p class="noindent" >In this tutorial, instructions to change the data before analysis are described. Current capabilities include
sample filtering, input/output variable deletion, and output value modification.
                                                                                         
                                                                                         
<h5 class="subsubsectionHead"><a 
 id="x1-530002"></a>Filtering</h5>
<!--l. 9--><p class="noindent" >Filtering involves selecting out samples whose values of a certain input or output fall into a certain range.
Typically, when runs are returned from the Turbine gateway, there could be simulations that
failed to converge in Aspen, thus the simulation samples corresponding to these failed runs
should be excluded from analysis. Follow the steps below to filter out the samples due to failed
runs:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Load from File</span></span> on the UQ window (Figure <a 
href="#x1-53002r81">81<!--tex4ht:ref: fig:uqt_data_filter --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-53002r81"></a> <img 
src="Chapt_uq/figs/tutorial/11_FilteringTab2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;81: </span><span  
class="content">Data Manipulation, Filtering Tab</span></div><!--tex4ht:label?: x1-53002r81 -->
      <!--l. 18--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Select the file &#8220;gmoat5012_9levels.res&#8221; in the examples<span 
class="cmsy-10x-x-120">\</span>UQ folder. This file is an actual simulation
      ensemble that has already been run on the Turbine gateway. To find this file, the user may need to
      change the file filter to &#8220;All files.&#8221;
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Filtering</span></span> tab.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Next, filtering the loaded simulation ensemble based on output values is performed. In
      particular, the user should keep only the samples in which the output parameter status is
      &#8220;0.&#8221;
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Select <span class="underline"><span 
class="ptmb7t-x-x-120">Filter Output</span></span>.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Select &#8220;status&#8221; from the <span class="underline"><span 
class="ptmb7t-x-x-120">Choose Output</span></span> drop-down list.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Enter -.00001 and .00001 as <span class="underline"><span 
class="ptmb7t-x-x-120">Lower Threshold</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Upper Threshold</span></span> respectively,
           and then click return within &#8220;Lower threshold&#8221; and &#8220;Upper threshold.&#8221;
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Perform Filtering then Save as New Ensemble</span></span>.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Once filtering is complete, a new row should be added to the simulation table (Figure <a 
href="#x1-53011r82">82<!--tex4ht:ref: fig:uqt_data_filter_results --></a>).
      This ensemble contains only those samples that have a status value of &#8220;0.&#8221; Analysis can
      now be performed on this new ensemble because this ensemble contains only the valid
      simulations (i.e., those with output status value of 0), in which Aspen calculations have
      properly converged. <hr class="figure"><div class="figure" 
><a 
 id="x1-53011r82"></a> <img 
src="Chapt_uq/figs/tutorial/12_FilterResults2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;82: </span><span  
class="content">Data Manipulation, Filtering Results</span></div><!--tex4ht:label?: x1-53011r82 -->
      <!--l. 44--><p class="noindent" ></div><hr class="endfigure">
      </dd></dl>
                                                                                         
                                                                                         
<h5 class="subsubsectionHead"><a 
 id="x1-540002"></a>Variable Deletion</h5>
<!--l. 51--><p class="noindent" >If an input or output variable is to be removed from consideration for analysis, this can be done in the
<span class="textul"><span 
class="ptmb7t-x-x-120">Inspection/Deletion/Output Value Modification</span></span> tab. Delete the status output from the previous filtering
as it is no longer needed for further analysis.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Verify that the ensemble that resulted from filtering is selected. If not, select that ensemble.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Inspection/Deletion/Output Modification</span></span> tab.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Scroll to the right of the table to the outputs, which are colored yellow.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select the checkbox corresponding to the &#8220;status&#8221; output (the first output).
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Perform Deletion then Save as New Ensemble</span></span>.</dd></dl>
<!--l. 62--><p class="noindent" >The results are illustrated in Figure <a 
href="#x1-54006r83">83<!--tex4ht:ref: fig:uqt_data_mod --></a>. Note: The output count has decreased by one for the new
ensemble. The user can verify that the &#8220;status&#8221; output was removed in the new ensemble by viewing this
in the <span class="underline"><span 
class="ptmb7t-x-x-120">Inspection/Deletion/Output Value Modification</span></span> tab again. Deletion of an input can be performed
similarly by selecting its checkbox and clicking the <span class="underline"><span 
class="ptmb7t-x-x-120">Perform Deletion then Save as New Ensemble</span></span>
button.
<!--l. 65--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-54006r83"></a>
                                                                                         
                                                                                         
<!--l. 66--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/13_DataManipulation2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;83: </span><span  
class="content">Data Manipulation, Inspection/Deletion</span></div><!--tex4ht:label?: x1-54006r83 -->
                                                                                         
                                                                                         
<!--l. 69--><p class="noindent" ></div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-550002"></a>Output Value Modification</h5>
<!--l. 73--><p class="noindent" >To change the value of an output for a sample or several samples, follow steps below:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Select an ensemble.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Inspection/Deletion/Output Value Modification</span></span> tab.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Scroll to the right to the outputs.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click on a cell for one of the outputs and enter a new value. Do the same for another cell.
      Notice that the modified cells turn green. This indicates the cells that have been modified.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Make Output Value Changes Permanent</span></span> to permanently change the values. The
      modified cells will turn yellow, indicating the permanent change. If the user wishes to reset
      the table and start over before making changes permanent, click the <span class="textul"><span 
class="ptmb7t-x-x-120">Reset Table</span></span>.</dd></dl>
<!--l. 88--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-55006r84"></a>
                                                                                         
                                                                                         
<!--l. 89--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/14_DataManipulation_OutputModification2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;84: </span><span  
class="content">Data Manipulation, Value Modification</span></div><!--tex4ht:label?: x1-55006r84 -->
                                                                                         
                                                                                         
<!--l. 92--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
<a 
 id="x1-55007r135"></a>
<h4 class="subsectionHead"><span class="titlemark">4.2.3.    </span> <a 
 id="x1-560003"></a>Single-Output Analysis</h4>
<!--l. 3--><p class="noindent" >From the Single-Output Analysis Screen, the user can perform analyses that are specific to a particular
output of interest. Here, the &#8220;removalCO2&#8221; output parameter is discussed.
<h5 class="subsubsectionHead"><a 
 id="x1-570003"></a>Parameter Selection</h5>
<!--l. 6--><p class="noindent" >For simulation models that have a large number of input parameters, it is common practice to down-select
to a smaller subset of the most important input parameters that are most relevant to the output of interest.
This is done so subsequent detailed studies can be performed more efficiently. By using a smaller set of
inputs, a smaller set of samples may be needed.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">From the UQ window, load the file &#8220;gmoat5012_9levels.filtered&#8221; in examples<span 
class="cmsy-10x-x-120">\</span>UQ. (This file
      contains the same set of samples that resulted from data filtering. They are included here to
      make each demo self-inclusive.)
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Analysis</span></span>. A new page is displayed (Figure <a 
href="#x1-57003r85">85<!--tex4ht:ref: fig:uqt_analysis_param --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-57003r85"></a> <img 
src="Chapt_uq/figs/tutorial/15_ParameterSelection2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;85: </span><span  
class="content">Analysis Dialog, Parameter Selection</span></div><!--tex4ht:label?: x1-57003r85 -->
      <!--l. 15--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under the Qualitative Parameter Selection section, select &#8220;removalCO2&#8221; as the output.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select &#8220;MOAT&#8221; as the method to be used.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Compute input importance</span></span>. A graph should appear with the results (Figure <a 
href="#x1-57007r86">86<!--tex4ht:ref: fig:uqt_param_results --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-57007r86"></a>
      <img 
src="Chapt_uq/figs/tutorial/16_ParamSelectionResults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;86: </span><span  
class="content">Parameter Selection Results</span></div><!--tex4ht:label?: x1-57007r86 -->
      <!--l. 25--><p class="noindent" ></div><hr class="endfigure">
      </dd></dl>
<!--l. 29--><p class="noindent" >The bars in the plot represent the importance of a particular input in determining the value of the output.
For example, the values of dH3 and dS3 are very important in determining the value of removalCO2,
whereas Hce and hp have no affect (the y-axis displays the average changes in the model output as a result
of changing the inputs in their respective ranges. For example, from Figure <a 
href="#x1-57007r86">86<!--tex4ht:ref: fig:uqt_param_results --></a>, changing dH2 in its range
results in an average change in CO<sub><span 
class="cmr-8">2</span></sub> removal as much as about 57 percent with a margin of +/- 3
percent). Thus, it would be safe to exclude any inputs that have negligible bar lengths from
analysis. Next, down-select the ten most important inputs based on these results. See Section
<a 
href="#x1-540002">4.2.2<!--tex4ht:ref: subsubsec:uqt_vardel --></a> for details. Change the number of samples and scheme as desired and then generate new
samples. Click <span class="underline"><span 
class="ptmb7t-x-x-120">Launch</span></span> to run these samples to obtain another simulation ensemble that can be
analyzed.
                                                                                         
                                                                                         
<h5 class="subsubsectionHead"><a 
 id="x1-580003"></a>Ensemble Data Analysis</h5>
<!--l. 33--><p class="noindent" >If the user is interested in the output uncertainty of removalCO2 based on the uncertainties from the ten
most important input parameters, perform uncertainty analysis, which would compute the probability
distribution and sample statistics of &#8220;removalCO2.&#8221;
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Load &#8220;lptau20k_10inputs_4outputs.filtered&#8221; from the examples<span 
class="cmsy-10x-x-120">\</span>UQ folder. Assume this is
      the file that the user would receive after running the cloned simulation ensemble in which
      the  user  has  down-selected  the  ten  most  important  inputs,  set  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Sampling  Scheme</span></span>  to
      &#8220;Quasi-Monte Carlo (LPTAU)&#8221;, set the sample size to 20K, and performed data filtering to
      retain only the samples with the status output equal to &#8220;0.&#8221;
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span>. A new page displays (Figure <a 
href="#x1-58006r87">87<!--tex4ht:ref: fig:uqt_analysis_ua --></a>).
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Select  &#8220;Ensemble  Data&#8221;  to  indicate  that  analysis  is  to  be  directly  performed  on  the  raw
      sample data.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select &#8220;removalCO2&#8221; as the output variable to analyze.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Select &#8220;Uncertainty Analysis&#8221; and then click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span>.</dd></dl>
<!--l. 49--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-58006r87"></a>
                                                                                         
                                                                                         
<!--l. 50--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/17_UAScreen2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;87: </span><span  
class="content">Analysis Dialog, Ensemble Data Uncertainty Analysis</span></div><!--tex4ht:label?: x1-58006r87 -->
                                                                                         
                                                                                         
<!--l. 53--><p class="noindent" ></div><hr class="endfigure">
<!--l. 55--><p class="noindent" >Once uncertainty analysis is complete, results display (Figure <a 
href="#x1-58007r88">88<!--tex4ht:ref: fig:uqt_ua_results --></a>) illustrating the probability distribution
function (PDF), cumulative distribution function (CDF), and the sufficient statistics (e.g., mean, standard
deviation) of &#8220;removalCO2&#8221; (top left corner of the PDF plot). This is used to evaluate if the output
uncertainty is acceptable. If the output uncertainty is too great or the user prefers the system to operate
within a higher percentage of capture, pursue further analyses to understand the relationships between the
inputs and outputs, and investigate what can be done to reduce the output uncertainties by reducing the
input uncertainties.
<!--l. 58--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-58007r88"></a>
                                                                                         
                                                                                         
<!--l. 59--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/18_UAResults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;88: </span><span  
class="content">Ensemble Data Uncertainty Analysis Results</span></div><!--tex4ht:label?: x1-58007r88 -->
                                                                                         
                                                                                         
<!--l. 62--><p class="noindent" ></div><hr class="endfigure">
<!--l. 64--><p class="noindent" >Next, the user may apply variance-based sensitivity analysis to quantify each inputs contribution to the
output variance:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">From the bottom of the &#8220;Analysis&#8221; section, select &#8220;Sensitivity Analysis.&#8221;
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">There  are  three  options  for  sensitivity  analysis:  (1)  first-order,  (2)  second-order,  and  (3)
      total-order.  First-order  analysis  examines  the  effect  of  varying  an  input  parameter  alone.
      Second-order analysis examines the effect of varying pairs of input parameters. Total-order
      analysis  examines  all  interactions&#8217;  effect  of  varying  an  input  parameter  alone  and  as  a
      combination with any other input parameters. For this demonstration, select &#8220;Total-order&#8221;
      and click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span>. The total sensitivity indices display in a graph. Note: If the simulation
      ensemble has more than ten inputs, &#8220;Total-order&#8221; is disabled (since any reasonable sample
      size is not sufficient). Additionally, since quantitative sensitivity analysis in general requires
      large  ensembles  with  many  samples  (thousands  or  more),  ensemble  sensitivity  analysis
      (without  the  use  of  response  surfaces)  is  often  less  practical  and  accurate  than  response
      surface based analyses. The result is illustrated in Figure <a 
href="#x1-58010r89">89<!--tex4ht:ref: fig:uqt_sa_results --></a>.</dd></dl>
<!--l. 72--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-58010r89"></a>
                                                                                         
                                                                                         
<!--l. 73--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/19_TotalOrderSAResults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;89: </span><span  
class="content">Ensemble Data Total-order Sensitivity Analysis Results</span></div><!--tex4ht:label?: x1-58010r89 -->
                                                                                         
                                                                                         
<!--l. 76--><p class="noindent" ></div><hr class="endfigure">
<!--l. 78--><p class="noindent" >These results confirm that &#8220;removalCO2&#8221; is more sensitive to &#8220;dH3&#8221; and &#8220;dS3&#8221; than other inputs. (The
y-axis displays an approximate percentage of output variance attributed to each individual parameter.
Since total sensitivity includes higher order interaction terms with other parameters, the sum of these total
sensitivity indices usually exceeds 1.)
<h5 class="subsubsectionHead"><a 
 id="x1-590003"></a>Ensemble Data Visualization</h5>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">In this release, ensemble data visualization is only available in &#8220;Expert&#8221; mode. At the top of
      the &#8220;Analyze&#8221; page, toggle the bar to expert mode and select &#8220;removalCO2&#8221; as the output.
      Next, to &#8220;Visualize Data,&#8221; choose an input (e.g., &#8220;UQ_dH1&#8221;) and click <span class="underline"><span 
class="ptmb7t-x-x-120">Visualize</span></span> for a 2-D
      scatter plot of &#8220;removalCO2&#8221; versus that input (Figure <a 
href="#x1-59002r90">90<!--tex4ht:ref: fig:uqt_splot1_results --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-59002r90"></a> <img 
src="Chapt_uq/figs/tutorial/20_VisOneInput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;90: </span><span  
class="content">Ensemble Data Visualization of One Input</span></div><!--tex4ht:label?: x1-59002r90 -->
      <!--l. 89--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Next, select a second input (e.g., &#8220;UQ_dH2&#8221;) and click <span class="underline"><span 
class="ptmb7t-x-x-120">Visualize</span></span> for a 3-D scatter plot of
      &#8220;removalCO2&#8221; versus the two inputs. (Note: The input selections must be unique for the
      <span class="underline"><span 
class="ptmb7t-x-x-120">Visualize</span></span> button to be enabled.) Figure <a 
href="#x1-59004r91">91<!--tex4ht:ref: fig:uqt_splot2_results --></a> shows the results. <hr class="figure"><div class="figure" 
><a 
 id="x1-59004r91"></a> <img 
src="Chapt_uq/figs/tutorial/21_VisTwoInputs.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;91: </span><span  
class="content">Ensemble Data Visualization of Two Inputs</span></div><!--tex4ht:label?: x1-59004r91 -->
      <!--l. 97--><p class="noindent" ></div><hr class="endfigure">
      <!--l. 98--><p class="noindent" >The plot in Figure <a 
href="#x1-59004r91">91<!--tex4ht:ref: fig:uqt_splot2_results --></a> can be rotated by clicking and dragging. </dd></dl>
<a 
 id="x1-59005r143"></a>
<h4 class="subsectionHead"><span class="titlemark">4.2.4.    </span> <a 
 id="x1-600004"></a>Response Surface Based Analysis</h4>
<!--l. 4--><p class="noindent" >For simulation models that are expensive to run, response surface analysis can be a resourceful option. To
construct a response surface, a space-filling sampling design is desired. For example, quasi-Monte Carlo
(LPTAU) or Latin hypercube sampling schemes are recommended. Additionally, there are
several possibilities for curve fitting methods. If the sample size is relatively small, polynomial
regression or Gaussian process (if installed as part of PSUADE) is preferred. Alternatively, if the
sample size is large enough (one hundred or more), cubic splines (if installed) may also be
feasible.
<h5 class="subsubsectionHead"><a 
 id="x1-610004"></a>Response Surface Model Validation</h5>
<!--l. 8--><p class="noindent" >To proceed with response surface based analysis, the user needs to find a suitable response surface with
which to approximate the input-to-output mapping. Validation is performed to see how well a particular
response surface can predict a subset of the withheld data.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Load  &#8220;lptau100_10inputs_4outputs.dat&#8221;  from  the  examples<span 
class="cmsy-10x-x-120">\</span>UQ  folder.  Note:  This  is  an
                                                                                         
                                                                                         
      extremely  small  simulation  ensemble,  as  this  is  used  to  highlight  the  differences  (in
      validation results) between a good response surface and a bad one.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> for the current ensemble. A new dialog page displays (Figure <a 
href="#x1-61004r92">92<!--tex4ht:ref: fig:uqt_rs_validate --></a>).
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8220;Analysis&#8221; (bottom section), under Step 1, select &#8220;Response Surface.&#8221; <hr class="figure"><div class="figure" 
><a 
 id="x1-61004r92"></a> <img 
src="Chapt_uq/figs/tutorial/22_RSValidationScreen2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;92: </span><span  
class="content">Analysis Dialog, Response Surface Validation of Linear Model</span></div><!--tex4ht:label?: x1-61004r92 -->
      <!--l. 18--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under Step 2, select &#8220;removalCO2&#8221; as the output for analysis.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under Step 3, select &#8220;Polynomial&#8221; for response surface method.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">There are multiple types of polynomial response surfaces, with increasing complexity as the
      user navigates down the list. For now, select &#8220;Linear&#8221; in the next drop-down list.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Insert  5.00  as  the  error  envelope  for  the  validation  plot.  Click  <span class="textul"><span 
class="ptmb7t-x-x-120">Validate</span></span>.  The  result  is
      illustrated in Figure <a 
href="#x1-61009r93">93<!--tex4ht:ref: fig:uqt_rs_validate_results --></a>.</dd></dl>
<!--l. 28--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-61009r93"></a>
                                                                                         
                                                                                         
<!--l. 29--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/23_RSValidationLinear.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;93: </span><span  
class="content">Linear Response Validation Results</span></div><!--tex4ht:label?: x1-61009r93 -->
                                                                                         
                                                                                         
<!--l. 32--><p class="noindent" ></div><hr class="endfigure">
<!--l. 34--><p class="noindent" >The cross-validation results for the linear regression model are displayed as a histogram of errors to the
left and a plot of predicted values versus actual values to the right. The histogram displays the cross
validation error distribution, which provides the user information on what the errors are like overall. If this
distribution is not centered on zero, there may be a systematic bias in the response surface model. If the
distribution is too wide, it is not a good fit. As for the plot of predicted values versus actual
values, the more closely the points are to the diagonal, the better the fit. Most response surface
models, with the exception of MARS, also provide uncertainty information about the response
surface. The vertical error bars on the left plot reflect the uncertainty in the linear response&#8217;s
predictions.
<!--l. 37--><p class="noindent" >In summary, these two figures should provide sufficient information for the user to judge how good the fit
is. As is apparent in the figures, the linear model consistently overestimates and thus is an ill-suited
response surface to model our data. In general, the user may use a few response surface methods to see
which method gives the best fit.
<h5 class="subsubsectionHead"><a 
 id="x1-620004"></a>Response Surface Based Uncertainty Analysis</h5>
<!--l. 41--><p class="noindent" >These capabilities are similar to those for ensemble data analysis. The difference is that the results are now
derived from a much larger ensemble that is computed from the response surface. With the 100 samples
from the ensemble data, a response surface is trained and is used to generate 100K samples internally to
compute the results for uncertainty and sensitivity analyses. (Note: Validation must be performed before
these analyses are available.)
<!--l. 43--><p class="noindent" >After the response surface validation step, select &#8220;Uncertainty Analysis&#8221; to be the UQ analysis in Step 7 of
&#8220;Analysis&#8221; (Figure <a 
href="#x1-61004r92">92<!--tex4ht:ref: fig:uqt_rs_validate --></a>). Click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> and a distribution representing the output uncertainty will be
displayed (Figure <a 
href="#x1-62001r94">94<!--tex4ht:ref: fig:uqt_rsua_results --></a>).
<!--l. 49--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-62001r94"></a>
                                                                                         
                                                                                         
<!--l. 50--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/24_RSUAResults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;94: </span><span  
class="content">Response Surface Based Uncertainty Analysis Results</span></div><!--tex4ht:label?: x1-62001r94 -->
                                                                                         
                                                                                         
<!--l. 53--><p class="noindent" ></div><hr class="endfigure">
<!--l. 55--><p class="noindent" >Compare the response surface based uncertainty results (Figure <a 
href="#x1-62001r94">94<!--tex4ht:ref: fig:uqt_rsua_results --></a>) to the results from ensemble data
analysis (Figure <a 
href="#x1-58007r88">88<!--tex4ht:ref: fig:uqt_ua_results --></a>). The two main differences are easily seen.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ptmb7t-x-x-120">Two PDFs on top plot: </span>A response surface (in this case, linear regression) is used to predict
      the output values corresponding to the input samples. From the validation step (left plot of
      Figure <a 
href="#x1-61009r93">93<!--tex4ht:ref: fig:uqt_rs_validate_results --></a>). Note: There is error associated with the response surfaces predictions. This error
      is propagated in uncertainty analysis, in the form of standard deviations around the predicted
      output values (i.e., the means). <br 
class="newline" />
      <!--l. 60--><p class="noindent" >Accordingly,  two  histograms  are  presented:  The  &#8220;mean  PDF&#8221;  represents  the  output
      probability  distribution  computed  from  the  response  surface&#8217;s  predicted  output  values
      only,  without  consideration  for  the  uncertainties  surrounding  these  predicted  values.
      The  &#8220;ensemble  PDF&#8221;  represents  the  output  probability  distribution  that  encompasses  the
      uncertainties surrounding these predicted values. In most cases, the ensemble PDF should
      have a larger spread because it is accounting for more uncertainties (i.e., those that stem from
      the approximations inherent in the response surface).
      </li>
      <li class="itemize"><span 
class="ptmb7t-x-x-120">Multiple cumulative distribution functions (CDFs) on bottom plot: </span>The &#8220;mean CDF&#8221; is
      constructed from a cumulative sum on the mean PDF in the top plot. Since each predicted
      output value (i.e., the mean) has an associated standard deviation, this information is used
      to construct other PDFs that correspond to output values that are +/- 1, 2, and 3 standard
      deviations from the mean. These PDFs are then converted to CDFs and shown as colored
      lines. These colored lines provide an uncertainty &#8220;envelope&#8221; around the mean CDF.</li></ul>
<h5 class="subsubsectionHead"><a 
 id="x1-630004"></a>Response Surface Based Mixed Epistemic-Aleatory Uncertainty Analysis</h5>
<!--l. 66--><p class="noindent" >In &#8220;Expert Mode&#8221;, the user can perform more advanced uncertainty analysis that handles both epistemic
and aleatory uncertainties. To do so, the user will need to designate the uncertainty type (epistemic or
aleatory) for each uncertain input. In general, epistemic uncertainties are reducible uncertainties that arise
due to lack of knowledge, such as simplifying assumptions in a mathematical model. Therefore, epistemic
uncertainty is often characterized by upper and lower bounds. On the other hand, aleatory uncertainties
are irreducible uncertainties that represent natural, physical variability in the phenomenon
under study. As such, aleatory uncertainties are often characterized by distributions. Hence, the
user is required to provide a PDF for each aleatory input. (In FOQUS, with the exception
of mixed epistemic-aleatory uncertainty analysis, all uncertain inputs are treated as aleatory
inputs.)
<!--l. 81--><p class="noindent" >To perform mixed epistemic-aleatory uncertainty (Figure <a 
href="#x1-63001r95">95<!--tex4ht:ref: fig:uqt_rsaeua --></a>), switch to &#8220;Expert Mode&#8221; by clicking the
<span class="textul"><span 
class="ptmb7t-x-x-120">Mode</span></span> button that toggles between the analysis modes. After response surface validation, select
&#8220;Uncertainty Analysis&#8221; in the first <span class="underline"><span 
class="ptmb7t-x-x-120">Choose UQ Analysis</span></span> drop-down list, then &#8220;Epistemic-Aleatory&#8221; in the
                                                                                         
                                                                                         
secondary drop-down list, for the UQ analysis. In the input table, designate the parameter <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span>
(&#8220;Epistemic&#8221;, &#8220;Aleatory&#8221; or &#8220;Fixed&#8221;) and the corresponding information for each input. Once complete,
click <span class="underline"><span 
class="ptmb7t-x-x-120">Analyze</span></span>.
<!--l. 91--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-63001r95"></a>
                                                                                         
                                                                                         
<!--l. 93--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/24a_RSAEUA.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;95: </span><span  
class="content">Response Surface Based Mixed Epistemic-Aleatory Uncertainty Analysis</span></div><!--tex4ht:label?: x1-63001r95 -->
                                                                                         
                                                                                         
<!--l. 96--><p class="noindent" ></div><hr class="endfigure">
<!--l. 98--><p class="noindent" >The results of mixed epistemic-aleatory uncertainty analysis is a plot (Figure <a 
href="#x1-63002r96">96<!--tex4ht:ref: fig:uqt_rsaeua_results --></a>) containing
multiple CDFs. In the mixed analysis, the epistemic inputs are sampled according to their
lower and upper bounds. Each sample point spawns a response surface based uncertainty
analysis, in which the epistemic inputs are fixed at their sampled value and the aleatory input
uncertainties are propagated to generate a CDF that represents the output uncertainty. A slider is
provided for the user to extract the probability range corresponding to a particular value of the
output.
<!--l. 109--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-63002r96"></a>
                                                                                         
                                                                                         
<!--l. 110--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/24b_RSAEUAResults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;96: </span><span  
class="content">Response Surface Based Mixed Epistemic-Aleatory Uncertainty Analysis Results</span></div><!--tex4ht:label?: x1-63002r96 -->
                                                                                         
                                                                                         
<!--l. 113--><p class="noindent" ></div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-640004"></a>Response Surface Based Sensitivity Analysis</h5>
<!--l. 117--><p class="noindent" >For quantitative sensitivity analysis, follows these steps:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">In  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Choose  UQ  Analysis</span></span>  drop-down  list  (Step  6  of  &#8220;Analysis&#8221;),  select  &#8220;Sensitivity
      Analysis.&#8221;
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">In the next drop-down list, select &#8220;First-order&#8221; and click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span>. (This analysis may take a
      long time depending on the sample size and the response surface used.)</dd></dl>
<!--l. 123--><p class="noindent" >Prediction errors are associated with the response surface&#8217;s predictions of the output values (left plot of
Figure <a 
href="#x1-61009r93">93<!--tex4ht:ref: fig:uqt_rs_validate_results --></a>). Earlier, it was observed that the response surface error contributed to the output uncertainty,
leading to a larger spread in the output PDF (top plot of Figure <a 
href="#x1-62001r94">94<!--tex4ht:ref: fig:uqt_rsua_results --></a>). In Figure <a 
href="#x1-64003r97">97<!--tex4ht:ref: fig:uqt_rssa_results --></a>, the response surface
error contributed to uncertainty (shown as blue error bars) surrounding each input&#8217;s contribution to the
output variance (shown as yellow bars).
<!--l. 126--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-64003r97"></a>
                                                                                         
                                                                                         
<!--l. 127--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/25_RSSobol1Results.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;97: </span><span  
class="content">Response Surface Based First-order Sensitivity Results</span></div><!--tex4ht:label?: x1-64003r97 -->
                                                                                         
                                                                                         
<!--l. 130--><p class="noindent" ></div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-650004"></a>Response Surface Based Visualization</h5>
<!--l. 134--><p class="noindent" >The response surface that has been validated can also be visualized.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Select one input next to &#8220;Visualize Response Surface.&#8221;
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Visualize</span></span> to display a 2-D line plot that displays &#8220;removalCO2&#8221; versus the selected
      input. <hr class="figure"><div class="figure" 
><a 
 id="x1-65003r98"></a> <img 
src="Chapt_uq/figs/tutorial/26_1DRSVis.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;98: </span><span  
class="content">1-D Response Surface Visualization </span></div><!--tex4ht:label?: x1-65003r98 -->
      <!--l. 145--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Select another input next to the first one for a 2-D response surface visualization.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Visualize</span></span> to display a figure with a 3-D surface plot and a 2-D contour plot (Figure
      <a 
href="#x1-65006r99">99<!--tex4ht:ref: fig:uqt_rs2_results --></a>).<br 
class="newline" /><hr class="figure"><div class="figure" 
><a 
 id="x1-65006r99"></a> <img 
src="Chapt_uq/figs/tutorial/27_2DRSVis.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;99: </span><span  
class="content">2-D Response Surface Visualization </span></div><!--tex4ht:label?: x1-65006r99 -->
      <!--l. 154--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Select another input next to the second one for a 3-D response surface visualization.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Visualize</span></span> to display a 3-D isosurface plot. Move the slider to see the points in the 3-D
      input space that fall within the small range of &#8220;removalCO2&#8221; (Figure <a 
href="#x1-65009r100">100<!--tex4ht:ref: fig:uqt_rs3_results --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-65009r100"></a> <img 
src="Chapt_uq/figs/tutorial/28_3DRSVis.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;100: </span><span  
class="content">3-D Response Surface Visualization </span></div><!--tex4ht:label?: x1-65009r100 -->
      <!--l. 163--><p class="noindent" ></div><hr class="endfigure">
      </dd></dl>
<a 
 id="x1-65010r154"></a>
<h4 class="subsectionHead"><span class="titlemark">4.2.5.    </span> <a 
 id="x1-660005"></a>Bayesian Inference</h4>
<!--l. 3--><p class="noindent" >For each output variable, the user specifies an observed value (from physical experiments) with the
associated uncertainties (in the form of standard deviation), if applicable. Whether standard inference or
SolventFit is selected, the tool will launch a Markov Chain Monte Carlo (MCMC) algorithm to compute
the posterior distributions of the uncertain input parameters. These input posterior distributions represent a
refined hypothesis about the input uncertainties in light of what was previously known (in
the form of input prior distributions) and what was observed currently (in the form of noisy
outputs).
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Load the file &#8220;lptau5k_10inputs_4outputs.filtered&#8221; from the examples<span 
class="cmsy-10x-x-120">\</span>UQ folder.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> for the current ensemble and a new dialog box displays (Figure <a 
href="#x1-66003r101">101<!--tex4ht:ref: fig:uqt_analysis_infer --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-66003r101"></a> <img 
src="Chapt_uq/figs/tutorial/29_InfSelection2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;101: </span><span  
class="content">Analysis Dialog, Bayesian Inference</span></div><!--tex4ht:label?: x1-66003r101 -->
      <!--l. 21--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Select &#8220;Response Surface&#8221; in the &#8220;Analysis&#8221; section.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select &#8220;Output variable to analyze&#8221; to be &#8220;removalCO2.&#8221;
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Select &#8220;Linear Regression&#8221; as the response surface.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Insert 5.00 as the error envelope for the validation plot. Click <span class="textul"><span 
class="ptmb7t-x-x-120">Validate</span></span>. The GUI allows the
      user to proceed with Bayesian inference after one input has been validated; however, the user
      may want to validate all outputs since they are all used in the inference.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Once validation is completed, click <span class="textul"><span 
class="ptmb7t-x-x-120">Infer</span></span> at the lower right corner, which displays a new
      dialog box (Figure <a 
href="#x1-66012r102">102<!--tex4ht:ref: fig:uqt_infer --></a>).
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">In the <span class="textul"><span 
class="ptmb7t-x-x-120">Output Settings</span></span> table (on the left), select the second, third, and fourth outputs as the
      observed outputs. The user can experiment with using different response surface models (for
      example, linear polynomials) to approximate the mapping from inputs to each of the outputs.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">In  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Input  Settings</span></span>  table  (on  the  right),  designate  input  types  (variable,  design,  or
      fixed)  and  if  necessary,  switch  to  Expert  Mode  to  revise  the  prior  distribution  on  the
      input parameters. The prior distribution represents knowledge that the user possesses about
      the  inputs  before  observational  data  (from  experiments)  has  been  incorporated  into  this
      knowledge. If the user does not have any updated knowledge about the simulation ensemble,
      it is OK to leave the table as is.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">In the <span class="textul"><span 
class="ptmb7t-x-x-120">Observations</span></span> table (in the middle), select the number of experiments from which the
      user can get observational data. In essence, if the user has <span 
class="cmmi-12">N </span>observations, then <span 
class="cmmi-12">N </span>should
      be set as the number of experiments. The table will then populate columns for design inputs
      (if any) and observed outputs. Currently, only normal distribution is supported as the noise
      model for observations. Enter the mean and standard deviation for each of these
      observations. For convenience, the mean and standard deviation values are prepopulated
      with the results from uncertainty analysis. These values have been provided as a sanity
      check for the user, in case the observation for a particular output is way out of range from
      these distributions. <hr class="figure"><div class="figure" 
><a 
 id="x1-66012r102"></a> <img 
src="Chapt_uq/figs/tutorial/30_InfScreen2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;102: </span><span  
class="content">Bayesian Inference Dialog for Standard Inference</span></div><!--tex4ht:label?: x1-66012r102 -->
      <!--l. 59--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">To save an input sample drawn from the posterior distribution, select the <span class="underline"><span 
class="ptmb7t-x-x-120">Save Posterior</span>
                                                                                         
                                                                                         
      <span 
class="ptmb7t-x-x-120">Input Samples to File</span></span> checkbox and select a location and file name to store the sample.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Infer</span></span> to start the analysis. Inference can take a long time; thus, a stop feature has been
      implemented.  Once inference starts, the <span class="underline"><span 
class="ptmb7t-x-x-120">Infer</span></span> button changes to <span class="underline"><span 
class="ptmb7t-x-x-120">Stop</span></span>.  To stop inference
      calculations,  click  <span class="underline"><span 
class="ptmb7t-x-x-120">Stop</span></span>  which  changes  the  button  back  to  <span class="underline"><span 
class="ptmb7t-x-x-120">Infer</span></span>,  allowing  the  user  to
      restart the calculations from scratch. If inference is allowed to run its course, its results are
      interpolated to produce heat maps (off-diagonal subplots in Figure <a 
href="#x1-66015r103">103<!--tex4ht:ref: fig:uqt_infer_results --></a>) for visualization.
      This interpolation step can take a few minutes and while it is running, <span class="underline"><span 
class="ptmb7t-x-x-120">Infer</span></span> is disabled.</dd></dl>
<!--l. 76--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-66015r103"></a>
                                                                                         
                                                                                         
<!--l. 78--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/31a_InfPriorResults.png" alt="pict"  
> <img 
src="Chapt_uq/figs/tutorial/31_InfResults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;103: </span><span  
class="content">Bayesian Inference Results</span></div><!--tex4ht:label?: x1-66015r103 -->
                                                                                         
                                                                                         
<!--l. 83--><p class="noindent" ></div><hr class="endfigure">
<!--l. 85--><p class="noindent" >Once the inference and interpolation steps are complete, two windows will be displayed: a multi-plot
figure of the prior distributions and another multi-plot figure of the posterior distributions. If the user has
selected the <span class="underline"><span 
class="ptmb7t-x-x-120">Save Posterior Input Samples to File</span></span> checkbox, then a sample file will also be written to the
designated file location.
<!--l. 91--><p class="noindent" >In the resulting prior and posterior plots (Figure <a 
href="#x1-66015r103">103<!--tex4ht:ref: fig:uqt_infer_results --></a>), the univariate input distributions are displayed as
histograms on the diagonal. The bivariate input distributions (between pairs of inputs) are displayed as
heat maps in the off-diagonal subplots. On these heat maps, the regions in red reflect the input space with
higher probability. In the posterior plots, the red regions represent inputs that are more likely to have
generated the specified observations on the outputs. By comparing the prior and the posterior figures,
the user can see the &#8221;before&#8221; and &#8221;after&#8221; impact of inference on our knowledge of the input
uncertainty.
<!--l. 103--><p class="noindent" >To zoom in on any one of the subplots, left-click; to zoom out, right-click. To display a subset of these
subplots, clear the checkbox for the inputs to be omitted (from the first column of the Input Prior Table)
and click <span class="underline"><span 
class="ptmb7t-x-x-120">Replot</span></span> (Figure <a 
href="#x1-66016r104">104<!--tex4ht:ref: fig:uqt_infer_replot_results --></a>).
<!--l. 109--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-66016r104"></a>
                                                                                         
                                                                                         
<!--l. 111--><p class="noindent" ><img 
src="Chapt_uq/figs/tutorial/32a_InfPriorReplotResults.png" alt="pict"  
> <img 
src="Chapt_uq/figs/tutorial/32_InfReplotResults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;104: </span><span  
class="content">Bayesian Inference Replot Results</span></div><!--tex4ht:label?: x1-66016r104 -->
                                                                                         
                                                                                         
<!--l. 116--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-66017r121"></a>
<h3 class="sectionHead"><span class="titlemark">4.3.    </span> <a 
 id="x1-670003"></a>File Formats</h3>
<!--l. 4--><p class="noindent" >Most UQ capabilities within FOQUS rely on PSUADE. As such, different UQ components require input
files in PSUADE formats. CSV (comma-separated values) files are also compatible. The specific
requirements are explained in Sections <a 
href="#x1-500002">4.2<!--tex4ht:ref: sec:uq_tutorial --></a> and <a 
href="#x1-730006">6<!--tex4ht:ref: sec:ouu_overview --></a>.
<a 
 id="x1-67001r169"></a>
<h4 class="subsectionHead"><span class="titlemark">4.3.1.    </span> <a 
 id="x1-680001"></a>PSUADE Full File Format</h4>
<!--l. 9--><p class="noindent" >The following is an example of the full PSUADE file format. Comments in red do not appear in the file
and are only for instructional purposes.
<div class="fancyvrb" id="fancyvrb2"><a 
 id="x1-68002r1"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;PSUADE_IO</span><span 
class="pcrr7t-x-x-109">&#x00A0;(Note</span><span 
class="pcrr7t-x-x-109">&#x00A0;:</span><span 
class="pcrr7t-x-x-109">&#x00A0;inputs</span><span 
class="pcrr7t-x-x-109">&#x00A0;not</span><span 
class="pcrr7t-x-x-109">&#x00A0;true</span><span 
class="pcrr7t-x-x-109">&#x00A0;inputs</span><span 
class="pcrr7t-x-x-109">&#x00A0;if</span><span 
class="pcrr7t-x-x-109">&#x00A0;pdf</span><span 
class="pcrr7t-x-x-109">&#x00A0;~=U)</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;data</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-68004r2"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;5</span><span 
class="pcrr7t-x-x-109">&#x00A0;2</span><span 
class="pcrr7t-x-x-109">&#x00A0;6</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">5</span><span 
class="pcrr7t-x-x-80">&#x00A0;inputs,</span><span 
class="pcrr7t-x-x-80">&#x00A0;2</span><span 
class="pcrr7t-x-x-80">&#x00A0;outputs,</span><span 
class="pcrr7t-x-x-80">&#x00A0;and</span><span 
class="pcrr7t-x-x-80">&#x00A0;6</span><span 
class="pcrr7t-x-x-80">&#x00A0;samples</span>
<br class="fancyvrb" /><a 
 id="x1-68006r3"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;index,</span><span 
class="pcrr7t-x-x-80">&#x00A0;run</span><span 
class="pcrr7t-x-x-80">&#x00A0;value</span><span 
class="pcrr7t-x-x-80">&#x00A0;(0</span><span 
class="pcrr7t-x-x-80">&#x00A0;if</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;has</span><span 
class="pcrr7t-x-x-80">&#x00A0;not</span><span 
class="pcrr7t-x-x-80">&#x00A0;been</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated.)</span>
<br class="fancyvrb" /><a 
 id="x1-68008r4"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-9.5979899497487442e-01</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Value</span><span 
class="pcrr7t-x-x-80">&#x00A0;to</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;first</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span>
<br class="fancyvrb" /><a 
 id="x1-68010r5"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;1.0552763819095490e-01</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Value</span><span 
class="pcrr7t-x-x-80">&#x00A0;to</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;second</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span>
<br class="fancyvrb" /><a 
 id="x1-68012r6"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;2.1608040201005019e-01</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Value</span><span 
class="pcrr7t-x-x-80">&#x00A0;to</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;third</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span>
<br class="fancyvrb" /><a 
 id="x1-68014r7"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-2.1608040201005019e-10</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Value</span><span 
class="pcrr7t-x-x-80">&#x00A0;to</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;fourth</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span>
<br class="fancyvrb" /><a 
 id="x1-68016r8"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-2.5628140703517588e-01</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Value</span><span 
class="pcrr7t-x-x-80">&#x00A0;to</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;fifth</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span>
<br class="fancyvrb" /><a 
 id="x1-68018r9"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-1.6979984061153328e+00</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Value</span><span 
class="pcrr7t-x-x-80">&#x00A0;to</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;first</span><span 
class="pcrr7t-x-x-80">&#x00A0;output</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span><span 
class="pcrr7t-x-x-80">&#x00A0;(9.99e+34</span><span 
class="pcrr7t-x-x-80">&#x00A0;if</span><span 
class="pcrr7t-x-x-80">&#x00A0;undefined)</span>
<br class="fancyvrb" /><a 
 id="x1-68020r10"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-7.8296928608517824e-01</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Value</span><span 
class="pcrr7t-x-x-80">&#x00A0;to</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;second</span><span 
class="pcrr7t-x-x-80">&#x00A0;output</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span><span 
class="pcrr7t-x-x-80">&#x00A0;(9.99e+34</span><span 
class="pcrr7t-x-x-80">&#x00A0;if</span><span 
class="pcrr7t-x-x-80">&#x00A0;undefined)</span>
<br class="fancyvrb" /><a 
 id="x1-68022r11"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;2</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;2.</span><span 
class="pcrr7t-x-x-80">&#x00A0;Run</span><span 
class="pcrr7t-x-x-80">&#x00A0;value</span><span 
class="pcrr7t-x-x-80">&#x00A0;is</span><span 
class="pcrr7t-x-x-80">&#x00A0;true</span><span 
class="pcrr7t-x-x-80">&#x00A0;(outputs</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated).</span><br class="fancyvrb" /><a 
 id="x1-68024r12"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-9.5477386934673336e-02</span>
<br class="fancyvrb" /><a 
 id="x1-68026r13"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;8.5427135678391997e-02</span><br class="fancyvrb" /><a 
 id="x1-68028r14"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-9.7989949748743721e-01</span><br class="fancyvrb" /><a 
 id="x1-68030r15"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-4.8743718592964824e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68032r16"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;3.5175879396984966e-02</span><br class="fancyvrb" /><a 
 id="x1-68034r17"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;9.7708275149071300e-01</span><br class="fancyvrb" /><a 
 id="x1-68036r18"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;8.6655187317087226e-02</span>
<br class="fancyvrb" /><a 
 id="x1-68038r19"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;3</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;3.</span><span 
class="pcrr7t-x-x-80">&#x00A0;Run</span><span 
class="pcrr7t-x-x-80">&#x00A0;value</span><span 
class="pcrr7t-x-x-80">&#x00A0;is</span><span 
class="pcrr7t-x-x-80">&#x00A0;true</span><span 
class="pcrr7t-x-x-80">&#x00A0;(outputs</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated).</span><br class="fancyvrb" /><a 
 id="x1-68040r20"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-6.9849246231155782e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68042r21"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-5.9798994974874375e-01</span><br class="fancyvrb" /><a 
 id="x1-68044r22"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-9.6984924623115576e-01</span><br class="fancyvrb" /><a 
 id="x1-68046r23"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;2.5125628140703515e-02</span>
<br class="fancyvrb" /><a 
 id="x1-68048r24"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;8.1909547738693478e-01</span><br class="fancyvrb" /><a 
 id="x1-68050r25"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-6.4229247835711212e-02</span><br class="fancyvrb" /><a 
 id="x1-68052r26"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;2.8546752874255432e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68054r27"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;4</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;4.</span><span 
class="pcrr7t-x-x-80">&#x00A0;Run</span><span 
class="pcrr7t-x-x-80">&#x00A0;value</span><span 
class="pcrr7t-x-x-80">&#x00A0;is</span><span 
class="pcrr7t-x-x-80">&#x00A0;true</span><span 
class="pcrr7t-x-x-80">&#x00A0;(outputs</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated).</span><br class="fancyvrb" /><a 
 id="x1-68056r28"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;2.1608040201005019e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68058r29"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;7.2864321608040195e-01</span><br class="fancyvrb" /><a 
 id="x1-68060r30"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;4.9748743718592969e-01</span><br class="fancyvrb" /><a 
 id="x1-68062r31"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;5.6783919597989962e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68064r32"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;6.7839195979899491e-01</span><br class="fancyvrb" /><a 
 id="x1-68066r33"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-4.7115433927748318e-01</span><br class="fancyvrb" /><a 
 id="x1-68068r34"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-3.5869634004753126e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68070r35"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;5</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;5.</span><span 
class="pcrr7t-x-x-80">&#x00A0;Run</span><span 
class="pcrr7t-x-x-80">&#x00A0;value</span><span 
class="pcrr7t-x-x-80">&#x00A0;is</span><span 
class="pcrr7t-x-x-80">&#x00A0;true</span><span 
class="pcrr7t-x-x-80">&#x00A0;(outputs</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated).</span><br class="fancyvrb" /><a 
 id="x1-68072r36"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;5.6783919597989962e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68074r37"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;5.4773869346733672e-01</span><br class="fancyvrb" /><a 
 id="x1-68076r38"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-2.2613065326633164e-01</span><br class="fancyvrb" /><a 
 id="x1-68078r39"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;3.8693467336683418e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68080r40"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-1.7587939698492461e-01</span><br class="fancyvrb" /><a 
 id="x1-68082r41"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;6.8926859881410230e-03</span><br class="fancyvrb" /><a 
 id="x1-68084r42"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-2.7551395275787588e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68086r43"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;6</span><span 
class="pcrr7t-x-x-109">&#x00A0;0</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;6.</span><span 
class="pcrr7t-x-x-80">&#x00A0;Run</span><span 
class="pcrr7t-x-x-80">&#x00A0;value</span><span 
class="pcrr7t-x-x-80">&#x00A0;is</span><span 
class="pcrr7t-x-x-80">&#x00A0;false</span><span 
class="pcrr7t-x-x-80">&#x00A0;(outputs</span><span 
class="pcrr7t-x-x-80">&#x00A0;not</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated).</span>
<br class="fancyvrb" /><a 
 id="x1-68088r44"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-7.2864321608040195e-01</span><br class="fancyvrb" /><a 
 id="x1-68090r45"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;2.1608040201005019e-01</span><br class="fancyvrb" /><a 
 id="x1-68092r46"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;8.3919597989949746e-01</span>
<br class="fancyvrb" /><a 
 id="x1-68094r47"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;3.5175879396984966e-02</span><br class="fancyvrb" /><a 
 id="x1-68096r48"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;2.3618090452261309e-01</span><br class="fancyvrb" /><a 
 id="x1-68098r49"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;9.9999999999999997e+34</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Output</span><span 
class="pcrr7t-x-x-80">&#x00A0;not</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated.</span>
<br class="fancyvrb" /><a 
 id="x1-68100r50"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;9.9999999999999997e+34</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Output</span><span 
class="pcrr7t-x-x-80">&#x00A0;not</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated.</span><br class="fancyvrb" /><a 
 id="x1-68102r51"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;PSUADE_IO</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;data</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span>
<br class="fancyvrb" /><a 
 id="x1-68104r52"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;PSUADE</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;informational</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-68106r53"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;INPUT</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span>
<br class="fancyvrb" /><a 
 id="x1-68108r54"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;dimension</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;5</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Number</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;inputs</span><br class="fancyvrb" /><a 
 id="x1-68110r55"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;variable</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;A0</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-1.00000e+00</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;1.00000e+00</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Input</span><span 
class="pcrr7t-x-x-80">&#x00A0;name</span><span 
class="pcrr7t-x-x-80">&#x00A0;&amp;</span><span 
class="pcrr7t-x-x-80">&#x00A0;range</span>
<br class="fancyvrb" /><a 
 id="x1-68112r56"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;variable</span><span 
class="pcrr7t-x-x-109">&#x00A0;2</span><span 
class="pcrr7t-x-x-109">&#x00A0;A1</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-1.00000e+00</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;1.00000e+00</span><br class="fancyvrb" /><a 
 id="x1-68114r57"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;variable</span><span 
class="pcrr7t-x-x-109">&#x00A0;3</span><span 
class="pcrr7t-x-x-109">&#x00A0;A2</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-1.00000e+00</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;1.00000e+00</span>
<br class="fancyvrb" /><a 
 id="x1-68116r58"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;variable</span><span 
class="pcrr7t-x-x-109">&#x00A0;4</span><span 
class="pcrr7t-x-x-109">&#x00A0;A3</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-1.00000e+00</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;1.00000e+00</span><br class="fancyvrb" /><a 
 id="x1-68118r59"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;variable</span><span 
class="pcrr7t-x-x-109">&#x00A0;5</span><span 
class="pcrr7t-x-x-109">&#x00A0;A4</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;-1.00000e+00</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;1.00000e+00</span>
<br class="fancyvrb" /><a 
 id="x1-68120r60"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;END</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-68122r61"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;OUTPUT</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;output</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span>
<br class="fancyvrb" /><a 
 id="x1-68124r62"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;dimension</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;2</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Number</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;outputs</span><br class="fancyvrb" /><a 
 id="x1-68126r63"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;variable</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><span 
class="pcrr7t-x-x-109">&#x00A0;Y1</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Output</span><span 
class="pcrr7t-x-x-80">&#x00A0;name</span><br class="fancyvrb" /><a 
 id="x1-68128r64"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;variable</span><span 
class="pcrr7t-x-x-109">&#x00A0;2</span><span 
class="pcrr7t-x-x-109">&#x00A0;Y2</span>
<br class="fancyvrb" /><a 
 id="x1-68130r65"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;END</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;output</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-68132r66"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;METHOD</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;sampling</span><span 
class="pcrr7t-x-x-80">&#x00A0;method</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span>
<br class="fancyvrb" /><a 
 id="x1-68134r67"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;sampling</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;LH</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Latin</span><span 
class="pcrr7t-x-x-80">&#x00A0;Hypercube</span><span 
class="pcrr7t-x-x-80">&#x00A0;sampling</span><br class="fancyvrb" /><a 
 id="x1-68136r68"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;num_samples</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;6</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Number</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;samples</span>
                                                                                         
                                                                                         
<br class="fancyvrb" /><a 
 id="x1-68138r69"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;END</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;sampling</span><span 
class="pcrr7t-x-x-80">&#x00A0;method</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-68140r70"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;APPLICATION</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;application</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span>
<br class="fancyvrb" /><a 
 id="x1-68142r71"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;driver</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;NONE</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Name</span><span 
class="pcrr7t-x-x-80">&#x00A0;of</span><span 
class="pcrr7t-x-x-80">&#x00A0;driver</span><span 
class="pcrr7t-x-x-80">&#x00A0;program</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculating</span><span 
class="pcrr7t-x-x-80">&#x00A0;outputs</span><span 
class="pcrr7t-x-x-80">&#x00A0;(NONE</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;no</span><span 
class="pcrr7t-x-x-80">&#x00A0;driver)</span>
<br class="fancyvrb" /><a 
 id="x1-68144r72"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;END</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;application</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-68146r73"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;ANALYSIS</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;analysis</span><span 
class="pcrr7t-x-x-80">&#x00A0;method</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span>
<br class="fancyvrb" /><a 
 id="x1-68148r74"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;analyzer</span><span 
class="pcrr7t-x-x-109">&#x00A0;output_id</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><br class="fancyvrb" /><a 
 id="x1-68150r75"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;analyzer</span><span 
class="pcrr7t-x-x-109">&#x00A0;rstype</span><span 
class="pcrr7t-x-x-109">&#x00A0;=</span><span 
class="pcrr7t-x-x-109">&#x00A0;MARS</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Default</span><span 
class="pcrr7t-x-x-80">&#x00A0;response</span><span 
class="pcrr7t-x-x-80">&#x00A0;surface</span><span 
class="pcrr7t-x-x-80">&#x00A0;type</span>
<br class="fancyvrb" /><a 
 id="x1-68152r76"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;diagnostics</span><span 
class="pcrr7t-x-x-109">&#x00A0;1</span><br class="fancyvrb" /><a 
 id="x1-68154r77"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;END</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;analysis</span><span 
class="pcrr7t-x-x-80">&#x00A0;method</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-68156r78"></a><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;END</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-109">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;information</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span></div>
<!--l. 92--><p class="noindent" >This file format is accepted when:
      <ul class="itemize1">
      <li class="itemize">The user loads an existing ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Load from File</span></span> button from the main
      UQ screen (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>).
      </li>
      <li class="itemize">The user creates a new ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span> button from the main UQ screen
      (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>) and selecting the <span class="textul"><span 
class="ptmb7t-x-x-120">Load all samples from a single file</span></span> radio button in the user&#8217;s
      selection of sample generation (Figure <a 
href="#x1-49014r68">68<!--tex4ht:ref: fig:uq_sim_loadsample --></a>).
      </li>
      <li class="itemize">The user performs optimization under uncertainty from the main OUU screen (Figure <a 
href="#x1-79001r109">109<!--tex4ht:ref: fig:ouu_screen --></a>)
      and selects the <span class="textul"><span 
class="ptmb7t-x-x-120">Load Model From File</span></span> radio button for the user&#8217;s model; for this file, the
      user does not need to specify the first block (i.e., the PSUADE_IO block).</li></ul>
<!--l. 106--><p class="noindent" >This file format is written when:
      <ul class="itemize1">
      <li class="itemize">The user saves an existing ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Save Selected</span></span> button from the main UQ
      screen (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>).</li></ul>
<a 
 id="x1-68157r175"></a>
<h4 class="subsectionHead"><span class="titlemark">4.3.2.    </span> <a 
 id="x1-690002"></a>PSUADE Sample File Format</h4>
<!--l. 114--><p class="noindent" >The following is an example of the sample file format. Comments in red do NOT appear in the file and are
only for instructional purposes.
<div class="fancyvrb" id="fancyvrb3"><a 
 id="x1-69002r1"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;PSUADE_BEGIN</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Start</span><span 
class="pcrr7t-x-x-80">&#x00A0;data</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span><br class="fancyvrb" /><a 
 id="x1-69004r2"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;5</span><span 
class="pcrr7t-x-x-120">&#x00A0;2</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">5</span><span 
class="pcrr7t-x-x-80">&#x00A0;samples,</span><span 
class="pcrr7t-x-x-80">&#x00A0;2</span><span 
class="pcrr7t-x-x-80">&#x00A0;inputs</span>
<br class="fancyvrb" /><a 
 id="x1-69006r3"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;1</span><span 
class="pcrr7t-x-x-120">&#x00A0;4.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;-1.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;index,</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;values</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;1</span><br class="fancyvrb" /><a 
 id="x1-69008r4"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;2</span><span 
class="pcrr7t-x-x-120">&#x00A0;3.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;2.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;index,</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;values</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;2</span>
<br class="fancyvrb" /><a 
 id="x1-69010r5"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;3</span><span 
class="pcrr7t-x-x-120">&#x00A0;5.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;1.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;index,</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;values</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;3</span><br class="fancyvrb" /><a 
 id="x1-69012r6"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;4</span><span 
class="pcrr7t-x-x-120">&#x00A0;2.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;1.5</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;index,</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;values</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;4</span>
<br class="fancyvrb" /><a 
 id="x1-69014r7"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;5</span><span 
class="pcrr7t-x-x-120">&#x00A0;3.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;3.0</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;index,</span><span 
class="pcrr7t-x-x-80">&#x00A0;input</span><span 
class="pcrr7t-x-x-80">&#x00A0;values</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;point</span><span 
class="pcrr7t-x-x-80">&#x00A0;5</span><br class="fancyvrb" /><a 
 id="x1-69016r8"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;PSUADE_END</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">End</span><span 
class="pcrr7t-x-x-80">&#x00A0;data</span><span 
class="pcrr7t-x-x-80">&#x00A0;block</span></div>
<!--l. 127--><p class="noindent" >This file format is accepted when:
      <ul class="itemize1">
      <li class="itemize">The user creates a new ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span> button from the main UQ screen
      (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>) and selecting the <span class="textul"><span 
class="ptmb7t-x-x-120">Load all samples from a single file</span></span> radio button in the user&#8217;s
      selection of sample generation (Figure <a 
href="#x1-49014r68">68<!--tex4ht:ref: fig:uq_sim_loadsample --></a>).
                                                                                         
                                                                                         
      </li>
      <li class="itemize">The user creates a new ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span> button from the main UQ screen
      (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>) and selecting the <span class="textul"><span 
class="ptmb7t-x-x-120">Choose sampling scheme</span></span> radio button in the user&#8217;s selection
      of sample generation (Figure <a 
href="#x1-49001r66">66<!--tex4ht:ref: fig:uq_sim_dist --></a>); in the <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions</span></span> tab, if the user designates an input
      variable&#8217;s PDF to be of type &#8220;Sample&#8221;, the &#8220;Param 1&#8221; field will generate a <span class="textul"><span 
class="ptmb7t-x-x-120">Select File</span></span> button
      that prompts for the sample file representing the input&#8217;s PDF.
      </li>
      <li class="itemize">Similar  to  above,  when  the  user  enters  Expert  Mode  within  the  Analysis  dialog;  within
      Expert  Mode  (Figure  <a 
href="#x1-63001r95">95<!--tex4ht:ref: fig:uqt_rsaeua --></a>),  the  user  can  change  the  input  distribution  before  performing
      response surface based analysis.
      </li>
      <li class="itemize">The user performs optimization under uncertainty from the main OUU screen (Figure <a 
href="#x1-79001r109">109<!--tex4ht:ref: fig:ouu_screen --></a>);
      if any of the variables are designated as random variables, the <span class="textul"><span 
class="ptmb7t-x-x-120">UQ Setup</span></span> tab will be displayed
      and any prompt for loading existing sample (e.g., &#8220;Load existing sample for Z3&#8221; or &#8220;Load
      existing sample for Z4&#8221;) will require this file format. (Currently, the <span class="textul"><span 
class="ptmb7t-x-x-120">UQ Setup</span></span> tab is missing
      from the Figure because no variables have been designated as random.)</li></ul>
<!--l. 154--><p class="noindent" >This file format is written when:
      <ul class="itemize1">
      <li class="itemize">The user wants to save the results of inference by clicking <span class="textul"><span 
class="ptmb7t-x-x-120">Save Posterior Input Samples</span>
      <span 
class="ptmb7t-x-x-120">to File</span></span> within Bayesian Inference (Figure <a 
href="#x1-48040r65">65<!--tex4ht:ref: fig:uq_inf --></a>), which is accessible from the Analysis screen
      of UQ (Figure <a 
href="#x1-48021r63">63<!--tex4ht:ref: fig:uq_analysisW --></a>).</li></ul>
<a 
 id="x1-69017r176"></a>
<h4 class="subsectionHead"><span class="titlemark">4.3.3.    </span> <a 
 id="x1-700003"></a>CSV (Comma Separated Values) File Format</h4>
<!--l. 163--><p class="noindent" >The following is an example of the CSV file format. Comments in red do not appear in the file and are
only for instructional purposes. CSV files can be easily generated using Excel and exporting in the .csv
format
<div class="fancyvrb" id="fancyvrb4"><a 
 id="x1-70002r1"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;A0,A1,A2,A3,A4,Y1,Y2</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Input</span><span 
class="pcrr7t-x-x-80">&#x00A0;variable</span><span 
class="pcrr7t-x-x-80">&#x00A0;names,</span><span 
class="pcrr7t-x-x-80">&#x00A0;then</span><span 
class="pcrr7t-x-x-80">&#x00A0;output</span><span 
class="pcrr7t-x-x-80">&#x00A0;variable</span><span 
class="pcrr7t-x-x-80">&#x00A0;names</span><span 
class="pcrr7t-x-x-80">&#x00A0;(if</span><span 
class="pcrr7t-x-x-80">&#x00A0;any)</span><br class="fancyvrb" /><a 
 id="x1-70004r2"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;-0.959,0.105,0.216,-2.16e-10,-0.256,-1.698,-0.783</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Values</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span>
<br class="fancyvrb" /><a 
 id="x1-70006r3"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">first</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span><span 
class="pcrr7t-x-x-80">&#x00A0;(Output</span><span 
class="pcrr7t-x-x-80">&#x00A0;values</span><span 
class="pcrr7t-x-x-80">&#x00A0;are</span><span 
class="pcrr7t-x-x-80">&#x00A0;not</span><span 
class="pcrr7t-x-x-80">&#x00A0;required</span><span 
class="pcrr7t-x-x-80">&#x00A0;if</span><span 
class="pcrr7t-x-x-80">&#x00A0;not</span><span 
class="pcrr7t-x-x-80">&#x00A0;calculated)</span>
<br class="fancyvrb" /><a 
 id="x1-70008r4"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;-0.095,0.085,-0.980,-0.487,0.035,0.978,0.087</span><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-80">Values</span><span 
class="pcrr7t-x-x-80">&#x00A0;for</span><span 
class="pcrr7t-x-x-80">&#x00A0;the</span><span 
class="pcrr7t-x-x-80">&#x00A0;second</span><span 
class="pcrr7t-x-x-80">&#x00A0;sample</span>
<br class="fancyvrb" /><a 
 id="x1-70010r5"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;-0.698,-0.598,-0.970,0.025,0.819,-0.064,0.285</span><br class="fancyvrb" /><a 
 id="x1-70012r6"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;0.216,0.729,0.497,0.568,0.678,-0.471,-0.359</span>
<br class="fancyvrb" /><a 
 id="x1-70014r7"></a><span 
class="pcrr7t-x-x-120">&#x00A0;</span><span 
class="pcrr7t-x-x-120">&#x00A0;0.568,0.548,-0.226,0.387,-0.176,6.89e-03,-0.276</span></div>
<!--l. 175--><p class="noindent" >Variable names are specified in the first line, with input names and then output names. Output names can
be specified, even if there is no data available for them yet. Data is only required for inputs. In
addition, the variable names line is not required in those places where a PSUADE sample file is
acceptable.
<!--l. 177--><p class="noindent" >This file format is accepted when:
                                                                                         
                                                                                         
      <ul class="itemize1">
      <li class="itemize">The user loads an existing ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Load from File</span></span> button from the main
      UQ screen (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>). Variable names are required.
      </li>
      <li class="itemize">The user creates a new ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span> button from the main UQ screen
      (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>) and selecting the <span class="textul"><span 
class="ptmb7t-x-x-120">Load all samples from a single file</span></span> radio button in the user&#8217;s
      selection of sample generation (Figure <a 
href="#x1-49014r68">68<!--tex4ht:ref: fig:uq_sim_loadsample --></a>).
      </li>
      <li class="itemize">The user creates a new ensemble by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Add New</span></span> button from the main UQ screen
      (Figure <a 
href="#x1-48001r61">61<!--tex4ht:ref: fig:uq_screen --></a>) and selecting the <span class="textul"><span 
class="ptmb7t-x-x-120">Choose sampling scheme</span></span> radio button in the user&#8217;s selection
      of sample generation (Figure <a 
href="#x1-49001r66">66<!--tex4ht:ref: fig:uq_sim_dist --></a>); in the <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions</span></span> tab, if the user designates an input
      variable&#8217;s PDF to be of type &#8220;Sample&#8221;, the &#8220;Param 1&#8221; field will generate a <span class="textul"><span 
class="ptmb7t-x-x-120">Select File</span></span> button
      that prompts for the sample file representing the input&#8217;s PDF.
      </li>
      <li class="itemize">Similar  to  above,  when  the  user  enters  Expert  Mode  within  the  Analysis  dialog;  within
      Expert  Mode  (Figure  <a 
href="#x1-63001r95">95<!--tex4ht:ref: fig:uqt_rsaeua --></a>),  the  user  can  change  the  input  distribution  before  performing
      response surface based analysis.
      </li>
      <li class="itemize">The user performs optimization under uncertainty from the main OUU screen (Figure <a 
href="#x1-79001r109">109<!--tex4ht:ref: fig:ouu_screen --></a>);
      if any of the variables are designated as random variables, the <span class="textul"><span 
class="ptmb7t-x-x-120">UQ Setup</span></span> tab will be displayed
      and any prompt for loading existing sample (e.g., &#8220;Load existing sample for Z3&#8221; or &#8220;Load
      existing sample for Z4&#8221;) will require this file format. (Currently, the <span class="textul"><span 
class="ptmb7t-x-x-120">UQ Setup</span></span> tab is missing
      from the Figure because no variables have been designated as random.)</li></ul>
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;5</span><br /><a 
 id="x1-710005"></a>SolventFit</h2>
<!--l. 3--><p class="noindent" >The SolventFit module is an uncertainty quantification tool for full Bayesian calibration of an Aspen Plus
solvent process model to experimental data. SolventFit may provide improved predictions with
uncertainty bounds by accounting for uncertainty in model parameters and deficiencies in
the model form. The result is a posterior distribution of parameters allowing for predictions
with uncertainty. uses a custom BSS-ANOVA-based response surface for the outputs. Like
the Bayesian inference module, the <span class="underline"><span 
class="ptmb7t-x-x-120">SolventFit</span></span> algorithm [<a 
href="#XBhat_2015">10</a>] utilizes Markov Chain Monte
Carlo (MCMC) to compute the posterior distributions, and uses a custom BSS-ANOVA-based
response surface (emulators) that serves as a fast approximations to the actual simulation
model.
<a 
 id="x1-71001r174"></a>
<h3 class="sectionHead"><span class="titlemark">5.1.    </span> <a 
 id="x1-720001"></a>SolventFit Instructions</h3>
<!--l. 16--><p class="noindent" >To use <span class="underline"><span 
class="ptmb7t-x-x-120">SolventFit</span></span>, the user will need to install R, as well as the R packages &#8220;MCMCpack&#8221;, &#8220;abind&#8221; and
&#8220;MASS&#8221;. Please refer to the installation instructions in Section <a 
href="#x1-1180003">8.3<!--tex4ht:ref: (sec.surrogate.acosso) --></a>. Once R is installed, the user will also
need to set the path to the RScript executable within FOQUS.
<!--l. 24--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-72001r105"></a>
                                                                                         
                                                                                         
<!--l. 25--><p class="noindent" ><img 
src="Chapt_solventfit/figs/SolventFitFig1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;105: </span><span  
class="content">SolventFit Home Screen</span></div><!--tex4ht:label?: x1-72001r105 -->
                                                                                         
                                                                                         
<!--l. 28--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Basic  Data.</span></span>  From  the  FOQUS  main  screen,  click  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Basic  Data</span></span>  button  and  select
      <span class="textul"><span 
class="ptmb7t-x-x-120">SolventFit</span></span> to enter a SolventFit session.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Load Training Data</span></span> loads the file of design and variable inputs and their relevant simulation
      outputs (from Aspen or other computer simulation code). This file usually has extension .txt,
      .dat, or .csv.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Output Settings</span></span> lists the available outputs for analysis. The Output Name column lists the
      name of each output. The user can select/deselect outputs for analysis using the checkboxes
      in  the  Observed  column.  The  response  surface  in  SolventFit  will  be  prepopulated  with
      &#8220;SolventFit  Emulator&#8221;  because  SolventFit  uses  its  own  custom  BSS-ANOVA  response
      surface  model.  The  simulation  ensemble  is  used  as  the  training  data  for  generating  the
      response surfaces.
      <!--l. 38--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-72005r106"></a> <img 
src="Chapt_solventfit/figs/SolventFitFig2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;106: </span><span  
class="content">SolventFit Input Settings</span></div><!--tex4ht:label?: x1-72005r106 -->
      <!--l. 42--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Input Settings</span></span> is populated with input variable information from the training data. Under the
      column, <span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span>, the user can specify which inputs are fixed, design, or variable using the from the
      drop-down menu in the <span class="textul"><span 
class="ptmb7t-x-x-120">Input Settings Table</span></span>. Selecting &#8220;Fixed&#8221; means that the input is fixed at its
      default value for all design points. Changing the type to &#8220;Variable&#8221; means that the input is a
      calibration parameter and is uncertain; therefore, its value varies between samples. Changing the
      type to &#8220;Design&#8221; means that the input is an experimental input with preselected values. In addition,
      the user can specify which inputs are displayed in the resulting plots of the posterior
      distributions. To omit specific inputs, clear the checkboxes from the <span class="underline"><span 
class="ptmb7t-x-x-120">Display</span></span> column of the
      table. (The default is that once inference is completed, all inputs will be displayed in the
      plots.)
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Fixed Value.</span></span> With any fixed input, the only parameter that can be changed is the default value (i.e.,
      all samples of this input are fixed at this default value).
      <!--l. 48--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-72008r107"></a> <img 
src="Chapt_solventfit/figs/SolventFitFig3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;107: </span><span  
class="content">SolventFit Prior PDF for Inputs</span></div><!--tex4ht:label?: x1-72008r107 -->
      <!--l. 52--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">PDF.</span></span> With any variable input, the minimum/maximum values, as well as the probability distribution
      function (PDF), for that input can be changed. The default prior is specified to be Uniform.
      To change the prior distribution type (e.g., Normal, Lognormal, or Gamma), use the
      drop-down list in the <span class="underline"><span 
class="ptmb7t-x-x-120">PDF</span></span> column (box 6a) and enter corresponding values for the PDF
      parameters. To change the range of a uniform prior, scroll all the way to the right to modify
      <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span>.
                                                                                         
                                                                                         
      <!--l. 56--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-72010r108"></a> <img 
src="Chapt_solventfit/figs/SolventFitFig4.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;108: </span><span  
class="content">SolventFit Inference Screen</span></div><!--tex4ht:label?: x1-72010r108 -->
      <!--l. 60--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Observations</span></span> section enables the user to add experimental data in the form of observations of
      certain output variables. At least one observation is required; the <span class="textul"><span 
class="ptmb7t-x-x-120">number of experiments</span></span>
      may be changed using the pull down menu. For each observation, enter the mean and
      standard deviation (enter zero if there is no information about the noise) for all of the
      outputs. If any inputs are selected as design inputs, their values will also be required here.
      Currently, the observation noise model is assumed to be a normal distribution. Alternatively,
      the user can import the file of experiments using the <span class="textul"><span 
class="ptmb7t-x-x-120">Load Observation File</span></span> button
      (7a). The user can also export the observations using the <span class="textul"><span 
class="ptmb7t-x-x-120">Save Observation File</span></span> button
      (7b).
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Number of Iterations</span></span> are the number of iterations that the Markov Chain Monte Carlo (MCMC) is
      run for emulation and calibration. The default number of samples is set at 10000 for emulation and
      50000 for calibration. Also the number of &#8220;burn-in&#8221; samples (number of initial samples to be
      thrown out) for both emulation and calibration may be changed from its default of 0 using the
      relevant button (8a).
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Use Discrepancy.</span></span> Check this box if the discrepancy should be estimated in the calibration model. It
      is usually good practice to include the discrepancy in the calibration analysis.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Save Posterior Input Samples to File</span></span> checkbox, when selected, saves the posterior input samples
      as a PSUADE sample file (format described in Section <a 
href="#x1-670003">4.3<!--tex4ht:ref: ap:psuadefiles --></a>). This file characterizes the input
      uncertainty as a set of samples. In addition, the user can save the discrepancy samples to a file by
      selecting the checkbox <span class="textul"><span 
class="ptmb7t-x-x-120">Save Discrepancy Input Samples to File</span></span> (10a). If saving posterior and/or
      discrepancy samples to a file, click <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span> to set the name and location of where this file is saved
      (10b).
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Infer</span></span> to start the analysis. (Note: If the inference returns an invalid posterior distribution (i.e.,
      one with no samples), it usually means the prior distributions or that the observation data are not
      prescribed appropriately. In this case, it is recommended that the user experiment with different
      priors and/or data distribution means and/or standard deviations.)
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">The plotted results for SolventFit are posterior distributions of the selected variable inputs; they are
      similar to the plots from the Bayesian Inference in the Uncertainty Quantification module in Figure
      <a 
href="#x1-66016r104">104<!--tex4ht:ref: fig:uqt_infer_replot_results --></a>, see Section <a 
href="#x1-500002">4.2<!--tex4ht:ref: sec:uq_tutorial --></a> on Bayesian Inference for more details.
      </dd></dl>
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;6</span><br /><a 
 id="x1-730006"></a>Optimization Under Uncertainty</h2>
<!--l. 3--><p class="noindent" >The FOQUS OUU module supports several variants of optimization under uncertainty. This chapter first
presents the mathematical formulations of these variants. Subsequently, details of the OUU graphical user
interface will be discussed.
<a 
 id="x1-73001r179"></a>
<h3 class="sectionHead"><span class="titlemark">6.1.    </span> <a 
 id="x1-740001"></a>OUU Variables</h3>
<!--l. 10--><p class="noindent" >Suppose a simulation model is available for an OUU study. Let this simulation model be represented by
the following function:
<table 
class="equation"><tr><td><a 
 id="x1-74001r1"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual4x.png" alt="Y = F (Z1,Z2, Z3,Z4 ),
" class="math-display" ></center></td><td class="equation-label">(6.1)</td></tr></table>
<!--l. 14--><p class="nopar" >
which is characterized by four types of variables:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span 
class="ptmb7t-x-x-120">Design/Decision/Optimization variables</span>
           <ul class="itemize1">
           <li class="itemize">Notation: <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub> with dimension <span 
class="cmmi-12">n</span><sub><span 
class="cmr-8">1</span></sub>
           </li>
           <li class="itemize">Definition:  Design  variables  are  continuous  variables  that  may  be  bounded  or
           unbounded.  They  are  generally  the  set  of  optimization  variables  in  a  single-stage
           optimization or the set of outer optimization variables in the two-stage optimization.</li></ul>
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span 
class="ptmb7t-x-x-120">Recourse/Operating variables</span>
           <ul class="itemize1">
           <li class="itemize">Notation: <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub> with dimension <span 
class="cmmi-12">n</span><sub><span 
class="cmr-8">2</span></sub>
           </li>
           <li class="itemize">Definition: Operating variables are optimization variables in the inner optimization for
           a given scenario (or realization) of the uncertain variables in a two-stage optimization.</li></ul>
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span 
class="ptmb7t-x-x-120">Discrete uncertain variables</span>
                                                                                         
                                                                                         
           <ul class="itemize1">
           <li class="itemize">Notation: <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">3</span></sub> with dimension <span 
class="cmmi-12">n</span><sub><span 
class="cmr-8">3</span></sub>
           </li>
           <li class="itemize">Definition: Discrete variables are uncertain variables that have an enumerable set of
           states (called scenarios) such that each state is associated with a finite probability and
           the sum of probabilities for all the scenarios is equal to <span 
class="cmr-12">1</span>.</li></ul>
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span 
class="ptmb7t-x-x-120">Continuous uncertain variables</span>
           <ul class="itemize1">
           <li class="itemize">Notation: <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub> with dimension <span 
class="cmmi-12">n</span><sub><span 
class="cmr-8">4</span></sub>
           </li>
           <li class="itemize">Definition:  Continuous  uncertain  variables  are  associated  with  a  joint  probability
           distribution function from which a sample can be drawn to compute the basic statistics.</li></ul>
      </dd></dl>
<a 
 id="x1-74006r185"></a>
<h3 class="sectionHead"><span class="titlemark">6.2.    </span> <a 
 id="x1-750002"></a>OUU Objective Functions</h3>
<!--l. 62--><p class="noindent" >In the presence of uncertainties, OUU seeks to find the optimal solution in some statistical sense. For
example, an optimization goal may to be find the design settings that minimizes the statistical mean of the
system response. Other popular objective functions are:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">a linear combination of statistical mean and standard deviation of some selected output,
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">probability of exceeding the best value is smaller than some percentage at any point in the
      design space (this is analogous to conditional value at risk).</dd></dl>
<!--l. 75--><p class="noindent" >Note that these metrics are defined in the design variable space - that is, at each iteration of an OUU
algorithm, the selected metric will be computed for the decision point under consideration. Since the
calculation of these statistical metrics requires a sample (possibly large), OUU can benefit from parallel
computing capabilities (e.g., the Turbine gateway).
<a 
 id="x1-75003r186"></a>
<h3 class="sectionHead"><span class="titlemark">6.3.    </span> <a 
 id="x1-760003"></a>Mathematical Formulations</h3>
<!--l. 85--><p class="noindent" >FOQUS supports two types of OUU methods: single-stage OUU and two-stage OUU. The main
difference between single-stage and two-stage OUU is the presence of the recourse (or operational)
variables. Strictly speaking, since recourse variables are generally hidden (they are only needed in the
inner stage and their values are not used in the outer stage of two-stage OUU), the distinction between
single-stage and two-stage OUU is not clear. Nevertheless, for the sake of clarify, we will describe details
of each formulation separately. The current OUU does not support linearly or nonlinearly-constrained
optimization.
<a 
 id="x1-76001r177"></a>
                                                                                         
                                                                                         
<h4 class="subsectionHead"><span class="titlemark">6.3.1.    </span> <a 
 id="x1-770001"></a>Single-Stage Formulation</h4>
<!--l. 100--><p class="noindent" >In this formulation, there is no recourse variable:
<table 
class="equation"><tr><td><a 
 id="x1-77001r2"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual5x.png" alt="Y =  F(Z1, Z3,Z4 )
" class="math-display" ></center></td><td class="equation-label">(6.2)</td></tr></table>
<!--l. 103--><p class="nopar" >
and the optimization problem becomes:
<table 
class="equation"><tr><td><a 
 id="x1-77002r3"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual6x.png" alt="min &#x03A6;      [F (Z ,Z  ,Z )]
 Z1   Z3,Z4     1   3  4
" class="math-display" ></center></td><td class="equation-label">(6.3)</td></tr></table>
<!--l. 110--><p class="nopar" >
where <span 
class="cmr-12">&#x03A6;</span><sub><span 
class="cmmi-8">Z</span><sub><span 
class="cmr-6">3</span></sub><span 
class="cmmi-8">,Z</span><sub><span 
class="cmr-6">4</span></sub></sub><span 
class="cmr-12">[</span><span 
class="cmmi-12">F</span><span 
class="cmr-12">(</span><span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub><span 
class="cmmi-12">,Z</span><sub><span 
class="cmr-8">3</span></sub><span 
class="cmmi-12">,Z</span><sub><span 
class="cmr-8">4</span></sub><span 
class="cmr-12">)] </span>is the statistical metric (one of the three options given above).
<!--l. 115--><p class="noindent" >For example, if the objective function is the statistical mean, then the formulation becomes:
<table 
class="equation"><tr><td><a 
 id="x1-77003r4"></a>
                                                                                         
                                                                                         
<center class="math-display" >
<img 
src="FOQUS_User_Manual7x.png" alt="                               &#x2211;n3   ( &#x222B;                        )
min EZ3,Z4[F (Z1,Z3, Z4)] &#x2248; min     &#x03C0;j     F(Z1, Z3,Z4)P (Z4)dZ4
 Z1                         Z1 j=1
" class="math-display" ></center></td><td class="equation-label">(6.4)</td></tr></table>
<!--l. 125--><p class="nopar" >
where, again, <span 
class="cmmi-12">n</span><sub><span 
class="cmr-8">3</span></sub> is the number of scenarios for the discrete uncertain variables, <span 
class="cmmi-12">&#x03C0;</span><sub><span 
class="cmmi-8">j</span></sub> is the probability of the
<span 
class="cmmi-12">j</span>-th scenario, and <span 
class="cmmi-12">P</span><span 
class="cmr-12">(</span><span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub><span 
class="cmr-12">) </span>is the joint probability of the continuous uncertain variables.
<a 
 id="x1-77004r188"></a>
<h4 class="subsectionHead"><span class="titlemark">6.3.2.    </span> <a 
 id="x1-780002"></a>Two-Stage Formulation</h4>
<!--l. 134--><p class="noindent" >In this formulation all four types of variables are present. The objective function is given by:
<table 
class="equation"><tr><td><a 
 id="x1-78001r5"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual8x.png" alt="           [                     ]

mZi3n,Z4 &#x03A6;Z3,Z4 miZn2 F (Z1, Z2,Z3,Z4 ) .
" class="math-display" ></center></td><td class="equation-label">(6.5)</td></tr></table>
<!--l. 145--><p class="nopar" >
If the objective function is the statistical mean, the formulation becomes:
<table 
class="equation"><tr><td><a 
 id="x1-78002r6"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual9x.png" alt="              [                     ]

    miZn1 EZ3,Z4 miZn2  F(Z1, Z2,Z3,Z4 )
        &#x2211;n3   ( &#x222B; [                     ]          )
&#x2248;   min     &#x03C0;j      min F(Z1, Z2,Z3, Z4)  P(Z4 )dZ4
     Z1 j=1         Z2
" class="math-display" ></center></td><td class="equation-label">(6.6)</td></tr></table>
<!--l. 160--><p class="nopar" >
Let
<table 
class="equation"><tr><td><a 
 id="x1-78003r7"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual10x.png" alt="G (Z1,Z3, Z4) = min F (Z1,Z2, Z3,Z4 ).
                 Z2
" class="math-display" ></center></td><td class="equation-label">(6.7)</td></tr></table>
<!--l. 165--><p class="nopar" >
Then the two-stage equation can be rewritten as:
<table 
class="equation"><tr><td><a 
 id="x1-78004r8"></a>
<center class="math-display" >
<img 
src="FOQUS_User_Manual11x.png" alt="    miZn1 EZ3,Z4 [G (Z1,Z3, Z4)]
        &#x2211;n3   ( &#x222B;                        )
&#x2248;   min     &#x03C0;j     G(Z1, Z3,Z4)P (Z4)dZ4
     Z1 j=1
" class="math-display" ></center></td><td class="equation-label">(6.8)</td></tr></table>
<!--l. 179--><p class="nopar" >
which is a single-stage OUU with respect to the <span 
class="cmmi-12">G </span>function.
<a 
 id="x1-78005r187"></a>
                                                                                         
                                                                                         
<h3 class="sectionHead"><span class="titlemark">6.4.    </span> <a 
 id="x1-790004"></a>OUU User Interface</h3>
<!--l. 184--><p class="noindent" >The OUU module enables the user to perform optimization under uncertainty studies on a flowsheet.
From the OUU tab, the user can set up the different types of optimization parameters, select
from the different OUU options, and run the optimization. This screen is shown in Figure
<a 
href="#x1-79001r109">109<!--tex4ht:ref: fig:ouu_screen --></a>.
<!--l. 190--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-79001r109"></a>
                                                                                         
                                                                                         
<!--l. 191--><p class="noindent" ><img 
src="Chapt_ouu/figs/1_OUUScreen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;109: </span><span  
class="content">Optimization Under Uncertainty Screen</span></div><!--tex4ht:label?: x1-79001r109 -->
                                                                                         
                                                                                         
<!--l. 194--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span> provides two options for setting up the model: (1) select a node from the flowsheet
      that has already been instantiated; or (2) load the model from a file in the PSUADE full file
      format (with the <span 
class="phvr7t-x-x-120">opt</span><span 
class="phvr7t-x-x-120">_driver </span>variable set to the simulation executable.)
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> displays all variables defined in the model that can be used in this context. Each available
      variable can be set to either one of the 5 types:
           <ul class="itemize1">
           <li class="itemize">fixed (the parameter&#8217;s value is fixed throughout the optimization process)
           </li>
           <li class="itemize">primary (parameter for the outer optimization)
           </li>
           <li class="itemize">recourse (parameter for the inner optimization)
           </li>
           <li class="itemize">discrete (categorical uncertain parameter that contributes to scenarios)
           </li>
           <li class="itemize">continuous (continuous uncertain parameter with a given probability distribution)</li></ul>
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Optimization Setup</span></span> allows users to select the objective function for OUU. It also allows users to
      select the inner optimization solver. There are two options for the inner solver: (1) the simulation
      model provided by users is an optimizer itself, and (2) the simulation provided by users needs to be
      wrapped around by another optimizer in FOQUS.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">UQ Setup</span></span> allows users to set up the continuous uncertain parameters. There are two options: (1)
      FOQUS can generate a sample internally, or (2) a user-generated sample can be loaded into
      FOQUS. The sample size should be larger than the number of continuous uncertain parameters.
      Optionally, response surface can be turned on to enable the statistical moments to be computed
      more accurately even with small samples. Users can also select a smaller subset of the
      sample for building response surfaces and evaluate the response surfaces with the larger
      samples.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Launch/Progress</span></span> has the &#8216;Run OUU&#8217; button to launch OUU runs.</dd></dl>
<a 
 id="x1-79007r190"></a>
<h3 class="sectionHead"><span class="titlemark">6.5.    </span> <a 
 id="x1-800005"></a>OUU Tutorial</h3>
<!--l. 4--><p class="noindent" >This section walks through a few examples of running OUU.
<a 
 id="x1-80001r189"></a>
<h4 class="subsectionHead"><span class="titlemark">6.5.1.    </span> <a 
 id="x1-810001"></a>Example 1: OUU with Discrete Uncertain Parameters Only</h4>
<!--l. 8--><p class="noindent" >This example has only discrete uncertain parameters and the objective function is computed from the
                                                                                         
                                                                                         
mean estimation with the scenarios from a sample file. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-81001r110"></a>
                                                                                         
                                                                                         
<!--l. 12--><p class="noindent" ><img 
src="Chapt_ouu/figs/2_OUUExample1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;110: </span><span  
class="content">OUU Example with Discrete Uncertain Parameters</span></div><!--tex4ht:label?: x1-81001r110 -->
                                                                                         
                                                                                         
<!--l. 15--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS and click the &#8216;OUU&#8217; icon.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Under &#8216;Model&#8217;, browse and load <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/ouu</span><span 
class="phvr7t-x-x-120">_optdriver.in</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8216;Variables&#8217;, set variable <span 
class="cmr-12">1 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">4 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub>, variable <span 
class="cmr-12">5 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">8 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub>, and variable <span 
class="cmr-12">9 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">12 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">3</span></sub>.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under &#8216;Optimization Setup&#8217;, select the first objection function (default) and select &#8216;use model
      as optimizer&#8217; as the &#8216;Inner Solver&#8217;.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under                                                                                                                                  &#8216;UQ
      Setup&#8217; and &#8216;Discrete Random Variables&#8217;, browse the <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite </span>directory
      and load the <span 
class="phvr7t-x-x-120">x3sample.smp </span>sample file (see Figure <a 
href="#x1-81001r110">110<!--tex4ht:ref: fig:ouu_ex1 --></a>).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Go to &#8216;Launch/Progress&#8217; page, click &#8216;Run OUU&#8217; and see OUU in action.</dd></dl>
<a 
 id="x1-81008r193"></a>
<h4 class="subsectionHead"><span class="titlemark">6.5.2.    </span> <a 
 id="x1-820002"></a>Example 2: OUU with Continuous Uncertain Parameters Only</h4>
<!--l. 32--><p class="noindent" >This example has only continuous uncertain parameters and the objective function is computed from the
mean estimation with a Latin hypercube sample of size <span 
class="cmr-12">200 </span>for <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>. <hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-82001r111"></a>
                                                                                         
                                                                                         
<!--l. 36--><p class="noindent" ><img 
src="Chapt_ouu/figs/3_OUUExample2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;111: </span><span  
class="content">OUU Example with Continuous Uncertain Parameters</span></div><!--tex4ht:label?: x1-82001r111 -->
                                                                                         
                                                                                         
<!--l. 39--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS and click the &#8216;OUU&#8217; icon.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Under &#8216;Model&#8217;, browse and load <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/ouu</span><span 
class="phvr7t-x-x-120">_optdriver.in</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8216;Variables&#8217;, set variable <span 
class="cmr-12">1 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">4 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub>, variable <span 
class="cmr-12">5 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">8 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub>, and variable <span 
class="cmr-12">9 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">12 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under &#8216;Optimization Setup&#8217;, select the first objection function (default) and select &#8216;use model
      as optimizer&#8217; as the &#8216;Inner Solver&#8217;.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, select &#8216;Generate new sample for
      <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>&#8217;, set &#8216;Sample Scheme&#8217; to &#8216;Latin Hypercube&#8217; and set sample size to <span 
class="cmr-12">200 </span>(see Figure <a 
href="#x1-82001r111">111<!--tex4ht:ref: fig:ouu_ex2 --></a>).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Go to &#8216;Launch/Progress&#8217; page, click &#8216;Run OUU&#8217; and see OUU in action.</dd></dl>
<a 
 id="x1-82008r195"></a>
<h4 class="subsectionHead"><span class="titlemark">6.5.3.    </span> <a 
 id="x1-830003"></a>Example 3: OUU with Continuous Uncertain Parameters and Response Surface</h4>
<!--l. 56--><p class="noindent" >This example is similar to Example 2 except that response surfaces will be used on the <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub> sample (that is,
the <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub> sample will be used to construct response surfaces and the means will be estimated from a large
sample evaluated on the response surfaces).
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS and click the &#8216;OUU&#8217; icon.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Under &#8216;Model&#8217;, browse and load <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/ouu</span><span 
class="phvr7t-x-x-120">_optdriver.in</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8216;Variables&#8217;, set variable <span 
class="cmr-12">1 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">4 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub>, variable <span 
class="cmr-12">5 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">8 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub>, and variable <span 
class="cmr-12">9 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">12 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under &#8216;Optimization Setup&#8217;, select the first objection function (default) and select &#8216;use model
      as optimizer&#8217; as the &#8216;Inner Solver&#8217;.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, select &#8216;Generate new sample for
      <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>&#8217;, set &#8216;Sample Scheme&#8217; to &#8216;Latin Hypercube&#8217; and set sample size to <span 
class="cmr-12">200</span>.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, check the &#8216;Use Response Surface&#8217;
      box (see Figure <a 
href="#x1-82001r111">111<!--tex4ht:ref: fig:ouu_ex2 --></a>).
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Go to &#8216;Launch/Progress&#8217; page, click &#8216;Run OUU&#8217; and see OUU in action.</dd></dl>
                                                                                         
                                                                                         
<a 
 id="x1-83008r197"></a>
<h4 class="subsectionHead"><span class="titlemark">6.5.4.    </span> <a 
 id="x1-840004"></a>Example 4: OUU with Discrete and Continuous Uncertain Parameters</h4>
<!--l. 78--><p class="noindent" >This example has both discrete and continuous parameters. The discrete scenarios will be
loaded from a sample file. A Latin hypercube sample will be generated for the continuous
variables.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS and click the &#8216;OUU&#8217; icon.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Under &#8216;Model&#8217;, browse and load <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/ouu</span><span 
class="phvr7t-x-x-120">_optdriver.in</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8216;Variables&#8217;, set variable <span 
class="cmr-12">1</span><span 
class="cmsy-10x-x-120">-</span><span 
class="cmr-12">4 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub>, variable <span 
class="cmr-12">5</span><span 
class="cmsy-10x-x-120">-</span><span 
class="cmr-12">8 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub>, variable <span 
class="cmr-12">9 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">3</span></sub>, and variable
      <span 
class="cmr-12">10 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">12 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under &#8216;Optimization Setup&#8217;, select the first objection function (default) and select &#8216;use model
      as optimizer&#8217; as the &#8216;Inner Solver&#8217;.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under                 &#8216;UQ                 Setup&#8217;                 and                 &#8216;Discrete                 Random
      Variables&#8217;, browse the <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite </span>directory and load the <span 
class="phvr7t-x-x-120">x3sample4.smp</span>
      sample file.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, select &#8216;Generate new sample for
      <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>&#8217;, set &#8216;Sample Scheme&#8217; to Latin hypercube and set &#8216;Sample Size&#8217; to <span 
class="cmr-12">100</span>.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Go to &#8216;Launch/Progress&#8217; page, click &#8216;Run OUU&#8217; and see OUU in action.</dd></dl>
<a 
 id="x1-84008r198"></a>
<h4 class="subsectionHead"><span class="titlemark">6.5.5.    </span> <a 
 id="x1-850005"></a>Example 5: OUU with Mixed Uncertain Parameters and Response Surface</h4>
<!--l. 100--><p class="noindent" >This example is similar to Example 4 except that response surfaces will be used to estimate the means for
the continuous uncertain variables.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS and click the &#8216;OUU&#8217; icon.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Under &#8216;Model&#8217;, browse and load <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/ouu</span><span 
class="phvr7t-x-x-120">_optdriver.in</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8216;Variables&#8217;, set variable <span 
class="cmr-12">1</span><span 
class="cmsy-10x-x-120">-</span><span 
class="cmr-12">4 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub>, variable <span 
class="cmr-12">5</span><span 
class="cmsy-10x-x-120">-</span><span 
class="cmr-12">8 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub>, variable <span 
class="cmr-12">9 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">3</span></sub>, and variable
      <span 
class="cmr-12">10 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">12 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under &#8216;Optimization Setup&#8217;, select the first objection function (default) and select &#8216;use model
      as optimizer&#8217; as the &#8216;Inner Solver&#8217;.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under                 &#8216;UQ                 Setup&#8217;                 and                 &#8216;Discrete                 Random
      Variables&#8217;, browse the <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite </span>directory and load the <span 
class="phvr7t-x-x-120">x3sample4.smp</span>
      sample file.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, select &#8216;Generate new sample for
      <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>&#8217;, set &#8216;Sample Scheme&#8217; to Latin hypercube and set &#8216;Sample Size&#8217; to <span 
class="cmr-12">100</span>.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, check the &#8216;Use Response Surface&#8217;
      box.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Go to &#8216;Launch/Progress&#8217; page, click &#8216;Run OUU&#8217; and see OUU in action.</dd></dl>
<a 
 id="x1-85009r199"></a>
<h4 class="subsectionHead"><span class="titlemark">6.5.6.    </span> <a 
 id="x1-860006"></a>Example 6: OUU with User-provided Samples and Response Surface</h4>
<!--l. 123--><p class="noindent" >This example is similar to Example 4 except that a sample for <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub> will be used (instead of the Latin
hypercube sample generated internally).
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS and click the &#8216;OUU&#8217; icon.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Under &#8216;Model&#8217;, browse and load <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/ouu</span><span 
class="phvr7t-x-x-120">_optdriver.in</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8216;Variables&#8217;, set variable <span 
class="cmr-12">1</span><span 
class="cmsy-10x-x-120">-</span><span 
class="cmr-12">4 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub>, variable <span 
class="cmr-12">5</span><span 
class="cmsy-10x-x-120">-</span><span 
class="cmr-12">8 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub>, variable <span 
class="cmr-12">9 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">3</span></sub>, and variable
      <span 
class="cmr-12">10 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">12 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under &#8216;Optimization Setup&#8217;, select the first objection function (default) and select &#8216;use model
      as optimizer&#8217; as the &#8216;Inner Solver&#8217;.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under                 &#8216;UQ                 Setup&#8217;                 and                 &#8216;Discrete                 Random
      Variables&#8217;, browse the <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite </span>directory and load the <span 
class="phvr7t-x-x-120">x3sample4.smp</span>
      sample file.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, check &#8216;Load existing sample for
      <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>&#8217; and load the <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub> sample <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/x4sample4.smp</span>.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Go to &#8216;Launch/Progress&#8217; page, click &#8216;Run OUU&#8217; and see OUU in action.</dd></dl>
<a 
 id="x1-86008r200"></a>
<h4 class="subsectionHead"><span class="titlemark">6.5.7.    </span> <a 
 id="x1-870007"></a>Example 7: OUU with Large User-provided Samples and Response Surface</h4>
<!--l. 144--><p class="noindent" >This example is similar to Example 5 except that a sample for <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub> is provided (instead of generated
                                                                                         
                                                                                         
internally).
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start FOQUS and click the &#8216;OUU&#8217; icon.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Under &#8216;Model&#8217;, browse and load <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/ouu</span><span 
class="phvr7t-x-x-120">_optdriver.in</span>.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Under &#8216;Variables&#8217;, set variable <span 
class="cmr-12">1 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">4 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">1</span></sub>, variable <span 
class="cmr-12">5 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">8 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">2</span></sub>, and variable <span 
class="cmr-12">9 </span><span 
class="cmsy-10x-x-120">- </span><span 
class="cmr-12">12 </span>as <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Under &#8216;Optimization Setup&#8217;, select the first objection function (default) and select &#8216;use model
      as optimizer&#8217; as the &#8216;Inner Solver&#8217;.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, check &#8216;Load existing sample for <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub>&#8217;
      and load the <span 
class="cmmi-12">Z</span><sub><span 
class="cmr-8">4</span></sub> sample <span 
class="phvr7t-x-x-120">examples/OUU/test</span><span 
class="phvr7t-x-x-120">_suite/x4sampleLarge.smp </span>(<span 
class="cmr-12">10000 </span>sample
      points).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Under &#8216;UQ Setup&#8217; and &#8216;Continuous Random Variables&#8217;, check &#8216;Use Response Surface&#8217; and
      set &#8216;Sample Size&#8217; to <span 
class="cmr-12">100</span>.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Go to &#8216;Launch/Progress&#8217; page, click &#8216;Run OUU&#8217; and see OUU in action.</dd></dl>
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;7</span><br /><a 
 id="x1-880007"></a>Heat Integration</h2>
<a 
 id="x1-88001r192"></a>
<h3 class="sectionHead"><span class="titlemark">7.1.    </span> <a 
 id="x1-890001"></a>Plug-in Models</h3>
<a 
 id="x1-89001r201"></a>
<h4 class="subsectionHead"><span class="titlemark">7.1.1.    </span> <a 
 id="x1-900001"></a>Heat Integration</h4>
<!--l. 6--><p class="noindent" >The Heat Integration Node performs heat integration calculations for the entire process in the
meta-flowsheet. This node transfers simulation results to a GAMS-based heat integration program, solves
the program, and transfers part of important heat integration results from GAMS to the graphical
interface. The detailed heat integration results can be found in <span 
class="cmsy-10x-x-120">\</span>gams<span 
class="cmsy-10x-x-120">\</span>HeatIntegration.lst.
All input and output variables in the nodes connected to the Heat Integration Node (with the
edge pointing to the heat integration node) are automatically transferred to heat integration.
However, only the variables with heat integration tags are considered and processed in heat
integration. Heat integration tags are described in the Heat Integration Tutorial in Section
<a 
href="#x1-920002">7.2<!--tex4ht:ref: sec.hi.tut --></a>.
<!--l. 8--><p class="noindent" >The Heat Integration Node Editor widget is illustrated in Figure <a 
href="#x1-90001r112">112<!--tex4ht:ref: heat.int.inputs --></a> and Figure <a 
href="#x1-90002r113">113<!--tex4ht:ref: heat.int.outputs --></a>. To specify a node as
a Heat Integration Node, expand the <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span> section, expand the <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span> drop-down list, and then select
&#8220;heat_integration.&#8221; Some input variables control the performance of heat integration. Output
variables display heat integration results, which are used as final results or inputs for steam cycle
calculations.
<!--l. 10--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-90001r112"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 11--><p class="noindent" >
<!--l. 12--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_inputs.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;112: </span><span  
class="content">Heat Integration Node Editor (Input Variables)</span></div><!--tex4ht:label?: x1-90001r112 -->
</div>
                                                                                         
                                                                                         
<!--l. 16--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
<!--l. 19--><p class="noindent" >The Heat Integration Node <span class="textul"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> are listed below:
      <ul class="itemize1">
      <li class="itemize">Exchanger minimum approach temperature (<span class="textul"><span 
class="ptmb7t-x-x-120">EMAT</span></span>) is the minimum temperature difference
      between hot streams and cold streams for heat exchanger area calculations. The value of
      EMAT is usually not larger than that of HRAT (see below). The default value of EMAT is
      set to 5K. When a small value of HRAT is chosen (e.g., 3-5K), the value of EMAT should
      also be small (e.g., 1-3K).
      </li>
      <li class="itemize">Heat  recovery  approach  temperature  (<span class="textul"><span 
class="ptmb7t-x-x-120">HRAT</span></span>)  is  the  minimum  temperature  difference
      between hot streams and cold streams for utility consumption calculations. Smaller HRAT
      usually leads to lower utility consumptions but higher capital cost of the heat exchanger
      network. An appropriate value should be selected for HRAT in order to achieve the best
      economic performance. The typical value of HRAT in industrial applications is 10K, which is
      also the default value of HRAT. The user may choose other HRAT values depending on their
      applications (e.g., in power plants, HRAT can be as low as 3-5K for higher heat recovery).
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Life.Plant</span></span>  is  the  operating  life  of  the  plant.  The  default  value  is  20  years.  The  user  can
      change the value depending on detailed applications.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Net.Power</span></span>  is  the  net  power  output  of  a  power  plant  without  carbon  capture  and  storage
      (CCS). This is an optional input variable; therefore, it has no default value. The user only
      needs to assign a value to it when the steam cycle node is also present in the flowsheet. The
      net power output is used to calculate the amount of heat recovered for steam cycle via the
      heat exchanger network.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">No.Stream</span></span> is the number of process streams (for heat integration) in the plant. This is an
      optional input variable without default value. When the value of &#8220;No.Stream&#8221; is not assigned,
      the number of process streams is calculated by the Python program via heat integration tags
      (see the Heat Integration Tutorial in Section <a 
href="#x1-920002">7.2<!--tex4ht:ref: sec.hi.tut --></a>).
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Operation.Hours</span></span>  is  the  annual  operational  hours  of  the  plant.  For  power,  refinery,  and
      chemical industries, the typical value is 7500-8500 hours. The default value here is 8000
      hours.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">ROR</span></span> is the rate of return for the project. The default value is 10 percent. The user should
      select appropriate values for ROR based on their own projects. The variables <span class="textul"><span 
class="ptmb7t-x-x-120">Life.Plant</span></span>,
      <span class="textul"><span 
class="ptmb7t-x-x-120">No.Stream</span></span>, <span class="textul"><span 
class="ptmb7t-x-x-120">Operation.Hours</span></span>, and <span class="textul"><span 
class="ptmb7t-x-x-120">ROR</span></span> are used for the cost calculation.</li></ul>
<!--l. 30--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-90002r113"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 31--><p class="noindent" >
<!--l. 32--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_outputs.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;113: </span><span  
class="content">Heat Integration Node Editor (Output Variables)</span></div><!--tex4ht:label?: x1-90002r113 -->
</div>
                                                                                         
                                                                                         
<!--l. 36--><p class="noindent" ></div><hr class="endfigure">
<!--l. 39--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> of the Heat Integration Node are listed below:
      <ul class="itemize1">
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Capital.Cost</span></span> is the minimum approximated capital cost for the heat exchanger network (in
      million U.S. dollars). The capital cost is calculated from the heat exchanger area (see below).
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Cooling.Water.Consumption</span></span> is the minimum cooling water consumption rate (represented
      by energy rate GJ/hr) predicted by heat integration. Cooling water is an outside utility with
      the temperature of 20<span 
class="ptmr8c-x-x-120"></span>C.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">FH.Heat.Addition</span></span>  is  the  amount  of  heat  recovered  to  feed  water  heaters  in  the  steam
      cycle.  This  variable  is  only  valid  when  steam  cycle  calculations  are  also  presented.  If
      more heat is added to the steam cycle, higher net power output is expected. The value of
      &#8220;FH.Heat.Addition&#8221; is a vector with five elements. The first to fifth element of the vector
      represents the amount of heat added to the first-stage to the fifth-stage of the feed water
      heater in the steam cycle. The temperature of the feed water increases from the first-stage to
      the fifth-stage; therefore, heat added to the feed water heaters achieves a higher efficiency
      power generation from the first-stage to the fifth-stage heater. The temperature range for the
      five feed water heaters are 34-65<span 
class="ptmr8c-x-x-120"></span>C, 65-96<span 
class="ptmr8c-x-x-120"></span>C, 96-128<span 
class="ptmr8c-x-x-120"></span>C, 128-160<span 
class="ptmr8c-x-x-120"></span>C, and 160-195<span 
class="ptmr8c-x-x-120"></span>C. These
      values are obtained from a supercritical power plant simulation model in Thermoflex.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Heat.Exchanger.Area</span></span> is the minimum heat exchanger area (in square meters), which is used
      for the capital cost calculation.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">IP</span><span 
class="ptmb7t-x-x-120">_Steam.Consumption</span></span> is the minimum intermediate-pressure steam consumption rate (in
      GJ/hr).  Note:  Both  intermediate-  and  low-pressure  steam  are  treated  as  a  utility  in  heat
      integration calculations here; however, they are actually extracted from the steam cycle in the
      power plant. Therefore, minimizing steam consumption is equivalent to maximizing the net
      power output. Intermediate-pressure steam is extracted from the crossover of the pressurized
      intermediate-pressure turbine (PIPT) and the intermediate-pressure turbine (IPT) with the
      temperature of 230<span 
class="ptmr8c-x-x-120"></span>C.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">LP</span><span 
class="ptmb7t-x-x-120">_Steam.Consumption</span></span> is the minimum low-pressure steam consumption rate (in GJ/hr).
      Low-pressure steam is extracted from the crossover of IPT and low-pressure steam turbine
      (LPT) with the temperature of 164<span 
class="ptmr8c-x-x-120"></span>C.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Total.Cost</span></span>  is  the  minimum  approximated  total  annualized  cost  for  the  heat  exchanger
      network (in million U.S. dollars per year), which equals the sum of utility cost and annualized
      capital cost.
      </li>
                                                                                         
                                                                                         
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Utility.Cost</span></span> is the minimum utility cost (in million U.S. dollars per year), which equals the
      sum of the cost of cooling water, intermediate-pressure steam, and low-pressure steam. It
      can also be treated as scaled total utility consumption where the consumption rate of each
      utility is weighted by its cost.</li></ul>
<a 
 id="x1-90003r204"></a>
<h4 class="subsectionHead"><span class="titlemark">7.1.2.    </span> <a 
 id="x1-910002"></a>Steam Cycle</h4>
<!--l. 53--><p class="noindent" >The Steam Cycle Node performs steam cycle and power output calculations for a power plant with CCS
(and possibly heat integration). Correlations for net power output with steam extraction and heat addition
to feed water heaters, which are obtained from a supercritical power plant model in Thermoflex, are
utilized to calculate net power output and net efficiency with CCS in the Steam Cycle Node. These
correlations are currently hard coded in Python for this node. The users will have a choice to provide their
own correlations in future versions of FOQUS.
<!--l. 55--><p class="noindent" >The Steam Cycle Node Editor widget is illustrated in Figure <a 
href="#x1-91001r114">114<!--tex4ht:ref: steam.cycle.inputs --></a> and Figure <a 
href="#x1-91002r115">115<!--tex4ht:ref: steam.cycle.outputs --></a>.
<!--l. 57--><p class="noindent" >To specify a node as a Steam Cycle Node, expand the <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span> section, click on the <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span> drop-down list,
and then select &#8220;steam_cycle.&#8221; All input variables (potentially) can be contributed to power output
calculations; however, not all input variables are required to have a value assigned, except net power
output and net efficiency without CCS. Output variables describe effects of CCS and heat integration to
net power output and net efficiency.
<!--l. 59--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-91001r114"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 60--><p class="noindent" >
<!--l. 61--><p class="noindent" ><img 
src="Chapt_heat/figs/steam_cycle_inputs.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;114: </span><span  
class="content">Steam Cycle Node Editor (Input Variables)</span></div><!--tex4ht:label?: x1-91001r114 -->
</div>
                                                                                         
                                                                                         
<!--l. 65--><p class="noindent" ></div><hr class="endfigure">
<!--l. 67--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> of the Steam Cycle Node are described below:
      <ul class="itemize1">
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Electricity.Consumption</span></span>  is  the  total  electricity  consumption  in  all  processes  other  than
      steam cycle. The input value of this variable can be provided by the user or transferred from
      simulation outputs.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">FH.Heat.Addition</span></span> is the amount of heat recovered to feed water heaters in steam cycle. The
      input value of this variable can be transferred from heat integration output.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">IP</span><span 
class="ptmb7t-x-x-120">_Steam.Consumption</span></span>  is  the  intermediate-pressure  steam  consumption  rate  in  heat
      exchangers.  It  is  usually  provided  by  heat  integration,  and  sometimes  it  can  be  directly
      provided by simulation.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">IP</span><span 
class="ptmb7t-x-x-120">_Steam.Injection</span></span> is the intermediate-pressure steam injection rate to process streams. In
      some equipment, such as regenerators in the capture process, steam needs to be injected
      directly into the input stream to provide a large amount of heat and realize fast heat transfer.
      The steam injection rate is different from the steam consumption rate as it does not need heat
      exchangers and is not considered in heat integration. This variable is typically provided by
      simulation output.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">LP</span><span 
class="ptmb7t-x-x-120">_Steam.Consumption</span></span> is the low-pressure steam consumption rate in heat exchangers
      provided by heat integration or simulation output.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">LP</span><span 
class="ptmb7t-x-x-120">_Steam.Injection</span></span> is the low-pressure steam injection rate to process <br 
class="newline" />streams provided by simulation output.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Net.Efficiency</span></span> is the net efficiency of the power plant without CCS. Its default value is 42.06
      percent, which is the efficiency of a typical supercritical pulverized coal-fired power plant
      without CCS. The user should change the value when another type of power plant is applied.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Net.Power</span></span> is the net power output of a power plant without CCS. The user must give an input
      to this variable to perform steam cycle calculations. Both <span class="textul"><span 
class="ptmb7t-x-x-120">Net.Efficiency</span></span> and <span class="textul"><span 
class="ptmb7t-x-x-120">Net.Power</span></span>
      provide base case values for a power plant without CCS and heat integration.</li></ul>
<!--l. 79--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-91002r115"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 80--><p class="noindent" >
<!--l. 81--><p class="noindent" ><img 
src="Chapt_heat/figs/steam_cycle_outputs.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;115: </span><span  
class="content">Steam Cycle Node Editor (Output Variables)</span></div><!--tex4ht:label?: x1-91002r115 -->
</div>
                                                                                         
                                                                                         
<!--l. 85--><p class="noindent" ></div><hr class="endfigure">
<!--l. 87--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> of the Steam Cycle Node are listed below:
      <ul class="itemize1">
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Delta.Efficiency.CCS</span></span>  is  the  change  of  the  net  efficiency  of  a  power  plant  with  CCS
      compared to the base case value. This variable is expected to be negative since CCS decreases
      the net power output to a certain degree.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Delta.Efficiency.HI</span></span> is the change of the net efficiency of a power plant with heat integration
      compared  to  the  base  case  value.  This  variable  is  expected  to  be  positive  since  heat
      integration potentially increases the net power output.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Delta.Power.CCS</span></span> is the change of the net power output of a power plant with CCS compared
      to the base case value.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Delta.Power.HI</span></span> is the change of the net power output of a power plant with CCS compared
      to the base case value.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Net.Efficiency.CCS</span></span> is the net efficiency of the power plant with CCS given the base case
      value.
      </li>
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Net.Power.CCS</span></span> is the net power output of the power plant with CCS assigned as the base
      case value.</li></ul>
<a 
 id="x1-91003r203"></a>
<h3 class="sectionHead"><span class="titlemark">7.2.    </span> <a 
 id="x1-920002"></a>Heat Integration Tutorial</h3>
<!--l. 3--><p class="noindent" >This tutorial demonstrates the use of FOQUS to perform heat integration with process simulations. This
tutorial uses four models: (1) bubbling fluidized bed (BFB) model in ACM, (2) multi-stage compressor
model in ACM, (3) heat integration model in GAMS, and (4) simplified steam cycle model in Python.
Heat integration and steam cycle models are included in FOQUS as plug-in models (as described in
Section <a 
href="#x1-890001">7.1<!--tex4ht:ref: section.plugin --></a>). Because most detailed steps for adding/editing models, building flowsheets,
and running simulations have already been covered in the previous section, they are skipped
here.
<!--l. 5--><p class="noindent" >Example ACM and JSON files are provided with the FOQUS installer and are typically installed at:
C:<span 
class="cmsy-10x-x-120">\</span>Program Files (x86)<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>foqus_2014.10.0<span 
class="cmsy-10x-x-120">\</span>examples <span 
class="cmsy-10x-x-120">\</span>Heat_Integration<span 
class="cmsy-10x-x-120">\</span>Model_Files. Copy the
example files to a convenient location.
<!--l. 7--><p class="noindent" >This tutorial is divided into 10 major steps.
<a 
 id="x1-92001r207"></a>
                                                                                         
                                                                                         
<h4 class="subsectionHead"><span class="titlemark">7.2.1.    </span> <a 
 id="x1-930001"></a>GAMS Pre-Settings (Windows System Only)</h4>
<!--l. 11--><p class="noindent" >If the user is working on a Windows system, the GAMS installation directory needs to be added into the
system path. Navigate to the Windows <span class="textul"><span 
class="ptmb7t-x-x-120">Control Panel</span></span>, select <span class="textul"><span 
class="ptmb7t-x-x-120">System and Security</span></span>, select <span class="textul"><span 
class="ptmb7t-x-x-120">System</span></span>. Select
<span class="textul"><span 
class="ptmb7t-x-x-120">Advanced system settings</span></span> in the left side bar. In the <span class="textul"><span 
class="ptmb7t-x-x-120">System Properties</span></span> window, click <span class="textul"><span 
class="ptmb7t-x-x-120">Environment</span>
<span 
class="ptmb7t-x-x-120">Variables</span></span>. In the <span class="textul"><span 
class="ptmb7t-x-x-120">Environment Variables</span></span> window, navigate to the <span class="textul"><span 
class="ptmb7t-x-x-120">System variables</span></span> box, double-click
the variable <span class="textul"><span 
class="ptmb7t-x-x-120">Path</span></span>. Add the GAMS installation directory to the <span class="textul"><span 
class="ptmb7t-x-x-120">Variable value</span></span> box. An example of the
GAMS directory is: C:<span 
class="cmsy-10x-x-120">\</span>GAMS<span 
class="cmsy-10x-x-120">\</span>win64<span 
class="cmsy-10x-x-120">\</span>24.2<span 
class="cmsy-10x-x-120">\</span>. The user needs to modify the above path to the exact
location where GAMS is installed.
<!--l. 13--><p class="noindent" >If the user is using GAMS in the first time (after installation or re-installation), double-click the GAMS
icon on the desktop. A prompt dialog displays, asking the user to select default solvers. Click <span class="textul"><span 
class="ptmb7t-x-x-120">OK</span></span> to
accept all default solver selections. Close GAMS.
<a 
 id="x1-93001r211"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.2.    </span> <a 
 id="x1-940002"></a>Open a GAMS Project (Windows System Only)</h4>
<!--l. 17--><p class="noindent" >Suppose the current directory is the user&#8217;s working directory (e.g., C:<span 
class="cmsy-10x-x-120">\</span>FOQUS). If the user is working on
a Windows system, navigate to the directory &#8220;gams&#8221;, and double-click the file &#8220;HeatInteg.gpr.&#8221;
This will open the file in GAMS and make its path the current GAMS working directory.
Close GAMS. All GAMS input and output files will be stored in this directory. This step
is not necessary with a Linux system. All GAMS files should be closed when running heat
integration.
<a 
 id="x1-94001r212"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.3.    </span> <a 
 id="x1-950003"></a>Start a New Session</h4>
<!--l. 21--><p class="noindent" >Start FOQUS. Start a new session. In the &#8220;Session Information&#8221; screen, under the <span class="textul"><span 
class="ptmb7t-x-x-120">Metadata</span></span> tab, enter
&#8220;BFB_CP_HI_SC&#8221; in the <span class="textul"><span 
class="ptmb7t-x-x-120">Session Name</span></span> field (Figure <a 
href="#x1-95001r116">116<!--tex4ht:ref: start.session --></a>). Save the session.
<!--l. 23--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-95001r116"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 24--><p class="noindent" >
<!--l. 25--><p class="noindent" ><img 
src="Chapt_heat/figs/start_session.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;116: </span><span  
class="content">Start a New Session</span></div><!--tex4ht:label?: x1-95001r116 -->
</div>
                                                                                         
                                                                                         
<!--l. 29--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-95002r213"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.4.    </span> <a 
 id="x1-960004"></a>Upload Simulation Models</h4>
<!--l. 33--><p class="noindent" >The ACM BFB and compressor model files need to be uploaded to the turbine.
<!--l. 35--><p class="noindent" >Choose <span class="textul"><span 
class="ptmb7t-x-x-120">Add/Update Model to Turbine</span></span>. In the <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine Upload</span></span> dialog, upload the BFB ACM model file
(Figure <a 
href="#x1-96001r117">117<!--tex4ht:ref: upload model --></a>). The SimSinter configuration file for the BFB model is BFB_3ads_2rgn.json. Enter
&#8220;BFB_3ads_2rgn&#8221; in the <span class="textul"><span 
class="ptmb7t-x-x-120">Simulation Name</span></span> drop-down list.
<!--l. 37--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-96001r117"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 38--><p class="noindent" >
<!--l. 39--><p class="noindent" ><img 
src="Chapt_heat/figs/upload_model.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;117: </span><span  
class="content">Upload Simulation Models</span></div><!--tex4ht:label?: x1-96001r117 -->
</div>
                                                                                         
                                                                                         
<!--l. 43--><p class="noindent" ></div><hr class="endfigure">
<!--l. 45--><p class="noindent" >Upload the compressor ACM model as above. The SimSinter configuration file for the compressor model
is CompIG.json. The simulation name for the compressor model is &#8220;Comp.&#8221;
<a 
 id="x1-96002r215"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.5.    </span> <a 
 id="x1-970005"></a>Flowsheet Setup</h4>
<!--l. 49--><p class="noindent" >Navigate to the <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> window and build the flowsheet for this heat integration example. The
flowsheet for this tutorial is shown in Figure <a 
href="#x1-97001r118">118<!--tex4ht:ref: flowsheet.heat.int --></a>. Build the flowsheet in the same way as the figure. The
nodes <span class="textul"><span 
class="ptmb7t-x-x-120">BFB</span></span>, <span class="textul"><span 
class="ptmb7t-x-x-120">Compressor</span></span>, <span class="textul"><span 
class="ptmb7t-x-x-120">Heat Integration</span></span>, and <span class="textul"><span 
class="ptmb7t-x-x-120">Steam Cycle</span></span> correspond to the BFB simulation in
ACM, compressor simulation in ACM, heat integration in GAMS and steam cycle calculations in Python.
Models &#8220;BFB_3ads_2rgn,&#8221; &#8220;Comp,&#8221; &#8220;heat_integration,&#8221; and &#8220;steam_cycle&#8221; are assigned to
nodes <span class="textul"><span 
class="ptmb7t-x-x-120">BFB</span></span>, <span class="textul"><span 
class="ptmb7t-x-x-120">Compressor</span></span>, <span class="textul"><span 
class="ptmb7t-x-x-120">Heat Integration</span></span>, and <span class="textul"><span 
class="ptmb7t-x-x-120">Steam Cycle</span></span>, respectively. Model <span class="textul"><span 
class="ptmb7t-x-x-120">BFB</span></span>
and <span class="textul"><span 
class="ptmb7t-x-x-120">Compressor</span></span> are Turbine gateway models (see below); Model <span class="textul"><span 
class="ptmb7t-x-x-120">Heat Integration</span></span> and
<span class="textul"><span 
class="ptmb7t-x-x-120">Steam Cycle</span></span> are plugin models. The node <span class="textul"><span 
class="ptmb7t-x-x-120">Total Consumption</span></span> is used to calculate the total
electricity and steam consumptions for BFB and compressor process. It is a user-specified Python
calculation node and is described later. All edges should be the same directions as those in the
figure.
<!--l. 51--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-97001r118"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 52--><p class="noindent" >
<!--l. 53--><p class="noindent" ><img 
src="Chapt_heat/figs/flowsheet_heat_int.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;118: </span><span  
class="content">Flowsheet of Heat Integration Example</span></div><!--tex4ht:label?: x1-97001r118 -->
</div>
                                                                                         
                                                                                         
<!--l. 57--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-97002r217"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.6.    </span> <a 
 id="x1-980006"></a>Edit Nodes</h4>
      <ul class="itemize1">
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">BFB</span></span> and <span class="textul"><span 
class="ptmb7t-x-x-120">Compressor Nodes</span></span>: Figure <a 
href="#x1-98001r119">119<!--tex4ht:ref: bfb.node.edit --></a> illustrates the edit of the <span class="textul"><span 
class="ptmb7t-x-x-120">BFB</span></span> Node. From the
      &#8220;Node Edit&#8221; dialog box, select &#8220;Turbine&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span> drop-down list, and <br 
class="newline" />&#8220;BFB_3ads_2rgn&#8221;  from  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span>  drop-down  list.  Next,  select  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Compressor  Node</span></span>.
      Select &#8220;Turbine&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span> drop-down list, and &#8220;Comp&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Model</span></span> drop-down
      list. For both the <span class="textul"><span 
class="ptmb7t-x-x-120">BFB</span></span> and <span class="textul"><span 
class="ptmb7t-x-x-120">Compressor Nodes</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">Heat Integration Tags</span></span> should be added
      to their corresponding output variables. The detailed description for heat integration tags is
      covered later. No other changes are required for the two nodes.</li></ul>
<!--l. 65--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-98001r119"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 66--><p class="noindent" >
<!--l. 67--><p class="noindent" ><img 
src="Chapt_heat/figs/bfb_node_edit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;119: </span><span  
class="content">BFB Node Editor</span></div><!--tex4ht:label?: x1-98001r119 -->
</div>
                                                                                         
                                                                                         
<!--l. 71--><p class="noindent" ></div><hr class="endfigure">
      <ul class="itemize1">
      <li class="itemize"><span class="underline"><span 
class="ptmb7t-x-x-120">Total Consumption Node</span></span>: The user is required to define the <span class="textul"><span 
class="ptmb7t-x-x-120">Total Consumption Node</span></span>. The Node
      Editor for the <span class="textul"><span 
class="ptmb7t-x-x-120">Total Consumption Node</span></span> is illustrated in Figures <a 
href="#x1-98002r120">120<!--tex4ht:ref: total.cons.inputs --></a>, <a 
href="#x1-98003r121">121<!--tex4ht:ref: total.cons.outputs --></a>, and <a 
href="#x1-98004r122">122<!--tex4ht:ref: total.cons.python --></a>. Within the
      Node Edit dialog box, choose &#8220;None&#8221; in the <span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span> drop-down list and leave the <span class="underline"><span 
class="ptmb7t-x-x-120">Model</span></span> drop-down
      list blank. <hr class="figure"><div class="figure" 
><a 
 id="x1-98002r120"></a>
<div class="center" 
>
<!--l. 77--><p class="noindent" >
<!--l. 78--><p class="noindent" ><img 
src="Chapt_heat/figs/total_cons_inputs.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;120: </span><span  
class="content">Total Consumption Node Editor (Input Variables)</span></div><!--tex4ht:label?: x1-98002r120 -->
</div>
      <!--l. 82--><p class="noindent" ></div><hr class="endfigure">
      <!--l. 83--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-98003r121"></a>
<div class="center" 
>
<!--l. 84--><p class="noindent" >
<!--l. 85--><p class="noindent" ><img 
src="Chapt_heat/figs/total_cons_outputs.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;121: </span><span  
class="content">Total Consumption Node Editor (Output Variables)</span></div><!--tex4ht:label?: x1-98003r121 -->
</div>
      <!--l. 89--><p class="noindent" ></div><hr class="endfigure">
      <!--l. 90--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-98004r122"></a>
<div class="center" 
>
<!--l. 91--><p class="noindent" >
<!--l. 92--><p class="noindent" ><img 
src="Chapt_heat/figs/total_cons_python.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;122: </span><span  
class="content">Total Consumption Node Editor (Python Codes)</span></div><!--tex4ht:label?: x1-98004r122 -->
</div>
      <!--l. 96--><p class="noindent" ></div><hr class="endfigure">
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
        1. </dt><dd 
class="enumerate-enumitem">In  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Input  Variables</span></span>  section  (Figure  <a 
href="#x1-98002r120">120<!--tex4ht:ref: total.cons.inputs --></a>):  add  the  following  three  variables:  (1)
           &#8220;Electricity.Consumption.Cap,&#8221; (2) &#8220;Electricity.Consumption.Comp,&#8221; and (3)<br 
class="newline" />&#8220;MP_Steam.Injection.Cap.&#8221; The value and default value should remain 0.0 for these
           variables.  The  category  should  be  &#8220;fixed.&#8221;  The  user  can  optionally  enter  the  unit,
           minimum/maximum,  and  description.  These  variables  are  linked  to  corresponding
           output variables of node <span class="textul"><span 
class="ptmb7t-x-x-120">BFB</span></span> and <span class="textul"><span 
class="ptmb7t-x-x-120">Compressor</span></span>.
           </dd><dt class="enumerate-enumitem">
        2. </dt><dd 
class="enumerate-enumitem">In  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Output  Variables</span></span>  area  of  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Node  Edit</span></span>  dialog  box  (Figure  <a 
href="#x1-98003r121">121<!--tex4ht:ref: total.cons.outputs --></a>),  add  two
           variables:  (1)  &#8220;Electricity.Consumption&#8221;  and  (2)  &#8220;LP_Steam.Injection.&#8221;  The  value
           should  remain  0.0.  The  user  can  optionally  enter  the  unit  and  description.  These
           variables are linked to corresponding input variables of the <span class="textul"><span 
class="ptmb7t-x-x-120">Steam Cycle Node</span></span>.
                                                                                         
                                                                                         
           </dd><dt class="enumerate-enumitem">
        3. </dt><dd 
class="enumerate-enumitem">From the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Edit</span></span> dialog box (Figure <a 
href="#x1-98004r122">122<!--tex4ht:ref: total.cons.python --></a>), click the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Script</span></span> tab. Enter the following
           Python code in the dialog to perform node calculations:
                                                                                         
                                                                                         
           <div class="verbatim" id="verbatim-3">
           f["Electricity.Consumption"]&#x00A0;=&#x00A0;\
           &#x00A0;<br />x["Electricity.Consumption.Cap"]&#x00A0;\
           &#x00A0;<br />+&#x00A0;x["Electricity.Consumption.Comp"]
           &#x00A0;<br />f["LP_Steam.Injection"]&#x00A0;=&#x00A0;\
           &#x00A0;<br />x["MP_Steam.Injection.Cap"]
</div>
           <!--l. 110--><p class="nopar" ></dd></dl>
      </li></ul>
      <ul class="itemize1">
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Heat  Integration  Node</span></span>:  Select  &#8220;heat_integration&#8221;  from  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span>  drop-down  list  in  the
      <span class="underline"><span 
class="ptmb7t-x-x-120">Model</span></span> section on the Node Edit dialog box. Only input variables need to be edited. Change
      the value of &#8220;HRAT&#8221; to 5.0 for higher heat recovery. Change the value of &#8220;EMAT&#8221; to 2.0.
      Enter the value of &#8220;Net.Power&#8221; as 650.33, which is the base case net power output. Leave all
      other fields unchanged. The Node Editor for the <span class="textul"><span 
class="ptmb7t-x-x-120">Heat Integration Node</span></span> is shown in Figure
      <a 
href="#x1-98008r123">123<!--tex4ht:ref: heat.int.node.edit --></a>.</li></ul>
<!--l. 118--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-98008r123"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 119--><p class="noindent" >
<!--l. 120--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_node_edit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;123: </span><span  
class="content">Heat Integration Node Editor</span></div><!--tex4ht:label?: x1-98008r123 -->
</div>
                                                                                         
                                                                                         
<!--l. 124--><p class="noindent" ></div><hr class="endfigure">
      <ul class="itemize1">
      <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Steam Cycle Node</span></span>: Select &#8220;steam_cycle&#8221; from the <span class="textul"><span 
class="ptmb7t-x-x-120">Type</span></span> drop-down list in the <span class="underline"><span 
class="ptmb7t-x-x-120">Model</span></span> section
      on the Node Edit dialog box and leave all other fields unchanged.</li></ul>
<a 
 id="x1-98009r219"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.7.    </span> <a 
 id="x1-990007"></a>Edit Edges</h4>
<!--l. 132--><p class="noindent" >The user needs to specify variable connections in edges. In this example, all input and output variables
that need to be connected have the same names; therefore, simply choose <span class="textul"><span 
class="ptmb7t-x-x-120">Auto</span></span> to connect all linking
variables. The editor for Edge <span class="underline">0</span> (BFB <span 
class="cmsy-10x-x-120">&#x2192; </span>Compressor), <span class="underline">3</span> (BFB <span 
class="cmsy-10x-x-120">&#x2192; </span>Total Consumption), <span class="underline">4</span> (Compressor <span 
class="cmsy-10x-x-120">&#x2192;</span>
Total Consumption), <span class="underline">5</span> (Heat Integration <span 
class="cmsy-10x-x-120">&#x2192; </span>Steam Cycle), and <span class="underline">6</span> (Total Consumption <span 
class="cmsy-10x-x-120">&#x2192; </span>Steam Cycle) are
illustrated in Figure <a 
href="#x1-99001r124">124<!--tex4ht:ref: edge.0.edit --></a>, Figure <a 
href="#x1-99002r125">125<!--tex4ht:ref: edge.3.edit --></a>, Figure <a 
href="#x1-99003r126">126<!--tex4ht:ref: edge.4.edit --></a>, Figure <a 
href="#x1-99004r127">127<!--tex4ht:ref: edge.5.edit --></a> and Figure <a 
href="#x1-99005r128">128<!--tex4ht:ref: edge.6.edit --></a>, respectively.
Edge <span class="underline">1</span> (BFB <span 
class="cmsy-10x-x-120">&#x2192; </span>Heat Integration) and <span class="underline">2</span> (Compressor <span 
class="cmsy-10x-x-120">&#x2192; </span>Heat Integration) have no variable
connections.
<!--l. 134--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-99001r124"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 135--><p class="noindent" >
<!--l. 136--><p class="noindent" ><img 
src="Chapt_heat/figs/edge_0_edit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;124: </span><span  
class="content">Editor for Edge 0</span></div><!--tex4ht:label?: x1-99001r124 -->
</div>
                                                                                         
                                                                                         
<!--l. 140--><p class="noindent" ></div><hr class="endfigure">
<!--l. 142--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-99002r125"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 143--><p class="noindent" >
<!--l. 144--><p class="noindent" ><img 
src="Chapt_heat/figs/edge_3_edit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;125: </span><span  
class="content">Editor for Edge 3</span></div><!--tex4ht:label?: x1-99002r125 -->
</div>
                                                                                         
                                                                                         
<!--l. 148--><p class="noindent" ></div><hr class="endfigure">
<!--l. 150--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-99003r126"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 151--><p class="noindent" >
<!--l. 152--><p class="noindent" ><img 
src="Chapt_heat/figs/edge_4_edit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;126: </span><span  
class="content">Editor for Edge 4</span></div><!--tex4ht:label?: x1-99003r126 -->
</div>
                                                                                         
                                                                                         
<!--l. 156--><p class="noindent" ></div><hr class="endfigure">
<!--l. 158--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-99004r127"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 159--><p class="noindent" >
<!--l. 160--><p class="noindent" ><img 
src="Chapt_heat/figs/edge_5_edit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;127: </span><span  
class="content">Editor for Edge 5</span></div><!--tex4ht:label?: x1-99004r127 -->
</div>
                                                                                         
                                                                                         
<!--l. 164--><p class="noindent" ></div><hr class="endfigure">
<!--l. 166--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-99005r128"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 167--><p class="noindent" >
<!--l. 168--><p class="noindent" ><img 
src="Chapt_heat/figs/edge_6_edit.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;128: </span><span  
class="content">Editor for Edge 6</span></div><!--tex4ht:label?: x1-99005r128 -->
</div>
                                                                                         
                                                                                         
<!--l. 172--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-99006r225"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.8.    </span> <a 
 id="x1-1000008"></a>Add Heat Integration Tags</h4>
<!--l. 176--><p class="noindent" >Heat integration tags are required if one variable needs to be considered in heat integration.
<!--l. 178--><p class="noindent" >Four types of tags are needed for heat integration, and they identify (1) which block the variable is
associated with, (2) which type of port the variable is in, (3) what type of variable it is, and (4) which kind
of heat source the variable is involved in. The detailed lists of tags are provided in Tables <a 
href="#x1-100001r4">4<!--tex4ht:ref: tag.1 --></a>, <a 
href="#x1-100002r5">5<!--tex4ht:ref: tag.2 --></a>, <a 
href="#x1-100003r6">6<!--tex4ht:ref: tag.3 --></a>, and
<a 
href="#x1-100004r7">7<!--tex4ht:ref: tag.4 --></a>.
<div class="table">
                                                                                         
                                                                                         
<!--l. 180--><p class="noindent" ><a 
 id="x1-100001r4"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 181--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Table&#x00A0;4: </span><span  
class="content">Tag 1: Block Name</span></div><!--tex4ht:label?: x1-100001r4 -->
<div class="tabular">
 <table id="TBL-13" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-13-1g"><col 
id="TBL-13-1"><col 
id="TBL-13-2"><col 
id="TBL-13-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-13-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-13-1-1"  
class="td11"> <span 
class="ptmb7t-x-x-120">Tag           </span></td><td  style="white-space:wrap; text-align:left;" id="TBL-13-1-2"  
class="td11"> <!--l. 186--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Description</span>                                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-13-1-3"  
class="td11"> <!--l. 186--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Note</span>                                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-13-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-13-2-1"  
class="td11"> &#8220;Block *&#8221;  </td><td  style="white-space:wrap; text-align:left;" id="TBL-13-2-2"  
class="td11"> <!--l. 188--><p class="noindent" >* is the name of the block that the
  variable is associated with                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-13-2-3"  
class="td11"> <!--l. 189--><p class="noindent" >                         </td>

</tr><tr  
 style="vertical-align:baseline;" id="TBL-13-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-13-3-1"  
class="td11">        </td></tr></table></div></div>
                                                                                         
                                                                                         
</div><hr class="endfloat" />
</div>
<div class="table">
                                                                                         
                                                                                         
<!--l. 194--><p class="noindent" ><a 
 id="x1-100002r5"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 195--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Table&#x00A0;5: </span><span  
class="content">Tag 2: Type of Port</span></div><!--tex4ht:label?: x1-100002r5 -->
<div class="tabular">
 <table id="TBL-14" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-14-1g"><col 
id="TBL-14-1"><col 
id="TBL-14-2"><col 
id="TBL-14-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-14-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-14-1-1"  
class="td11"> <span 
class="ptmb7t-x-x-120">Tag                            </span></td><td  style="white-space:wrap; text-align:left;" id="TBL-14-1-2"  
class="td11"> <!--l. 200--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Description</span>                                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-1-3"  
class="td11"> <!--l. 200--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Note</span>                                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-14-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-14-2-1"  
class="td11"> &#8220;Port_Material_In&#8221;     </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-2-2"  
class="td11"> <!--l. 202--><p class="noindent" >Inlet material port                              </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-2-3"  
class="td11"> <!--l. 203--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-14-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-14-3-1"  
class="td11"> &#8220;Port_Material_Out&#8221;  </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-3-2"  
class="td11"> <!--l. 203--><p class="noindent" >Outlet material port                           </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-3-3"  
class="td11"> <!--l. 204--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-14-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-14-4-1"  
class="td11"> &#8220;Port_Heat_In&#8221;           </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-4-2"  
class="td11"> <!--l. 204--><p class="noindent" >Inlet heat port                                    </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-4-3"  
class="td11"> <!--l. 205--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-14-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-14-5-1"  
class="td11"> &#8220;Port_Heat_Out&#8221;        </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-5-2"  
class="td11"> <!--l. 205--><p class="noindent" >Outlet heat port                                  </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-5-3"  
class="td11"> <!--l. 206--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-14-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-14-6-1"  
class="td11"> &#8220;Blk_Var&#8221;                   </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-6-2"  
class="td11"> <!--l. 206--><p class="noindent" >Block variable (not in any port)         </td><td  style="white-space:wrap; text-align:left;" id="TBL-14-6-3"  
class="td11"> <!--l. 207--><p class="noindent" >                         </td>

</tr><tr  
 style="vertical-align:baseline;" id="TBL-14-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-14-7-1"  
class="td11">                </td></tr></table></div></div>
                                                                                         
                                                                                         
</div><hr class="endfloat" />
</div>
<div class="table">
                                                                                         
                                                                                         
<!--l. 212--><p class="noindent" ><a 
 id="x1-100003r6"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 213--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Table&#x00A0;6: </span><span  
class="content">Tag 3: Type of Variable</span></div><!--tex4ht:label?: x1-100003r6 -->
<div class="tabular">
 <table id="TBL-15" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-15-1g"><col 
id="TBL-15-1"><col 
id="TBL-15-2"><col 
id="TBL-15-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-15-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-15-1-1"  
class="td11"> <span 
class="ptmb7t-x-x-120">Tag  </span></td><td  style="white-space:wrap; text-align:left;" id="TBL-15-1-2"  
class="td11"> <!--l. 218--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Description</span>                                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-15-1-3"  
class="td11"> <!--l. 218--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Note</span>                                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-15-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-15-2-1"  
class="td11"> &#8220;T&#8221;   </td><td  style="white-space:wrap; text-align:left;" id="TBL-15-2-2"  
class="td11"> <!--l. 220--><p class="noindent" >Temperature                                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-15-2-3"  
class="td11"> <!--l. 221--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-15-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-15-3-1"  
class="td11"> &#8220;Q&#8221;   </td><td  style="white-space:wrap; text-align:left;" id="TBL-15-3-2"  
class="td11"> <!--l. 221--><p class="noindent" >Heat duty or heat flow rate                </td><td  style="white-space:wrap; text-align:left;" id="TBL-15-3-3"  
class="td11"> <!--l. 222--><p class="noindent" >                         </td>

</tr><tr  
 style="vertical-align:baseline;" id="TBL-15-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-15-4-1"  
class="td11">     </td></tr></table></div></div>
                                                                                         
                                                                                         
</div><hr class="endfloat" />
</div>
<div class="table">
                                                                                         
                                                                                         
<!--l. 227--><p class="noindent" ><a 
 id="x1-100004r7"></a><hr class="float"><div class="float" 
>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 228--><p class="noindent" >
<br /> <div class="caption" 
><span class="id">Table&#x00A0;7: </span><span  
class="content">Tag 4: Type of Heat Source</span></div><!--tex4ht:label?: x1-100004r7 -->
<div class="tabular">
 <table id="TBL-16" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-16-1g"><col 
id="TBL-16-1"><col 
id="TBL-16-2"><col 
id="TBL-16-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-16-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-16-1-1"  
class="td11"> <span 
class="ptmb7t-x-x-120">Tag                </span></td><td  style="white-space:wrap; text-align:left;" id="TBL-16-1-2"  
class="td11"> <!--l. 233--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Description</span>                                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-1-3"  
class="td11"> <!--l. 233--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Note</span>                                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-16-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-16-2-1"  
class="td11"> &#8220;heater&#8221;          </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-2-2"  
class="td11"> <!--l. 235--><p class="noindent" >Simple  heater  or  cooler  with  only
  one inlet and outlet stream                </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-2-3"  
class="td11"> <!--l. 236--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-16-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-16-3-1"  
class="td11"> &#8220;HX_Hot&#8221;      </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-3-2"  
class="td11"> <!--l. 236--><p class="noindent" >Hot side of heat exchanger with two
  inlet and outlet streams                      </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-3-3"  
class="td11"> <!--l. 237--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-16-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-16-4-1"  
class="td11"> &#8220;HX_Cold&#8221;     </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-4-2"  
class="td11"> <!--l. 237--><p class="noindent" >Cold  side  of  heat  exchanger  with
  two inlet and outlet streams               </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-4-3"  
class="td11"> <!--l. 238--><p class="noindent" >                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-16-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-16-5-1"  
class="td11"> &#8220;Point_Hot&#8221;    </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-5-2"  
class="td11"> <!--l. 238--><p class="noindent" >Isothermal heat source                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-5-3"  
class="td11"> <!--l. 238--><p class="noindent" >Equipment     removing     heat     to
  outside (e.g., adsorber)                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-16-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-16-6-1"  
class="td11"> &#8220;Point_Cold&#8221;  </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-6-2"  
class="td11"> <!--l. 239--><p class="noindent" >Isothermal heat sink                          </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-6-3"  
class="td11"> <!--l. 239--><p class="noindent" >Equipment   requiring   heat   from
  outside (e.g., regenerator)                  </td>

</tr><tr  
 style="vertical-align:baseline;" id="TBL-16-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-16-7-1"  
class="td11">           </td></tr></table></div></div>
                                                                                         
                                                                                         
</div><hr class="endfloat" />
</div>
<!--l. 245--><p class="noindent" >Pick one tag from each type of tags for the variable as only one variable is considered in heat integration if
all four types of tags are present.
<!--l. 247--><p class="noindent" >For example, assume a variable has the following tags: &#8220;Block H1,&#8221; <br 
class="newline" />&#8220;Port_Material_In,&#8221; &#8220;T,&#8221; and &#8220;heater.&#8221; This means the variable is within Block H1, is the temperature of
an inlet stream, and it is involved in the &#8220;heater&#8221; type heat source. The Python code determines whether
this variable is related to heat integration, and if yes, it then calculates the relevant heat integration inputs
from this variable. If any one of the above tags is missing (e.g., only two or three tags are present), the
variable is not included in heat integration; make sure that all four tags are properly added for heat
integration variables.
<!--l. 249--><p class="noindent" >In most cases, each variable should only have one tag within each different type of tags. This is true for
block name, type of port, and type of variable; however, some variables may have two heat source tags.
For example, the heat duty of a heat exchanger with two inlet and outlet streams is actually tagged as both
&#8220;HX_Hot&#8221; and &#8220;HX_Cold.&#8221;
<!--l. 251--><p class="noindent" >The minimum set of variables needed for heat integration is described below. For non-isothermal heat
sources, including &#8220;heater,&#8221; &#8220;HX_Hot,&#8221; and &#8220;HX_Cold,&#8221; the user must provide the temperature of the inlet
material port, temperature of outlet material port, and either equipment heat duty (block variable) or heat
flow rate of inlet and outlet heat port. For isothermal heat sources, including &#8220;Point_Hot&#8221; and
&#8220;Point_Cold,&#8221; the user needs to provide equipment temperature and heat duty (both of them are block
variables).
<!--l. 253--><p class="noindent" >In this example, some of the output variables in BFB and Compressor models are required to add heat
integration tags. These variables have a description such as &#8220;Heat Integration,&#8221; so the user can easily find
them.
<!--l. 255--><p class="noindent" >The steps for adding heat integration tags for some related variable are illustrated below.
<!--l. 257--><p class="noindent" >Take the variable &#8220;BFBadsB_Q&#8221; in the BFB model as an example (Figure <a 
href="#x1-100005r129">129<!--tex4ht:ref: add.heat.int.tags --></a>):
<!--l. 259--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-100005r129"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 260--><p class="noindent" >
<!--l. 261--><p class="noindent" ><img 
src="Chapt_heat/figs/add_heat_int_tags.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;129: </span><span  
class="content">Procedures for Adding Heat Integration Tags</span></div><!--tex4ht:label?: x1-100005r129 -->
</div>
                                                                                         
                                                                                         
<!--l. 265--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">In the &#8220;Output Variables&#8221; dialog box, select variable &#8220;BFBadsB_Q.&#8221; Navigate to the <span class="textul"><span 
class="ptmb7t-x-x-120">Tags</span></span>
      column and insert the cursor between the blank brackets.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Tags</span></span> above <span class="textul"><span 
class="ptmb7t-x-x-120">Name</span></span>. The Output Tag Browser displays.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click <span 
class="cmmi-12">&#x22B3; </span>on the left of <span class="textul"><span 
class="ptmb7t-x-x-120">Heat Integration</span></span>. The list for four types of tags displays.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click <span 
class="cmmi-12">&#x22B3; </span>on the left of <span class="textul"><span 
class="ptmb7t-x-x-120">Block Name</span></span>. The block name tag displays. Choose &#8220;Block *.&#8221;
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Insert</span></span>. The tag &#8220;Block *&#8221; is added to the tag list of variable BFBadsB_Q.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Navigate back to the <span class="textul"><span 
class="ptmb7t-x-x-120">Tags</span></span> column in the Output Variables dialog box. Replace &#8220;*&#8221; with
      &#8220;BFBadsB.&#8221; Place the cursor after the entire tag (after the close quote).
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Click <span 
class="cmmi-12">&#x22B3; </span>on the left of <span class="textul"><span 
class="ptmb7t-x-x-120">Port Type</span></span> and five port type tags are displayed. Select &#8220;Blk_Var&#8221; and
      click <span class="textul"><span 
class="ptmb7t-x-x-120">Insert</span></span>.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Click <span 
class="cmmi-12">&#x22B3; </span>on the left of <span class="textul"><span 
class="ptmb7t-x-x-120">Variable Type</span></span> and two variable type tags are displayed. Select &#8220;Q&#8221;
      and click <span class="textul"><span 
class="ptmb7t-x-x-120">Insert</span></span>.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Click  <span 
class="cmmi-12">&#x22B3; </span>on  the  left  of  <span class="textul"><span 
class="ptmb7t-x-x-120">Source  Type</span></span>  and  five  source  type  tags  are  displayed.  Select
      &#8220;Point_Hot&#8221; and click <span class="textul"><span 
class="ptmb7t-x-x-120">Insert</span></span>.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Done</span></span> to close the Output Tag Browser.</dd></dl>
<!--l. 280--><p class="noindent" >All four tags for variable BFBadsB_Q are now added. The user can also add four tags in a simultaneous
way expand all tag types, press Ctrl and then select &#8220;Block *&#8221;, &#8220;Blk_Var&#8221;, &#8220;Q&#8221; and &#8220;Point_Hot&#8221; at the
same time, and then click <span class="textul"><span 
class="ptmb7t-x-x-120">Insert</span></span>. Heat integration tags for all other variables can be added in the same
way.
<!--l. 282--><p class="noindent" >The heat integration tags for BFB output variables are shown in Figures <a 
href="#x1-100016r130">130<!--tex4ht:ref: heat.int.tags.bfb.1 --></a>, <a 
href="#x1-100017r131">131<!--tex4ht:ref: heat.int.tags.bfb.2 --></a> and, <a 
href="#x1-100018r132">132<!--tex4ht:ref: heat.int.tags.bfb.3 --></a>; the tags for
Compressor output variables are shown in Figures <a 
href="#x1-100019r133">133<!--tex4ht:ref: heat.int.tags.comp.1 --></a>, <a 
href="#x1-100020r134">134<!--tex4ht:ref: heat.int.tags.comp.2 --></a>, and <a 
href="#x1-100021r135">135<!--tex4ht:ref: heat.int.tags.comp.3 --></a>.
<!--l. 284--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-100016r130"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 285--><p class="noindent" >
<!--l. 286--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_tags_bfb_1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;130: </span><span  
class="content">Heat Integration Tags for BFB Output Variables (1)</span></div><!--tex4ht:label?: x1-100016r130 -->
</div>
                                                                                         
                                                                                         
<!--l. 290--><p class="noindent" ></div><hr class="endfigure">
<!--l. 292--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-100017r131"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 293--><p class="noindent" >
<!--l. 294--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_tags_bfb_2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;131: </span><span  
class="content">Heat Integration Tags for BFB Output Variables (2)</span></div><!--tex4ht:label?: x1-100017r131 -->
</div>
                                                                                         
                                                                                         
<!--l. 298--><p class="noindent" ></div><hr class="endfigure">
<!--l. 300--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-100018r132"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 301--><p class="noindent" >
<!--l. 302--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_tags_bfb_3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;132: </span><span  
class="content">Heat Integration Tags for BFB Output Variables (3)</span></div><!--tex4ht:label?: x1-100018r132 -->
</div>
                                                                                         
                                                                                         
<!--l. 306--><p class="noindent" ></div><hr class="endfigure">
<!--l. 308--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-100019r133"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 309--><p class="noindent" >
<!--l. 310--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_tags_comp_1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;133: </span><span  
class="content">Heat Integration Tags for Compressor Output Variables (1)</span></div><!--tex4ht:label?: x1-100019r133 -->
</div>
                                                                                         
                                                                                         
<!--l. 314--><p class="noindent" ></div><hr class="endfigure">
<!--l. 316--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-100020r134"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 317--><p class="noindent" >
<!--l. 318--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_tags_comp_2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;134: </span><span  
class="content">Heat Integration Tags for Compressor Output Variables (2)</span></div><!--tex4ht:label?: x1-100020r134 -->
</div>
                                                                                         
                                                                                         
<!--l. 322--><p class="noindent" ></div><hr class="endfigure">
<!--l. 324--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-100021r135"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 325--><p class="noindent" >
<!--l. 326--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_tags_comp_3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;135: </span><span  
class="content">Heat Integration Tags for Compressor Output Variables (3)</span></div><!--tex4ht:label?: x1-100021r135 -->
</div>
                                                                                         
                                                                                         
<!--l. 330--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-100022r231"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.9.    </span> <a 
 id="x1-1010009"></a>Run Simulation</h4>
<!--l. 335--><p class="noindent" >Click <span 
class="cmmi-12">&#x22B3; </span>on the left side of the panel. Run a single simulation.
<a 
 id="x1-101001r243"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.10.    </span> <a 
 id="x1-10200010"></a>Heat Integration Inputs</h4>
<!--l. 339--><p class="noindent" >After the simulation for BFB and Compressor models are complete, a GAMS input file is generated for
heat integration. This file is: <span 
class="cmsy-10x-x-120">\</span>gams<span 
class="cmsy-10x-x-120">\</span>GamsInput.inc. The user can verify the correctness of the heat
integration inputs in this file. If there is an error, the user can navigate back to the Node Editor to correct
the tags.
<a 
 id="x1-102001r244"></a>
<h4 class="subsectionHead"><span class="titlemark">7.2.11.    </span> <a 
 id="x1-10300011"></a>Simulation Results</h4>
<!--l. 343--><p class="noindent" >The user views simulation results via the Node Editor. In this example, the most important results can be
found in the <span class="textul"><span 
class="ptmb7t-x-x-120">Output Variables</span></span> section in the <span class="textul"><span 
class="ptmb7t-x-x-120">Heat Integration Node</span></span> and <span class="textul"><span 
class="ptmb7t-x-x-120">Steam Cycle Node</span></span>. The heat
integration results (Figure <a 
href="#x1-103001r136">136<!--tex4ht:ref: heat.int.results --></a>) include consumptions of steam and cooling water, the amount of heat
recovered in the steam cycle, the heat exchanger area, the utility cost, the capital cost for the heat
exchanger network, and the total annualized cost. The steam cycle calculation results (Figure <a 
href="#x1-103002r137">137<!--tex4ht:ref: steam.cycle.results --></a>) include
net power output and net efficiency with CCS and heat integration, as well as their changes compared to
the base case.
<!--l. 345--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-103001r136"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 346--><p class="noindent" >
<!--l. 347--><p class="noindent" ><img 
src="Chapt_heat/figs/heat_int_results.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;136: </span><span  
class="content">Heat Integration Results (Heat Integration Node)</span></div><!--tex4ht:label?: x1-103001r136 -->
</div>
                                                                                         
                                                                                         
<!--l. 351--><p class="noindent" ></div><hr class="endfigure">
<!--l. 353--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-103002r137"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 354--><p class="noindent" >
<!--l. 355--><p class="noindent" ><img 
src="Chapt_heat/figs/steam_cycle_results.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;137: </span><span  
class="content">Steam Cycle Calculation Results (Steam Cycle Node)</span></div><!--tex4ht:label?: x1-103002r137 -->
</div>
                                                                                         
                                                                                         
<!--l. 359--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;8</span><br /><a 
 id="x1-1040008"></a>Surrogate Models</h2>
<a 
 id="x1-104001r210"></a>
<h3 class="sectionHead"><span class="titlemark">8.1.    </span> <a 
 id="x1-1050001"></a>Surrogate Models Overview</h3>
<!--l. 3--><p class="noindent" >Large-scale computational models are crucial tools to analyze complex systems. When coupled with
uncertainty quantification and optimization methods, the resulting computational expense
becomes intractable. In order to face the computational burden, surface approximation methods,
black box models, or surrogate models are commonly used. FOQUS provides a selection of
surrogate modeling tools all using a similar work-flow. This section provides an overview of the
surrogate modeling features and capabilities. The details of each tool are provided in the tutorial
sections.
<!--l. 5--><p class="noindent" >The following surrogate modeling tools are currently available:
      <ul class="itemize1">
      <li class="itemize">ACOSSO  &#8211;  Adaptive  COmponent  Selection  and  Shrinkage  Operator  is  a  regularization
      method  for  simultaneous  model  fitting  and  variable  selection  based  in  nonparametric
      regression methods. ACCOSSO is suitable for approximating models with many inputs and
      no sharp changes.
      </li>
      <li class="itemize">ALAMO &#8211; Automated Learning of Algebraic Models for Optimization generates algebraic
      models from data sets. These surrogate models are ideal for equation oriented optimization
      problems (which are easily differentiable), such as super structure optimization.
      </li>
      <li class="itemize">BSS-ANOVA  &#8211;  Bayesian  Smoothing  Spline  Analysis  of  Variance  is  a  method  similar  to
      ACOSSO.
      </li>
      <li class="itemize">iREVEAL &#8211; Surrogate models for CFD simulations using Kriging or Neural Networks. It
      contains special features specifically designed for working with CFDs.</li></ul>
<a 
 id="x1-105001r245"></a>
<h4 class="subsectionHead"><span class="titlemark">8.1.1.    </span> <a 
 id="x1-1060001"></a>Data Selection</h4>
<!--l. 20--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Data</span></span> tab allows the selection of training data to be used to generate a surrogate model (Figure <a 
href="#x1-106001r138">138<!--tex4ht:ref: fig.surrogate.data --></a>). If
the session is associated with a flowsheet data (results from a single flowsheet run, optimization runs, or
UQ samples), then the flowsheet data is available to be the training data and the table will be populated
accordingly.
<!--l. 22--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-106001r138"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 23--><p class="noindent" >
<!--l. 24--><p class="noindent" ><img 
src="Chapt_surrogates/figs/data_form.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;138: </span><span  
class="content">Surrogate Data Form</span></div><!--tex4ht:label?: x1-106001r138 -->
</div>
                                                                                         
                                                                                         
<!--l. 28--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> the surrogate modeling method.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Stop</span></span> the surrogate modeling method.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Surrogate modeling tool</span></span> enables the user to select the desired surrogate modeling tool from
      the <span class="underline"><span 
class="ptmb7t-x-x-120">Tool</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Description</span></span> of the selected surrogate method.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Add Samples</span></span> enables the user to generate new training data using a model specified in the
      flowsheet or an emulator (i.e., a basic response surface provided as part of the UQ module).
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem"><span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet Results</span></span> are summarized below.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">The  data  table  has  a  <span class="textul"><span 
class="ptmb7t-x-x-120">Menu</span></span>  drop-down  list  that  contains  display,  import/export,  and  edit
      commands.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Select a data filter from the <span class="textul"><span 
class="ptmb7t-x-x-120">Current Filter</span></span> drop-down for current data display.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Add or edit new data filters from <span class="textul"><span 
class="ptmb7t-x-x-120">Edit Filters</span></span>. This dialog is shown in Figure <a 
href="#x1-32017r33">33<!--tex4ht:ref: fig.filter.1.result --></a>.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">The <span class="textul"><span 
class="ptmb7t-x-x-120">Display</span></span> table displays the results of flowsheet evaluations stored in the FOQUS session file.
      The columns are:
           <ul class="itemize1">
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">SetName</span></span> is a name assigned to samples. This is typically equivalent to one UQ sample
           run or one optimization run.
           </li>
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">ResultName</span></span> is a string representing a result name.
           </li>
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Error</span></span> is the simulation result status; 0 indicates success, other numbers represent an
           error. A column for each node displays the error status of each node.
           </li>
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Time</span></span> displays the time when the result was stored.
           </li>
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Elapsed Time</span></span> describes how long a result took to calculate.
           </li>
           <li class="itemize"><span class="textul"><span 
class="ptmb7t-x-x-120">Tags</span></span> enables a list of string labels to be applied to results. This could be used to mark
           results to be used for a particular purpose such as model validation.
                                                                                         
                                                                                         
           </li>
           <li class="itemize">The remaining columns display the input and output variables.</li></ul>
      </dd></dl>
<!--l. 52--><p class="noindent" >Filters can be used to select data. See Section <a 
href="#x1-3100010">2.10<!--tex4ht:ref: tutorials.fs.data --></a> for more information on creating filters to the
results. The &#8220;All&#8221; and &#8220;None&#8221; filters are available by default. These can be used, for example, to
assign all the data as a training set, or to split the data into a separate training set and a test
set.
<a 
 id="x1-106012r250"></a>
<h4 class="subsectionHead"><span class="titlemark">8.1.2.    </span> <a 
 id="x1-1070002"></a>Variables</h4>
<!--l. 60--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> section is illustrated in Figure <a 
href="#x1-107001r139">139<!--tex4ht:ref: fig.surrogate.vars --></a>. This section allows selection of input and output
variables used in a surrogate model. Some surrogate methods such as ALAMO may generate and run
additional samples while building surrogates. The <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span> columns provide bounds on the variables.
Selecting the checkbox next to the variable <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> indicates that it should be included in the surrogate
generation. Failure to select a checkbox for any variables will result in error during surrogate
generation.
<!--l. 65--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-107001r139"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 66--><p class="noindent" >
<!--l. 67--><p class="noindent" ><img 
src="Chapt_surrogates/figs/vars.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;139: </span><span  
class="content">Surrogate Variable Selection</span></div><!--tex4ht:label?: x1-107001r139 -->
</div>
                                                                                         
                                                                                         
<!--l. 71--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-107002r252"></a>
<h4 class="subsectionHead"><span class="titlemark">8.1.3.    </span> <a 
 id="x1-1080003"></a>Method Settings</h4>
<!--l. 75--><p class="noindent" >The <span class="textul"><span 
class="ptmb7t-x-x-120">Method Settings</span></span> table is illustrated in Figure <a 
href="#x1-108001r140">140<!--tex4ht:ref: fig.surrogate.settings --></a>. The settings available in this table depend on
the surrogate tool. A description of each setting is provided in the third column of the table.
<hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-108001r140"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 79--><p class="noindent" >
<!--l. 80--><p class="noindent" ><img 
src="Chapt_surrogates/figs/settings.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;140: </span><span  
class="content">Surrogate Settings</span></div><!--tex4ht:label?: x1-108001r140 -->
</div>
                                                                                         
                                                                                         
<!--l. 84--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-108002r254"></a>
<h4 class="subsectionHead"><span class="titlemark">8.1.4.    </span> <a 
 id="x1-1090004"></a>Execution</h4>
<!--l. 88--><p class="noindent" >Clicking <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> starts the surrogate model building process. The execution monitor displays after <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> is
clicked (see Figure <a 
href="#x1-109001r141">141<!--tex4ht:ref: fig.surrogate.monitor --></a>). The execution monitor displays the status of the surrogate build. The messages
displayed depends on the surrogate tool.
<!--l. 92--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-109001r141"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 93--><p class="noindent" >
<!--l. 94--><p class="noindent" ><img 
src="Chapt_surrogates/figs/monitor.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;141: </span><span  
class="content">Surrogate Status Monitor</span></div><!--tex4ht:label?: x1-109001r141 -->
</div>
                                                                                         
                                                                                         
<!--l. 98--><p class="noindent" ></div><hr class="endfigure">
<!--l. 101--><p class="noindent" >After a successful execution and model building, the results are displayed. Note that in this case, the
surrogate modeling tool ends with an error, the errors are displayed in this window. After surrogate
generation completes, one or two Python files will be generated depending on the tool. Each tool
generates a file that encodes the surrogate model as a general Python script that can be used to evaluate
output values for UQ analyses within the UQ module. The other file, if available, is a FOQUS flowsheet
plugin model that allows the surrogate to be run in a FOQUS flowsheet. The next version of
FOQUS will generate a FOQUS flowsheet plugin model (i.e., the second file) for all surrogate
tools.
<a 
 id="x1-109002r249"></a>
<h3 class="sectionHead"><span class="titlemark">8.2.    </span> <a 
 id="x1-1100002"></a>Tutorial &#8211; ALAMO</h3>
<!--l. 3--><p class="noindent" >This tutorial focuses on the use of the ALAMO tool for building algebraic surrogate models. ALAMO
builds simplified algebraic models, which are particularly well suited for rigorous equation oriented
optimization. To keep the execution of this tutorial fast, a toy problem is used. In this case
study the flowsheet calculations and sample generation are done within FOQUS, alternatively,
the user can provide a simulation model such as: Excel, Aspen plus, Aspen custom modeler,
etc.
<!--l. 5--><p class="noindent" >Note: Before starting this tutorial the ALAMO product must be downloaded from the products page on
the CCSI website. The path for the ALAMO executable file must be set in FOQUS settings (see Section
<a 
href="#x1-180003">2.3<!--tex4ht:ref: section.settings --></a>).
<a 
 id="x1-110001r256"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2.1.    </span> <a 
 id="x1-1110001"></a>Flowsheet Setup</h4>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Name the session &#8220;Surrogate_Tutorial_1&#8221; (Figure <a 
href="#x1-111003r142">142<!--tex4ht:ref: fig.tut.sur.session --></a>).</dd></dl>
<!--l. 14--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-111003r142"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 15--><p class="noindent" >
<!--l. 16--><p class="noindent" ><img 
src="Chapt_surrogates/figs/session1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;142: </span><span  
class="content">Session Set Up</span></div><!--tex4ht:label?: x1-111003r142 -->
</div>
                                                                                         
                                                                                         
<!--l. 20--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Navigate to the Flowsheet Editor (Figure <a 
href="#x1-111007r143">143<!--tex4ht:ref: fig.tut.sur.flowsheet --></a>).
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Add a Flowsheet Node named &#8220;eq.&#8221;
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Display the Node Editor by clicking the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> toggle button.</dd></dl>
<!--l. 28--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-111007r143"></a>
<div class="center" 
>
<!--l. 29--><p class="noindent" >
<!--l. 30--><p class="noindent" ><img 
src="Chapt_surrogates/figs/flowsheet.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;143: </span><span  
class="content">Flowsheet Setup</span></div><!--tex4ht:label?: x1-111007r143 -->
</div>
<!--l. 34--><p class="noindent" ></div><hr class="endfigure">
<!--l. 35--><p class="noindent" >The <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> displays (Figure <a 
href="#x1-111012r144">144<!--tex4ht:ref: fig.tut.sur.nodeEdit.Input --></a>). The first step to setting up the node for this problem is to add
input and output variables to the node.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">If the input variables table is not displayed as shown in Figure <a 
href="#x1-111012r144">144<!--tex4ht:ref: fig.tut.sur.nodeEdit.Input --></a>, click the <span class="underline"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab
      and then click the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> toolbox section.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Add the variables &#8220;x1&#8221; and &#8220;x2&#8221; by clicking the <span class="underline"><span 
class="ptmb7t-x-x-120">Add</span></span> icon (+) above the input table.
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Edit the <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span> value for both variables to be &#8220;-10.0&#8221; and &#8220;10.0.&#8221;
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Add two output variables &#8220;z1&#8221; and &#8220;z2.&#8221;</dd></dl>
<!--l. 44--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-111012r144"></a>
<div class="center" 
>
<!--l. 45--><p class="noindent" >
<!--l. 46--><p class="noindent" ><img 
src="Chapt_surrogates/figs/nodeInput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;144: </span><span  
class="content">Node Variables</span></div><!--tex4ht:label?: x1-111012r144 -->
</div>
                                                                                         
                                                                                         
<!--l. 50--><p class="noindent" ></div><hr class="endfigure">
<!--l. 51--><p class="noindent" >To keep the execution time short, the node will not be assigned to a simulation model and calculations are
performed directly in FOQUS.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Click on the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Script</span></span> tab in the Node Editor to enter the test equation (this step replaces
      the use of a simulator).
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Enter the following equations (Figure <a 
href="#x1-111015r145">145<!--tex4ht:ref: fig.tut.sur.nodeEdit.eq --></a>):
                                                                                         
                                                                                         
      <div class="verbatim" id="verbatim-4">
      f["z1"]&#x00A0;=&#x00A0;x["x1"]&#x00A0;+&#x00A0;x["x2"]
      &#x00A0;<br />f["z2"]&#x00A0;=&#x00A0;x["x1"]&#x22C6;&#x22C6;2&#x00A0;+&#x00A0;x["x2"]&#x22C6;&#x22C6;2
</div>
      <!--l. 59--><p class="nopar" > The node script calculations are written in Python. The dictionary &#8220;f&#8221; stores output values while the
      dictionary &#8220;x&#8221; stores input values.
      <!--l. 62--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-111015r145"></a>
<div class="center" 
>
<!--l. 63--><p class="noindent" >
<!--l. 64--><p class="noindent" ><img 
src="Chapt_surrogates/figs/nodeEq.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;145: </span><span  
class="content">Node Script</span></div><!--tex4ht:label?: x1-111015r145 -->
</div>
      <!--l. 68--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Test the model by running the flowsheet with the value &#8220;2&#8221; for &#8220;x1&#8221; and &#8220;x2.&#8221; After running, the
      output variables should have the values &#8220;4.0&#8221; for &#8220;z1&#8221; and &#8220;8.0&#8221; for &#8220;z2.&#8221;</dd></dl>
<a 
 id="x1-111017r259"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2.2.    </span> <a 
 id="x1-1120002"></a>Creating Initial Samples</h4>
<!--l. 76--><p class="noindent" >There are two ways to start an ALAMO run: (1) generate a set of initial data, (2) use ALAMO&#8217;s adaptive
sampling with no initial data and let ALAMO generates its own samples. Adaptive sampling can be used
with initial data to generate more points if needed. In this case, initial data is provided and adaptive
sampling is used.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">Select the UQ tool by clicking on the <span class="underline"><span 
class="ptmb7t-x-x-120">Uncertainty</span></span> button on the Home window (Figure <a 
href="#x1-112004r146">146<!--tex4ht:ref: fig.tut.sur.new.uq.ens --></a>).
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Add New</span></span> button.
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Add New Ensemble - Model Selection</span></span> dialog will appear.  Click <span class="underline"><span 
class="ptmb7t-x-x-120">OK</span></span> to set up the
      sampling scheme.</dd></dl>
<!--l. 84--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-112004r146"></a>
<div class="center" 
>
<!--l. 85--><p class="noindent" >
<!--l. 86--><p class="noindent" ><img 
src="Chapt_surrogates/figs/uqNewEns.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;146: </span><span  
class="content">Add a New Sample Ensemble</span></div><!--tex4ht:label?: x1-112004r146 -->
</div>
                                                                                         
                                                                                         
<!--l. 90--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem">The sample ensemble setup dialog displays (Figure <a 
href="#x1-112008r147">147<!--tex4ht:ref: fig.tut.sur.new.uq.sample1 --></a>). Select <span class="underline"><span 
class="ptmb7t-x-x-120">Choose sampling scheme</span></span>.
      </dd><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem">Click the <span class="underline"><span 
class="ptmb7t-x-x-120">All Variable</span></span> button.
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Select the <span class="underline"><span 
class="ptmb7t-x-x-120">Sampling scheme</span></span> tab.</dd></dl>
<!--l. 97--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-112008r147"></a>
<div class="center" 
>
<!--l. 98--><p class="noindent" >
<!--l. 99--><p class="noindent" ><img 
src="Chapt_surrogates/figs/uqSample1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;147: </span><span  
class="content">Sample Distributions</span></div><!--tex4ht:label?: x1-112008r147 -->
</div>
<!--l. 103--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  19. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">Sampling schem</span></span><span 
class="ptmb7t-x-x-120">e </span>dialog should display (Figure <a 
href="#x1-112013r148">148<!--tex4ht:ref: fig.tut.sur.new.uq.sample2 --></a>). Select &#8220;Latin Hypercube&#8221; from
      the list.
      </dd><dt class="enumerate-enumitem">
  20. </dt><dd 
class="enumerate-enumitem">Set the <span class="underline"><span 
class="ptmb7t-x-x-120"># of samples</span></span> to &#8220;10.&#8221;
      </dd><dt class="enumerate-enumitem">
  21. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">Generate Samples</span></span>.
      </dd><dt class="enumerate-enumitem">
  22. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">Done</span></span>.</dd></dl>
<!--l. 111--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-112013r148"></a>
<div class="center" 
>
<!--l. 112--><p class="noindent" >
<!--l. 113--><p class="noindent" ><img 
src="Chapt_surrogates/figs/uqSample2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;148: </span><span  
class="content">Sample Methods</span></div><!--tex4ht:label?: x1-112013r148 -->
</div>
<!--l. 117--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  23. </dt><dd 
class="enumerate-enumitem">Once  the  samples  have  been  generated  a  new  sample  ensemble  displays  in  the  UQ  tool
      window (Figure <a 
href="#x1-112015r149">149<!--tex4ht:ref: fig.tut.sur.new.uq.sample3 --></a>). Click <span class="underline"><span 
class="ptmb7t-x-x-120">Launch</span></span> to run and generate the samples.</dd></dl>
<!--l. 122--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-112015r149"></a>
<div class="center" 
>
<!--l. 123--><p class="noindent" >
<!--l. 124--><p class="noindent" ><img 
src="Chapt_surrogates/figs/uqSample3.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;149: </span><span  
class="content">Run Samples</span></div><!--tex4ht:label?: x1-112015r149 -->
</div>
<!--l. 128--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-112016r264"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2.3.    </span> <a 
 id="x1-1130003"></a>Data Selection</h4>
<!--l. 132--><p class="noindent" >Initial and validation data can be specified by creating filters that specify subsets of flowsheet data. In this
tutorial only initial data will be used. A filter must be created to separate the results of the single test run
from the UQ samples.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  24. </dt><dd 
class="enumerate-enumitem">Click on the <span class="underline"><span 
class="ptmb7t-x-x-120">Surrogates</span></span> button from the Home window. The surrogate tool displays <a 
href="#x1-113004r150">150<!--tex4ht:ref: fig.tut.sur.data --></a>.
      </dd><dt class="enumerate-enumitem">
  25. </dt><dd 
class="enumerate-enumitem">Select &#8220;ALAMO&#8221; from the <span class="underline"><span 
class="ptmb7t-x-x-120">Tool</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
  26. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">Edit Filters</span></span> in the <span class="underline"><span 
class="ptmb7t-x-x-120">Flowsheet Results</span></span> section to create a filter.</dd></dl>
<!--l. 140--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-113004r150"></a>
<div class="center" 
>
<!--l. 141--><p class="noindent" >
<!--l. 142--><p class="noindent" ><img 
src="Chapt_surrogates/figs/data.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;150: </span><span  
class="content">Surrogate Data</span></div><!--tex4ht:label?: x1-113004r150 -->
</div>
<!--l. 146--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  27. </dt><dd 
class="enumerate-enumitem">Figure <a 
href="#x1-113013r151">151<!--tex4ht:ref: fig.tut.sur.dataFilter --></a> displays the Data Filter Editor.
      </dd><dt class="enumerate-enumitem">
  28. </dt><dd 
class="enumerate-enumitem">Add the filter for initial data.
                                                                                         
                                                                                         
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">New Filter</span></span>, and enter &#8220;Initial&#8221; as the filter name.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Add Rule</span></span>.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">In the &#8220;Term 1&#8221; column enter: set (no quotes).
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">In the &#8220;Term 2&#8221; column enter: &#8220;UQ_Ensemble&#8221; (with quotes).
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">In the &#8220;Operator&#8221; column select &#8220;=.&#8221;</dd></dl>
      </dd><dt class="enumerate-enumitem">
  29. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">Done</span></span>.</dd></dl>
<!--l. 161--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-113013r151"></a>
<div class="center" 
>
<!--l. 162--><p class="noindent" >
<!--l. 163--><p class="noindent" ><img 
src="Chapt_surrogates/figs/dataFilter.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;151: </span><span  
class="content">Data Filter Dialog</span></div><!--tex4ht:label?: x1-113013r151 -->
</div>
<!--l. 167--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-113014r269"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2.4.    </span> <a 
 id="x1-1140004"></a>Variable Selection</h4>
<!--l. 170--><p class="noindent" >In this section, input and output variables need to be selected. Generally, any input variables that vary in
the data set should be selected. However, in some cases, variables may be found to have no, or very little,
effect on the outputs. Only the output variables of interest need to be selected. Note: Each output is
independent from each other and for the model building, selecting one output is the same as selecting
more.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  30. </dt><dd 
class="enumerate-enumitem">Select the <span class="underline"><span 
class="ptmb7t-x-x-120">Variable</span></span><span 
class="ptmb7t-x-x-120">s </span>tab (Figure <a 
href="#x1-114004r152">152<!--tex4ht:ref: fig.tut.sur.vaiables --></a>).
      </dd><dt class="enumerate-enumitem">
  31. </dt><dd 
class="enumerate-enumitem">Select the checkbox for both input variables.
      </dd><dt class="enumerate-enumitem">
  32. </dt><dd 
class="enumerate-enumitem">Select the checkbox for both output variables.</dd></dl>
<!--l. 178--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-114004r152"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 179--><p class="noindent" >
<!--l. 180--><p class="noindent" ><img 
src="Chapt_surrogates/figs/variables.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;152: </span><span  
class="content">Variable Selection</span></div><!--tex4ht:label?: x1-114004r152 -->
</div>
<!--l. 184--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-114005r272"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2.5.    </span> <a 
 id="x1-1150005"></a>Method Settings</h4>
<!--l. 188--><p class="noindent" >The most important feature to generate &#8221;good&#8221; algebraic models is to configure the settings accordingly to
the problem to be solved. Each setting has a good description in FOQUS. The JSON parser is used to read
method settings values. Strings must be contained in quotes. Lists have the following format: [element 1,
element 2].
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  33. </dt><dd 
class="enumerate-enumitem">Click on the <span class="underline"><span 
class="ptmb7t-x-x-120">Method Settings</span></span> tab (see Figure <a 
href="#x1-115011r153">153<!--tex4ht:ref: fig.alamo.method.settigs --></a>).
      </dd><dt class="enumerate-enumitem">
  34. </dt><dd 
class="enumerate-enumitem">Set the <span class="underline"><span 
class="ptmb7t-x-x-120">FOQUS Model (for UQ)</span></span> to &#8220;ALAMO_tutorial_UQ.py.&#8221;
      </dd><dt class="enumerate-enumitem">
  35. </dt><dd 
class="enumerate-enumitem">Set the <span class="underline"><span 
class="ptmb7t-x-x-120">FOQUS Model (for Flowsheet)</span></span> to &#8220;ALAMO_tutorial_FS.py&#8221;
      </dd><dt class="enumerate-enumitem">
  36. </dt><dd 
class="enumerate-enumitem">Set <span class="underline"><span 
class="ptmb7t-x-x-120">Initial Data Filter</span></span> to &#8220;Initial.&#8221;
      </dd><dt class="enumerate-enumitem">
  37. </dt><dd 
class="enumerate-enumitem">Set <span class="underline"><span 
class="ptmb7t-x-x-120">SAMPLER</span></span> to select the adaptive sampling method: &#8220;None&#8221; &#8220;Random&#8221; or &#8220;SNOBFIT.&#8221;
      Use &#8220;None&#8221; in this tutorial.
      </dd><dt class="enumerate-enumitem">
  38. </dt><dd 
class="enumerate-enumitem">Set <span class="underline"><span 
class="ptmb7t-x-x-120">MONOMIALPOWER</span></span> to select the single variable term powers to [1,2,3].
      </dd><dt class="enumerate-enumitem">
  39. </dt><dd 
class="enumerate-enumitem">Set <span class="underline"><span 
class="ptmb7t-x-x-120">MULTI2POWER</span></span> to select the two variable term powers to [1].
      </dd><dt class="enumerate-enumitem">
  40. </dt><dd 
class="enumerate-enumitem">Select functions to be considered as basis functions (<span class="underline"><span 
class="ptmb7t-x-x-120">EXPFCNS</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">LOGFCNS</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">SINFCNS</span></span>,
      <span class="underline"><span 
class="ptmb7t-x-x-120">COSFCNS</span></span>).
      </dd><dt class="enumerate-enumitem">
  41. </dt><dd 
class="enumerate-enumitem">Leave the rest of settings as default (see Table <a 
href="#x1-117001r8">8<!--tex4ht:ref: tutorial.alamo.table --></a>).
      </dd><dt class="enumerate-enumitem">
  42. </dt><dd 
class="enumerate-enumitem">Save this FOQUS session for use in the ACOSSO and BSS-ANOVA tutorials.</dd></dl>
<!--l. 203--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-115011r153"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 204--><p class="noindent" >
<!--l. 205--><p class="noindent" ><img 
src="Chapt_surrogates/figs/alamo_settings.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;153: </span><span  
class="content">ALAMO Method Settings</span></div><!--tex4ht:label?: x1-115011r153 -->
</div>
<!--l. 209--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-115012r274"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2.6.    </span> <a 
 id="x1-1160006"></a>Execution</h4>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  43. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> icon at the top of the window.
      </dd><dt class="enumerate-enumitem">
  44. </dt><dd 
class="enumerate-enumitem">The ALAMO <span class="textul"><span 
class="ptmb7t-x-x-120">Execution</span></span> tab starts displaying execution file path, sub-directories, input files, and
      output files.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">ALAMO version.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">License Information.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Step 0 displays the data set to be used by ALAMO.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Step 1 displays the modeler used by ALAMO to generate the algebraic model.
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">Once the surrogate model has finished, the equations are displayed in the execution
           window. It may be necessary to scroll up a little. The result is shown in Figure <a 
href="#x1-116009r154">154<!--tex4ht:ref: fig.alamo.res --></a>.
           </dd><dt class="enumerate-enumitem">
       (f) </dt><dd 
class="enumerate-enumitem">Finally, the statistics display the quality metrics of the models generated.</dd></dl>
      </dd></dl>
<!--l. 227--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-116009r154"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 228--><p class="noindent" >
<!--l. 229--><p class="noindent" ><img 
src="Chapt_surrogates/figs/alamo_exec.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;154: </span><span  
class="content">ALAMO Execution</span></div><!--tex4ht:label?: x1-116009r154 -->
</div>
                                                                                         
                                                                                         
<!--l. 233--><p class="noindent" ></div><hr class="endfigure">
<a 
 id="x1-116010r276"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2.7.    </span> <a 
 id="x1-1170007"></a>Results</h4>
<!--l. 236--><p class="noindent" >The results are exported as a PSUADE driver file that can be used perform UQ analysis of the models, and
a FOQUS Python plugin model that allows it to be used in a FOQUS flowsheet. The equations can also be
viewed in the results section.
<!--l. 238--><p class="noindent" >See tutorial Section <a 
href="#x1-1210006">8.6<!--tex4ht:ref: tutorial.surrogate.uq --></a> and <a 
href="#x1-1220007">8.7<!--tex4ht:ref: tutorial.surrogate.fs --></a> for information about analyzing the model with the UQ tools or running
the model on the flowsheet.
<!--l. 240--><p class="noindent" >As mentioned in section <a 
href="#x1-1150005">8.2.5<!--tex4ht:ref: tutorial.alamo.methodsettings --></a> the method settings are very important. A brief description and hints are
included in Table <a 
href="#x1-117001r8">8<!--tex4ht:ref: tutorial.alamo.table --></a>.
<div class="center" 
>
<!--l. 242--><p class="noindent" >
<a 
 id="x1-117001r8"></a>
<!--l. 245--><div class="longtable"> <table id="TBL-17" class="longtable" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-17-1g"><col 
id="TBL-17-1"></colgroup><colgroup id="TBL-17-2g"><col 
id="TBL-17-2"></colgroup>
<tr  
 style="vertical-align:baseline;" id="TBL-17-1-"><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-17-1-1"  
class="td11">               <div class="multicolumn"  style="white-space:nowrap; text-align:center;"><div class="caption" 
><span class="id">Table&#x00A0;8: </span><span  
class="content">ALAMO Method Settings</span></div><!--tex4ht:label?: x1-117001r8 -->                                      </div>                                    <a 
 id="x1-117002"></a>
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-2-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-2-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-3-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-3-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-4-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-4-1"  
class="td11">
 <!--l. 249--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-5-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-5-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-6-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-6-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-7-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-7-1"  
class="td11">
 <!--l. 249--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-8-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-8-1"  
class="td11">
 <!--l. 249--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Method Settings</span>                     </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-8-2"  
class="td11">
 <!--l. 249--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Description</span>                                                                                            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-9-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-9-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-10-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-10-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-11-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-11-1"  
class="td11">
 <!--l. 250--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-12-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-12-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-13-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-13-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-14-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-14-1"  
class="td11">
 <!--l. 250--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-15-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-15-1"  
class="td11">
 <!--l. 250--><p class="noindent" >Initial Data Filter                     </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-15-2"  
class="td11">
 <!--l. 250--><p class="noindent" >Filter to be applied to the initial data set. Data filters help the user to
  generate models based on specific data for each variable.                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-16-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-16-1"  
class="td11">
                                                                                         
                                                                                         
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-17-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-17-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-18-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-18-1"  
class="td11">
 <!--l. 251--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-19-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-19-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-20-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-20-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-21-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-21-1"  
class="td11">
 <!--l. 251--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-22-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-22-1"  
class="td11">
 <!--l. 251--><p class="noindent" >Validation Data filter               </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-22-2"  
class="td11">
 <!--l. 251--><p class="noindent" >Data set used to compute model errors at the validation phase. The
  number  of  data  points  in  a  preexisting  validation  data  set  can  be
  specified by the user.                                                                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-23-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-23-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-24-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-24-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-25-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-25-1"  
class="td11">
 <!--l. 252--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-26-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-26-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-27-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-27-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-28-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-28-1"  
class="td11">
 <!--l. 252--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-29-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-29-1"  
class="td11">
 <!--l. 252--><p class="noindent" >SAMPLER                               </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-29-2"  
class="td11">
 <!--l. 252--><p class="noindent" >Adaptative sampling method to be used. Options: &#8221;None&#8221;, &#8221;Random&#8221;
  and &#8221;SNOBFIT&#8221;. Adaptive sampling method to be used by ALAMO
  when more sampling points are needed by the model. If <span class="textul"><span 
class="ptmb7t-x-x-120">Random</span></span>
  is used a simulator must be provided by the user. If <span class="textul"><span 
class="ptmb7t-x-x-120">SNOBFIT</span></span> is
  used a simulator must be provided by the user and MATLAB must
  be installed.                                                                                            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-30-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-30-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-31-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-31-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-32-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-32-1"  
class="td11">
 <!--l. 253--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-33-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-33-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-34-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-34-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-35-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-35-1"  
class="td11">
 <!--l. 253--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-36-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-36-1"  
class="td11">
 <!--l. 253--><p class="noindent" >MAXTIME                              </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-36-2"  
class="td11">
 <!--l. 253--><p class="noindent" >Maximum execution time in seconds. This time includes all the steps
  on the algorithm, if simulations are needed they run in this time.         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-37-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-37-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-38-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-38-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-39-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-39-1"  
class="td11">
 <!--l. 254--><p class="noindent" >                    </td>
                                                                                         
                                                                                         
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-40-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-40-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-41-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-41-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-42-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-42-1"  
class="td11">
 <!--l. 254--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-43-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-43-1"  
class="td11">
 <!--l. 254--><p class="noindent" >MINPOINTS                           </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-43-2"  
class="td11">
 <!--l. 254--><p class="noindent" >Convergence is assessed only if the simulator is able to compute the
  output variables for at least MINPOINTS of the data set. A reduced
  number of MINPOINTS may reduce the computational time to get
  a model, but also reduces the accuracy of the model. MINPOINTS
  must be a positive integer.                                                                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-44-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-44-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-45-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-45-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-46-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-46-1"  
class="td11">
 <!--l. 255--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-47-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-47-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-48-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-48-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-49-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-49-1"  
class="td11">
 <!--l. 255--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-50-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-50-1"  
class="td11">
 <!--l. 255--><p class="noindent" >PRESET                                   </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-50-2"  
class="td11">
 <!--l. 255--><p class="noindent" >Value to be used if the simulator fails. This value must be carefully
  chosen  to  be  an  otherwise  not  realizable  value  for  the  output
  variables.                                                                                                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-51-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-51-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-52-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-52-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-53-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-53-1"  
class="td11">
 <!--l. 256--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-54-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-54-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-55-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-55-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-56-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-56-1"  
class="td11">
 <!--l. 256--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-57-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-57-1"  
class="td11">
 <!--l. 256--><p class="noindent" >MONOMIALPOWERS          </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-57-2"  
class="td11">
 <!--l. 256--><p class="noindent" >Vector of monomial powers to be considered as basis functions, use
  empty vector for none []. Exponential terms allowed in the algebraic
  model. i.e., if selecting [1,2] the model considers x1 and x1**2 as
  basis functions.                                                                                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-58-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-58-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-59-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-59-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-60-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-60-1"  
class="td11">
 <!--l. 257--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-61-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-61-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-62-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-62-1"  
class="td11">                     </td>
                                                                                         
                                                                                         
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-63-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-63-1"  
class="td11">
 <!--l. 257--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-64-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-64-1"  
class="td11">
 <!--l. 257--><p class="noindent" >MULTI2POWER                     </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-64-2"  
class="td11">
 <!--l. 257--><p class="noindent" >Vector of pairwise combination of powers to be considered as basis
  functions. Pairwise combination of powers allowed in the algebraic
  model. i.e., [1,2] allows terms like x1*x2 in the algebraic model.        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-65-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-65-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-66-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-66-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-67-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-67-1"  
class="td11">
 <!--l. 258--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-68-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-68-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-69-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-69-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-70-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-70-1"  
class="td11">
 <!--l. 258--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-71-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-71-1"  
class="td11">
 <!--l. 258--><p class="noindent" >MULTI3POWER                     </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-71-2"  
class="td11">
 <!--l. 258--><p class="noindent" >Vector of three variables combinations of powers to be considered as
  basis functions.                                                                                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-72-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-72-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-73-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-73-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-74-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-74-1"  
class="td11">
 <!--l. 259--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-75-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-75-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-76-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-76-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-77-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-77-1"  
class="td11">
 <!--l. 259--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-78-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-78-1"  
class="td11">
 <!--l. 259--><p class="noindent" >EXPFCNS,
  LOGFCNS,
  SINFCNS,
  COSFCNS
  functions                                  </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-78-2"  
class="td11">
 <!--l. 259--><p class="noindent" >Use or not of exp, log, sin, and cos functions as basis functions in the
  model.                                                                                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-79-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-79-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-80-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-80-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-81-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-81-1"  
class="td11">
 <!--l. 260--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-82-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-82-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-83-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-83-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-84-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-84-1"  
class="td11">
 <!--l. 260--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-85-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-85-1"  
class="td11">
 <!--l. 260--><p class="noindent" >RATIOPOWER                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-85-2"  
class="td11">
 <!--l. 260--><p class="noindent" >Vector of ratio combinations of powers to be considered in the basis
  functions. Ratio combinations of powers are [empty as default].          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-86-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-86-1"  
class="td11">
                                                                                         
                                                                                         
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-87-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-87-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-88-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-88-1"  
class="td11">
 <!--l. 261--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-89-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-89-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-90-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-90-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-91-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-91-1"  
class="td11">
 <!--l. 261--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-92-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-92-1"  
class="td11">
 <!--l. 261--><p class="noindent" >Radial Basis Functions            </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-92-2"  
class="td11">
 <!--l. 261--><p class="noindent" >Radial basis functions centered around the data set provided by the
  user. These functions are Gaussian and are deactivated if their textual
  representation requires more than 128 characters (in the case of too
  many input variables and/or datapoints).                                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-93-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-93-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-94-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-94-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-95-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-95-1"  
class="td11">
 <!--l. 262--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-96-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-96-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-97-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-97-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-98-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-98-1"  
class="td11">
 <!--l. 262--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-99-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-99-1"  
class="td11">
 <!--l. 262--><p class="noindent" >RBF parameter                        </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-99-2"  
class="td11">
 <!--l. 262--><p class="noindent" >Constant penalty used in the Gaussian radial basis functions.               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-100-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-100-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-101-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-101-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-102-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-102-1"  
class="td11">
 <!--l. 263--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-103-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-103-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-104-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-104-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-105-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-105-1"  
class="td11">
 <!--l. 263--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-106-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-106-1"  
class="td11">
 <!--l. 263--><p class="noindent" >Modeler                                   </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-106-2"  
class="td11">
 <!--l. 263--><p class="noindent" >Fitness metric to be used for model building. Options: BIC (Bayesian
  Information  Criterion),  Mallow&#8217;s  Cp,  AICc  (Corrected  Akaike&#8217;s
  Information Criterio), HQC (Hannan-Quinn Information Criterion),
  MSE (Mean Square Error), and Convex Penalty.                                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-107-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-107-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-108-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-108-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-109-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-109-1"  
class="td11">
 <!--l. 264--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-110-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-110-1"  
class="td11">
                                                                                         
                                                                                         
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-111-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-111-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-112-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-112-1"  
class="td11">
 <!--l. 264--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-113-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-113-1"  
class="td11">
 <!--l. 264--><p class="noindent" >ConvPen                                  </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-113-2"  
class="td11">
 <!--l. 264--><p class="noindent" >Convex penalty term. Used if Convex Penalty is selected.                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-114-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-114-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-115-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-115-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-116-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-116-1"  
class="td11">
 <!--l. 265--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-117-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-117-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-118-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-118-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-119-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-119-1"  
class="td11">
 <!--l. 265--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-120-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-120-1"  
class="td11">
 <!--l. 265--><p class="noindent" >Regularizer                              </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-120-2"  
class="td11">
 <!--l. 265--><p class="noindent" >Regularization method is used to reduce the number of potential basis
  functions before the optimization.                                                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-121-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-121-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-122-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-122-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-123-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-123-1"  
class="td11">
 <!--l. 266--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-124-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-124-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-125-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-125-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-126-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-126-1"  
class="td11">
 <!--l. 266--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-127-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-127-1"  
class="td11">
 <!--l. 266--><p class="noindent" >Tolrelmetric                             </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-127-2"  
class="td11">
 <!--l. 266--><p class="noindent" >Convergence  tolerance  for  the  chosen  fitness  metric  is  needed  to
  terminate the algorithm.                                                                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-128-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-128-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-129-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-129-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-130-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-130-1"  
class="td11">
 <!--l. 267--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-131-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-131-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-132-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-132-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-133-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-133-1"  
class="td11">
 <!--l. 267--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-134-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-134-1"  
class="td11">
 <!--l. 267--><p class="noindent" >ScaleZ                                      </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-134-2"  
class="td11">
 <!--l. 267--><p class="noindent" >If used, the variables are scaled prior to the optimization problem is
  solved. The problem is solved using a mathematical programming
  solver.  Usually,  scaling  the  variables  may  help  the  optimization
  procedure.                                                                                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-135-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-135-1"  
class="td11">                             </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-135-2"  
class="td11">
                                                                                         
                                                                                         
</td></tr>
<tr  
 style="vertical-align:baseline;" id="TBL-17-136-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-136-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-137-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-137-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-138-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-138-1"  
class="td11">
 <!--l. 268--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-139-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-139-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-140-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-140-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-141-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-141-1"  
class="td11">
 <!--l. 268--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-142-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-142-1"  
class="td11">
 <!--l. 268--><p class="noindent" >GAMS                                     </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-142-2"  
class="td11">
 <!--l. 268--><p class="noindent" >GAMS is the software used to solve the optimization problems. The
  executable path is expected or the user must declare GAMS.exe in
  the environment path.                                                                             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-143-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-143-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-144-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-144-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-145-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-145-1"  
class="td11">
 <!--l. 269--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-146-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-146-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-147-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-147-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-148-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-148-1"  
class="td11">
 <!--l. 269--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-149-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-149-1"  
class="td11">
 <!--l. 269--><p class="noindent" >GAMS Solver                          </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-149-2"  
class="td11">
 <!--l. 269--><p class="noindent" >Solver  to  be  used  by  GAMS  to  solve  the  optimization  problems.
  Mixed   integer   quadratic   programming   solver   is   expected   like
  BARON (other solvers can be used).                                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-150-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-150-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-151-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-151-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-152-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-152-1"  
class="td11">
 <!--l. 270--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-153-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-153-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-154-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-154-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-155-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-155-1"  
class="td11">
 <!--l. 270--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-156-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-156-1"  
class="td11">
 <!--l. 270--><p class="noindent" >MIPOPTCR                             </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-156-2"  
class="td11">
 <!--l. 270--><p class="noindent" >Relative convergence tolerance for the optimization problems solved
  in  GAMS.  The  optimization  problem  is  solved  when  the  optcr  is
  reached. 5 to 1 % is expected (0.005 to 0.001).                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-157-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-157-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-158-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-158-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-159-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-159-1"  
class="td11">
 <!--l. 271--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-160-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-160-1"  
class="td11">
                                                                                         
                                                                                         
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-161-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-161-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-162-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-162-1"  
class="td11">
 <!--l. 271--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-163-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-163-1"  
class="td11">
 <!--l. 271--><p class="noindent" >MIPOPTCA                             </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-163-2"  
class="td11">
 <!--l. 271--><p class="noindent" >Absolute   convergence   tolerance   for   mixed-integer   optimization
  problems. This must be a nonnegative scalar.                                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-164-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-164-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-165-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-165-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-166-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-166-1"  
class="td11">
 <!--l. 272--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-167-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-167-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-168-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-168-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-169-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-169-1"  
class="td11">
 <!--l. 272--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-170-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-170-1"  
class="td11">
 <!--l. 272--><p class="noindent" >Linear error                              </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-170-2"  
class="td11">
 <!--l. 272--><p class="noindent" >If true, a linear objective function is used when solving the mixed
  integer  optimization  problems;  otherwise,  a  quadratic  objective
  function is used.                                                                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-171-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-171-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-172-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-172-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-173-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-173-1"  
class="td11">
 <!--l. 273--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-174-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-174-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-175-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-175-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-176-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-176-1"  
class="td11">
 <!--l. 273--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-177-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-177-1"  
class="td11">
 <!--l. 273--><p class="noindent" >Constraint
  Regression
  (CONREG)                              </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-177-2"  
class="td11">
 <!--l. 273--><p class="noindent" >Specify whether constraint regression is used or not, if true bounds
  on output variables are enforced.                                                           </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-178-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-178-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-179-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-179-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-180-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-180-1"  
class="td11">
 <!--l. 274--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-181-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-181-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-182-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-182-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-183-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-183-1"  
class="td11">
 <!--l. 274--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-184-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-184-1"  
class="td11">
 <!--l. 274--><p class="noindent" >CRNCUSTOM                        </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-184-2"  
class="td11">
 <!--l. 274--><p class="noindent" >If true, Custom constraints are entered in the Variable tab.                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-185-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-185-1"  
class="td11">
                                                                                         
                                                                                         
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-186-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-186-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-187-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-187-1"  
class="td11">
 <!--l. 275--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-188-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-188-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-189-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-189-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-190-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-190-1"  
class="td11">
 <!--l. 275--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-191-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-191-1"  
class="td11">
 <!--l. 275--><p class="noindent" >CRNINITIAL                          </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-191-2"  
class="td11">
 <!--l. 275--><p class="noindent" >Number of random bounding points at which constraints are sampled
  initially (must be a nonnegative integer).                                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-192-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-192-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-193-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-193-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-194-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-194-1"  
class="td11">
 <!--l. 276--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-195-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-195-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-196-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-196-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-197-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-197-1"  
class="td11">
 <!--l. 276--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-198-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-198-1"  
class="td11">
 <!--l. 276--><p class="noindent" >CRNMAXITER                       </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-198-2"  
class="td11">
 <!--l. 276--><p class="noindent" >Maximum allowed constrained regressions iterations. Constraints are
  enforced on additional points during each iteration (must be positive
  integer).                                                                                                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-199-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-199-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-200-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-200-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-201-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-201-1"  
class="td11">
 <!--l. 277--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-202-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-202-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-203-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-203-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-204-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-204-1"  
class="td11">
 <!--l. 277--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-205-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-205-1"  
class="td11">
 <!--l. 277--><p class="noindent" >CRNVIOL                               </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-205-2"  
class="td11">
 <!--l. 277--><p class="noindent" >Number  of  bounding  points  added  per  round  per  bound  in  each
  iteration (must be positive integer).                                                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-206-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-206-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-207-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-207-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-208-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-208-1"  
class="td11">
 <!--l. 278--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-209-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-209-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-210-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-210-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-211-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-211-1"  
class="td11">
 <!--l. 278--><p class="noindent" >                    </td>
                                                                                         
                                                                                         
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-212-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-212-1"  
class="td11">
 <!--l. 278--><p class="noindent" >CRNTRIALS                           </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-212-2"  
class="td11">
 <!--l. 278--><p class="noindent" >Number of random trial bounding points per round of constrained
  regression (must be a positive integer).                                                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-213-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-213-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-214-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-214-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-215-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-215-1"  
class="td11">
 <!--l. 279--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-216-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-216-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-217-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-217-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-218-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-218-1"  
class="td11">
 <!--l. 279--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-219-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-219-1"  
class="td11">
 <!--l. 279--><p class="noindent" >CUSTOMBAS                         </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-219-2"  
class="td11">
 <!--l. 279--><p class="noindent" >A  list  of  user-supplied  custom  basis  functions  can  be  provided  by
  the user. The parser is not case sensitive and allows for any Fortran
  functional expression in terms of the XLABELS (symbol ^ may be
  used to denote power).                                                                           </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-220-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-220-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-221-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-221-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-222-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-222-1"  
class="td11">
 <!--l. 280--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-223-"><td colspan="2" style="white-space:wrap; text-align:left;" id="TBL-17-223-1"  
class="td11">
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-224-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-224-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-225-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-225-1"  
class="td11">
 <!--l. 280--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-226-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-226-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-227-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-227-1"  
class="td11">                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-228-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-228-1"  
class="td11">
 <!--l. 284--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-229-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-229-1"  
class="td11">
 <!--l. 284--><p class="noindent" >                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-17-230-"><td  style="white-space:wrap; text-align:left;" id="TBL-17-230-1"  
class="td11">
 <!--l. 284--><p class="noindent" >                    </td>
</tr>
</table></div>
</div>
<a 
 id="x1-117003r258"></a>
<h3 class="sectionHead"><span class="titlemark">8.3.    </span> <a 
 id="x1-1180003"></a>Tutorial &#8211; ACOSSO</h3>
<!--l. 4--><p class="noindent" >This tutorial covers the ACOSSO surrogate modeling method. The Adaptive COmponent Selection and
Shrinkage Operator (ACOSSO) surface approximation was developed under the Smoothing Spline
                                                                                         
                                                                                         
Analysis of Variance (SS-ANOVA) modeling framework [<a 
href="#XStorlie_2011">3</a>]. As it is a smoothing type method,
ACOSSO works best when the underlying function is somewhat smooth. For functions which
are known to have sharp changes or peaks, etc., other methods may be more appropriate.
Since it implicitly performs variable selection, ACOSSO can also work well when there are a
large number of input variables. The ACOSSO procedure also allows for categorical inputs
[<a 
href="#XStorlie_2013">4</a>].
<!--l. 16--><p class="noindent" >This tutorial uses the same flowsheet and sample setup as the ALAMO tutorial in Section <a 
href="#x1-1100002">8.2<!--tex4ht:ref: sec.surrogate.alamo --></a>. The
statistics software &#8220;R&#8221; is also required to use ACOSSO and BSS-ANOVA. Before starting this tutorial,
you will need to install R version 3.1 or later (see <a 
href="http://cran.r-project.org/" ><span id="textcolor16">https://cran.r-project.org/</span></a>).
<!--l. 21--><p class="noindent" >Once R is installed, you will need to install the &#8220;quadprog&#8221; package. ACOSSO requires this
package for solving quadratic programming problems. You will only need to perform this step
once.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Start R. In Windows, this must be done with administrative privileges. Either run this from
      an administrator account, or right-click &#8220;R x64 3.1.2&#8221; and click &#8220;Run with administrator&#8221;
      and type in administrator credentials.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Inside the R console, type:
           <ul class="itemize1">
           <li class="itemize"><span 
class="pcrr7t-x-x-120">install.packages('quadprog')</span>
           </li>
           <li class="itemize"><span 
class="pcrr7t-x-x-120">library(quadprog)</span>
           </li>
           <li class="itemize"><span 
class="pcrr7t-x-x-120">q()</span></li></ul>
      <!--l. 36--><p class="noindent" >The first line installs the package. If prompted for a CRAN mirror, select the one closest to
      you geographically. The second line loads the package. The last line quits R. If prompted to
      save workspace image, choose &#8216;y&#8217;.</dd></dl>
<!--l. 42--><p class="noindent" >Once you have done these steps, ACOSSO is ready to be invoked inside FOQUS.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Set the path to the RScript executable.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Settings</span></span> button in the Home window.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Change the RScript path if necessary. The <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span> button opens a file browser that can
           be used to set the path.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Complete the ALAMO tutorial in Section <a 
href="#x1-1100002">8.2<!--tex4ht:ref: sec.surrogate.alamo --></a> through Step 32, or load the FOQUS session saved
      after completing the ALAMO tutorial.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Surrogates</span></span> button in the Home window (Figure <a 
href="#x1-118015r155">155<!--tex4ht:ref: fig.acosso.settings --></a>).
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select &#8220;ACOSSO&#8221; in the <span class="textul"><span 
class="ptmb7t-x-x-120">Tool</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Method Settings</span></span> tab.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Set &#8220;Data Filter&#8221; to &#8220;Initial.&#8221;
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Set &#8220;Use Flowsheet Data&#8221; to &#8220;Yes.&#8221;
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Set &#8220;FOQUS Model (for UQ)&#8221; to &#8220;ACOSSO_Tutorial_UQ.py.&#8221;
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Set &#8220;FOQUS Model (for Flowsheet)&#8221; to &#8220;ACOSSO_Tutorial_FS.py.&#8221;
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> icon (Figure <a 
href="#x1-118015r155">155<!--tex4ht:ref: fig.acosso.settings --></a>).</dd></dl>
<!--l. 62--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-118015r155"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 63--><p class="noindent" >
<!--l. 64--><p class="noindent" ><img 
src="Chapt_surrogates/figs/acosso_settings.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;155: </span><span  
class="content">ACOSSO Session Set Up</span></div><!--tex4ht:label?: x1-118015r155 -->
</div>
                                                                                         
                                                                                         
<!--l. 68--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">The execution window will automatically display. While ACOSSO is running, the execution
      window may show warnings, but this is normal.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">When the run completes, a UQ driver file is created, allowing the ACOSSO surrogate to be
      used as a user-defined response surface in UQ analyses. (See Section <a 
href="#x1-1210006">8.6<!--tex4ht:ref: tutorial.surrogate.uq --></a>.)
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">ACOSSO also produces a flowsheet plugin; however.</dd></dl>
<a 
 id="x1-118019r280"></a>
<h3 class="sectionHead"><span class="titlemark">8.4.    </span> <a 
 id="x1-1190004"></a>Tutorial &#8211; BSS-ANOVA</h3>
<!--l. 4--><p class="noindent" >This tutorial covers the BSS-ANOVA surrogate modeling method. The Bayesian Smoothing Spline
ANOVA (BSS-ANOVA) is essentially a Bayesian version of ACOSSO [<a 
href="#XReich_2009">5</a>]. It is Gaussian Process (GP)
model with a non-conventional covariance function that borrows its form from SS-ANOVA. It tackles the
high dimensionality (of inputs) on two fronts: (1) variable selection to eliminate uninformative variables
from the model and (2) restricting the level of interactions involved among the variables in the model.
This is done through a fully Bayesian approach which can also allow for categorical input variables with
relative ease. Since it is closely related to ACOSSO, it generally works well in similar settings as
ACOSSO. The BSS-ANOVA procedure also allows for categorical inputs [<a 
href="#XStorlie_2013">4</a>]. In this current
implementation, BSS-ANOVA is more computationally intensive than ACOSSO, so ACOSSO is preferred
for faster surrogate generation.
<!--l. 19--><p class="noindent" >This tutorial uses the same flowsheet and sample setup as the ALAMO tutorial in Section <a 
href="#x1-1100002">8.2<!--tex4ht:ref: sec.surrogate.alamo --></a>. The
statistics software &#8220;R&#8221; is also required to use ACOSSO and BSS-ANOVA. Before starting this tutorial,
you will need to install R version 3.1 or later (see <a 
href="https://cran.r-project.org/" ><span id="textcolor17">http://cran.r-project.org/</span></a>).
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Set the path to the RScript executable.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Settings</span></span> button from the Home window.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Change the RScript path if necessary. The <span class="textul"><span 
class="ptmb7t-x-x-120">Browse</span></span> button opens a file browser that can
           be used to set the path.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Complete the ALAMO tutorial in Section <a 
href="#x1-1100002">8.2<!--tex4ht:ref: sec.surrogate.alamo --></a> through Step 32, or load the FOQUS session saved
      after completing the ALAMO tutorial.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Surrogates</span></span> button from the Home window (Figure <a 
href="#x1-119013r156">156<!--tex4ht:ref: fig.bssanova.settings --></a>).
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Select &#8220;BSS-ANOVA&#8221; in the <span class="textul"><span 
class="ptmb7t-x-x-120">Tool</span></span> drop-down list.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Select the <span class="textul"><span 
class="ptmb7t-x-x-120">Method Settings</span></span> tab.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Set &#8220;Data Filter&#8221; to &#8220;Initial.&#8221;
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Set &#8220;Use Flowsheet Data&#8221; to &#8220;Yes.&#8221;
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Set &#8220;FOQUS Model (for UQ)&#8221; to &#8220;bssanova_tutorial_uq.py.&#8221;
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Set &#8220;FOQUS Model (for Flowsheet)&#8221; to &#8220;bssanova_tutorial_fs.py.&#8221;
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> icon (Figure <a 
href="#x1-119013r156">156<!--tex4ht:ref: fig.bssanova.settings --></a>).</dd></dl>
<!--l. 41--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-119013r156"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 42--><p class="noindent" >
<!--l. 43--><p class="noindent" ><img 
src="Chapt_surrogates/figs/bssanova_settings.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;156: </span><span  
class="content">BSS-ANOVA Session Set Up</span></div><!--tex4ht:label?: x1-119013r156 -->
</div>
                                                                                         
                                                                                         
<!--l. 47--><p class="noindent" ></div><hr class="endfigure">
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">The  execution  window  will  automatically  display.  While  BSS-ANOVA  is  running,  the
      execution window may show warnings, but this is normal.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">When the run completes, a UQ driver file is created, allowing the BSS-ANOVA surrogate to
      be used as a user-defined response surface in UQ analyses. (See Section <a 
href="#x1-1210006">8.6<!--tex4ht:ref: tutorial.surrogate.uq --></a>.)
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">BSS-ANOVA also produces a flowsheet plugin.</dd></dl>
<a 
 id="x1-119017r282"></a>
<h3 class="sectionHead"><span class="titlemark">8.5.    </span> <a 
 id="x1-1200005"></a>Tutorial &#8211; iREVEAL</h3>
<!--l. 2--><p class="noindent" >The iREVEAL documentation is currently separate, but will be merged in the next release. The iREVEAL
user&#8217;s manual is included in the FOQUS installation. There is a link to the manual in the Windows start
menu under CCSI Tools<span 
class="cmsy-10x-x-120">\</span>FOQUS.
<a 
 id="x1-120001r284"></a>
<h3 class="sectionHead"><span class="titlemark">8.6.    </span> <a 
 id="x1-1210006"></a>Tutorial &#8211; Surrogates with UQ Tools</h3>
<!--l. 4--><p class="noindent" >For the purpose of this tutorial, we will use ACOSSO to demonstrate the use of a surrogate within the UQ
module. The steps are the same regardless of the surrogate tool chosen.
<!--l. 8--><p class="noindent" >To perform the UQ analysis, Python is required for use the &#8220;User Regression&#8221; response surface that will
be used. Before starting this tutorial, you will need to install Python 2.7.x (not Python 3). (See
<a 
href="https://www.python.org/downloads/" ><span id="textcolor18">https://www.python.org/downloads/</span></a>). In addition, if *.py files have been re-associated with other
executables (e.g. editors), please change the association back to python.exe.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Load   a   fresh   session   by   clicking   the   <span class="textul"><span 
class="ptmb7t-x-x-120">Session</span></span>   button   from   the   Home   window.
      Select   <span class="underline"><span 
class="ptmb7t-x-x-120">Open   Session</span></span>   and   then   navigate   to   the   &#8220;examples/UQ&#8221;   directory.   Select
      &#8220;Rosenbrock_no_vectors.foqus.&#8221; This will load a session with a simple flowsheet containing
      a single node.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Settings</span></span> and ensure that (1) FOQUS Flowsheet Run Method is set to &#8220;Local&#8221;, and that
      (2) proper paths are set for PSUADE and RScript.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Train an ACOSSO surrogate of this node by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Surrogates</span></span> button from the Home
      window.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">Click  <span class="textul"><span 
class="ptmb7t-x-x-120">Add  Samples</span></span>  and  select  &#8220;Use  Flowsheet&#8221;.  This  will  display  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Simulation</span>
           <span 
class="ptmb7t-x-x-120">Ensemble Setup</span></span> dialog.
                                                                                         
                                                                                         
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Within this dialog, ensure all variables are set to &#8220;Variable&#8221; type in the <span class="textul"><span 
class="ptmb7t-x-x-120">Distributions</span></span>
           tab. In the <span class="textul"><span 
class="ptmb7t-x-x-120">Sampling scheme</span></span> tab, select &#8220;Monte Carlo&#8221; as your sampling scheme, set
           the number of samples to 100, and then click <span class="textul"><span 
class="ptmb7t-x-x-120">Generate Samples</span></span> to generate the set of
           input values. Click <span class="textul"><span 
class="ptmb7t-x-x-120">Done</span></span> to return to the Surrogates screen.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Once  sample  generation  completes,  click  the  <span class="textul"><span 
class="ptmb7t-x-x-120">Uncertainty</span></span>  button  from  the  Home
           window.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Launch</span></span> button to generate the samples.
           </dd><dt class="enumerate-enumitem">
       (e) </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Surrogates</span></span> button from the Home window. The <span class="textul"><span 
class="ptmb7t-x-x-120">Data</span></span> tab of the Surrogates
           screen should now displays a <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet Results</span></span> table that is populated with the values
           of the new input samples.
           </dd><dt class="enumerate-enumitem">
       (f) </dt><dd 
class="enumerate-enumitem">From the <span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab, select all of the checkboxes. (There should be six checkboxes
           for input variables and one checkbox for output variable.) Here, you are defining the
           inputs and outputs for your surrogate function.
           </dd><dt class="enumerate-enumitem">
       (g) </dt><dd 
class="enumerate-enumitem">From the <span class="textul"><span 
class="ptmb7t-x-x-120">Method Settings</span></span> tab, note the name of the file next to &#8220;FOQUS Model (for
           UQ)&#8221;. This will be the name of the UQ driver file that contains the Python code that
           implements the surrogate function.
           </dd><dt class="enumerate-enumitem">
       (h) </dt><dd 
class="enumerate-enumitem">On  top  of  this  screen,  select  &#8220;ACOSSO&#8221;  as  your  surrogate  tool  from  the  <span class="underline"><span 
class="ptmb7t-x-x-120">Tool</span></span>
           drop-down list and then click on the green arrow to start training the surrogate.
           </dd><dt class="enumerate-enumitem">
       (i) </dt><dd 
class="enumerate-enumitem">Once complete, a popup window will display, reminding you of the location of the drive
           file. Note the location as you will need this information later inside the UQ module.</dd></dl>
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Perform a response-surface-based uncertainty analysis by clicking the <span class="textul"><span 
class="ptmb7t-x-x-120">Uncertainty</span></span> button from the
      Home window.
           <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
       (a) </dt><dd 
class="enumerate-enumitem">In the <span class="textul"><span 
class="ptmb7t-x-x-120">Uncertainty Quantification Simulation Ensembles</span></span> table. A row corresponding
           to the ensemble that was just generated for surrogate training should be displayed. This
           same ensemble can be used or a new one can be created to be used as the test data
           set for analysis. In the row corresponding to the ensemble to be analyzed, click the
           <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> button to proceed. This action will bring up an analysis dialog.
           </dd><dt class="enumerate-enumitem">
       (b) </dt><dd 
class="enumerate-enumitem">Within this analysis dialog, navigate to &#8220;Analysis&#8221; section. For Step 1, select &#8220;Response
           Surface&#8221;. For Step 3, select &#8220;User Regression&#8221; in the first drop-down list. Lastly, for
           &#8220;User Regression File&#8221;, browse to the same location as the UQ driver file that was
           generated within the Surrogates module. (This is the same location that was previously
           noted from the popup message.) At this point, your surrogate function is now set up
                                                                                         
                                                                                         
           as  a  user-defined  response  surface  and  all  response-surface-based  UQ  analyses  are
           accessible.
           </dd><dt class="enumerate-enumitem">
       (c) </dt><dd 
class="enumerate-enumitem">Click <span class="textul"><span 
class="ptmb7t-x-x-120">Validate</span></span> (Step 4) to perform response surface validation. Once complete, a figure
           with cross-validation results will be displayed: a histogram of errors to the left and a
           plot of predicted values versus actual values to the right. For more information, refer to
           the UQ Tutorial in Section <a 
href="#x1-600004">4.2.4<!--tex4ht:ref: tutorial.uq.rs --></a>.
           </dd><dt class="enumerate-enumitem">
       (d) </dt><dd 
class="enumerate-enumitem">Once a &#8220;Response Surface&#8221; has been validated, other UQ analysis options are available.
           Choose &#8220;Uncertainty Analysis&#8221; in Step 5 and click <span class="textul"><span 
class="ptmb7t-x-x-120">Analyze</span></span> to perform uncertainty
           analysis using your ACOSSO surrogate.</dd></dl>
      </dd></dl>
<!--l. 73--><p class="noindent" >During validation, if the error, &#8220;RSAnalyzer: RSTest_hs.m does not exist.&#8221; displays, this is likely caused
by incompatibility with the surrogate and the test data. An example scenario might be your test data has
six inputs, but your surrogate assumes five inputs. This is easily fixed by returning to the Surrogates
screen, clicking on the <span class="textul"><span 
class="ptmb7t-x-x-120">Variables</span></span> tab, and making sure the appropriate selections are made (i.e., check off
six inputs instead of just five).
<a 
 id="x1-121018r285"></a>
<h3 class="sectionHead"><span class="titlemark">8.7.    </span> <a 
 id="x1-1220007"></a>Tutorial &#8211; Surrogates with the Flowsheet</h3>
<!--l. 3--><p class="noindent" >This section provides a brief tutorial for using the flowsheet plugin models generated by surrogate
modeling methods. In the next FOQUS release all surrogate modeling methods will produce a model
that can be run in a FOQUS flowsheet. <span 
class="ptmb7t-x-x-120">Currently iREVEAL does not produce a flowsheet</span>
<span 
class="ptmb7t-x-x-120">model.</span>
<!--l. 5--><p class="noindent" ><span 
class="ptmb7t-x-x-120">Before doing this tutorial complete the ALAMO tutorial in Section </span><a 
href="#x1-1100002"><span 
class="ptmb7t-x-x-120">8.2</span><!--tex4ht:ref: sec.surrogate.alamo --></a><span 
class="ptmb7t-x-x-120">.</span>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open FOQUS. If FOQUS has not been closed since completing the ALAMO tutorial, close
      it and reopen it. There is a known issue where existing flowsheet model plugins may not
      update until FOQUS is restarted.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">Enter &#8220;FS_Plugin_Tutorial&#8221; as the Session Name.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Flowsheet</span></span> button from the Home window.
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Add Node</span></span> icon in the left toolbar (see Figure <a 
href="#x1-122015r157">157<!--tex4ht:ref: fig.pg.tut1 --></a>).
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Click a location for the node in the Flowsheet area.
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Enter &#8220;model&#8221; for the node name (without quotes).
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Node Editor</span></span> icon in the left toolbar (see Figure <a 
href="#x1-122015r157">157<!--tex4ht:ref: fig.pg.tut1 --></a>).
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">In the <span class="underline"><span 
class="ptmb7t-x-x-120">Node Editor</span></span>, select &#8220;Plugin&#8221; from the Model <span class="underline"><span 
class="ptmb7t-x-x-120">Type</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">Select &#8220;ALAMO_Tutorial_FS&#8221; from the <span class="underline"><span 
class="ptmb7t-x-x-120">Model</span></span> drop-down list.
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Set the <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span> of the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> &#8220;eq.x1&#8221; to 2.
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">Set the <span class="underline"><span 
class="ptmb7t-x-x-120">Value</span></span> of the <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variables</span></span> &#8220;eq.x2&#8221; to 3.
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Click the <span class="textul"><span 
class="ptmb7t-x-x-120">Run</span></span> icon in the left toolbar (see Figure <a 
href="#x1-122015r157">157<!--tex4ht:ref: fig.pg.tut1 --></a>).
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">Wait for the Flowsheet evaluation to complete. It should finish successfully.
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Check the value of the <span class="underline"><span 
class="ptmb7t-x-x-120">Output Variables</span></span>; the approximate values should be z1 = 5 and z2
      = 13.</dd></dl>
<!--l. 24--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-122015r157"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 25--><p class="noindent" >
<!--l. 26--><p class="noindent" ><img 
src="Chapt_surrogates/figs/fs_plugin.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;157: </span><span  
class="content">Plugin Flowsheet</span></div><!--tex4ht:label?: x1-122015r157 -->
</div>
                                                                                         
                                                                                         
<!--l. 30--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;9</span><br /><a 
 id="x1-1230009"></a>SimSinter</h2>
<a 
 id="x1-123001r286"></a>
<h3 class="sectionHead"><span class="titlemark">9.1.    </span> <a 
 id="x1-1240001"></a>SimSinter Configuration</h3>
<!--l. 3--><p class="noindent" >SimSinter is the standard interface library that FOQUS and Turbine use to drive the target simulation
software. SimSinter currently supports AspenPlus, Aspen Custom Modeler (ACM), gPROMS, and
Microsoft Excel. SimSinter is used to: (1) open the simulator, (2) initialize the simulation, (3) set
variables in the simulation, (4) run the simulation, and (5) get resulting output variables from the
simulation.
<!--l. 7--><p class="noindent" >To drive a particular simulation, SimSinter must be told which input variables to set and which output
variables to read when the simulation is finished (there are generally far too many variables in a simulation
to set and read them all). Each simulation must have a &#8220;Sinter Config File&#8221; which records this
information. FOQUS keeps the simulation file and the &#8220;Sinter Config File&#8221; together and sends them to the
Turbine gateway when a simulation run is requested.
<!--l. 9--><p class="noindent" >The configuration is simplified by a GUI included with the SimSinter distribution called, &#8220;SinterConfigGUI.&#8221;
FOQUS can launch the SinterConfigGUI on simulations that have not been configured. To run the
&#8220;SinterConfigGUI&#8221; the user must have:
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">SimSinter distribution installed. SimSinter is installed by the FOQUS bundle installer.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The simulation file the user wants to configure. For example, if the user has an Aspen Custom
      Modeler simulation called BFB.acmf, that file must be on the user&#8217;s computer, and the user
      should know its location.
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The  application  used  to  execute  the  simulation  file.  For  example,  if  the  user  wants  to
      configure an Aspen Custom Modeler simulation called BFB.acmf, Aspen Custom Modeler
      must be installed on the user&#8217;s machine.</dd></dl>
<!--l. 16--><p class="noindent" >The rest of this section details two step-by-step tutorials on configuring a simulation with
&#8220;SinterConfigGUI.&#8221; The first simulation is an Aspen Custom Modeler simulation and the second, Aspen
Plus. Please also see the D-RM Builder tutorials for configuring dynamic ACM models. For
more details on SimSinter or a tutorial on how to configure a Microsoft Excel file, please
see the &#8220;SimSinter Technical Manual,&#8221; which is included in the FOQUS distribution. The
default location is at C:<span 
class="cmsy-10x-x-120">\</span>Program Files (x86)<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>foqus<span 
class="cmsy-10x-x-120">\</span>doc. It is also available on the CCSI
website.
<a 
 id="x1-124004r289"></a>
<h3 class="sectionHead"><span class="titlemark">9.2.    </span> <a 
 id="x1-1250002"></a>Aspen Custom Modeler Configuration</h3>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The &#8220;SinterConfigGUI&#8221; can be launched from FOQUS, via the <span class="underline"><span 
class="ptmb7t-x-x-120">Create/Edit</span></span> button found
      in <span class="underline"><span 
class="ptmb7t-x-x-120">File</span></span><span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">Add/Update Model to Turbine</span></span> or &#8220;SinterConfigGUI&#8221; may be run on its own by
                                                                                         
                                                                                         
      selecting <span class="underline"><span 
class="ptmb7t-x-x-120">SimSinter</span></span> <span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">SinterConfigGUI</span></span> from the Start menu.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The splash window displays, as shown in Figure <a 
href="#x1-125003r158">158<!--tex4ht:ref: fig.sinter.acm.splash --></a>. The user may click the splash screen to
      proceed, or wait ten seconds for it to close automatically. <hr class="figure"><div class="figure" 
><a 
 id="x1-125003r158"></a>
<div class="center" 
>
<!--l. 13--><p class="noindent" >
<!--l. 14--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/01_Splash_Screen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;158: </span><span  
class="content">SinterConfigGUI Splash Screen</span></div><!--tex4ht:label?: x1-125003r158 -->
</div>
      <!--l. 18--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The SinterConfigGUI Open Simulation window displays (Figure <a 
href="#x1-125005r159">159<!--tex4ht:ref: fig.sinter.acm.openpage --></a>). If &#8220;SinterConfigGUI&#8221; was
      opened from FOQUS, the filename text box already contains the correct file. To proceed
      immediately click <span class="underline"><span 
class="ptmb7t-x-x-120">Open File and Configure Variables</span></span> or click <span class="underline"><span 
class="ptmb7t-x-x-120">Browse</span></span> to search for the file. For
      this tutorial, the ACM model for bubbling fluidized bed adsorber installed in the FOQUS
      examples<span 
class="cmsy-10x-x-120">\</span>OUU<span 
class="cmsy-10x-x-120">\</span>BFB_Cap folder is selected (BFB_OUU_COE.acmf). Once the file is selected,
      click <span class="underline"><span 
class="ptmb7t-x-x-120">Open File and Configure Variables</span></span>. The user can open a fresh ACM simulation
      (.acmf file) or an existing SimSinter configuration file. For this example, open a fresh
      simulation.<br 
class="newline" />
      <!--l. 23--><p class="noindent" >Note: Opening the simulation may take a few minutes depending on how quickly Aspen Custom
      Modeler can be opened. <hr class="figure"><div class="figure" 
><a 
 id="x1-125005r159"></a>
<div class="center" 
>
<!--l. 25--><p class="noindent" >
<!--l. 26--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/02_FileOpenScreen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;159: </span><span  
class="content">SinterConfigGUI Open Simulation Window</span></div><!--tex4ht:label?: x1-125005r159 -->
</div>
      <!--l. 30--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Aspen Custom Modeler starts in the background. This is so the user can observe things about the
      simulation while working on the configuration file.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">The SinterConfigGUI Simulation Meta-Data window displays. (Figure <a 
href="#x1-125008r160">160<!--tex4ht:ref: fig.sinter.acm.savename --></a>). The first and most
      important piece of metadata is <span class="underline"><span 
class="ptmb7t-x-x-120">SimSinter Save Location</span></span> at the top of the window. This is where the
      sinter configuration file is saved. The system attempts to locate a reasonable file location and file
      name; however, the user must confirm the correct file location, since it automatically overwrites
      whatever file name currently exists. <hr class="figure"><div class="figure" 
><a 
 id="x1-125008r160"></a>
<div class="center" 
>
                                                                                         
                                                                                         
<!--l. 40--><p class="noindent" >
<!--l. 41--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/03_MetaDataSave.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;160: </span><span  
class="content">SinterConfigGUI Simulation Meta-Data Page Save Name Text Box</span></div><!--tex4ht:label?: x1-125008r160 -->
</div>
      <!--l. 45--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Continue to complete the remaining fields and then click <span class="underline"><span 
class="ptmb7t-x-x-120">Next</span></span> (Figure <a 
href="#x1-125010r161">161<!--tex4ht:ref: fig.sinter.acm.metadata --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-125010r161"></a>
<div class="center" 
>
<!--l. 50--><p class="noindent" >
<!--l. 51--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/04_MetaDataFilled.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;161: </span><span  
class="content">SinterConfigGUI Simulation Meta-Data Page with Data Completed</span></div><!--tex4ht:label?: x1-125010r161 -->
</div>
      <!--l. 55--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">In the <span class="underline"><span 
class="ptmb7t-x-x-120">SinterConfigGUI Variable Configuration Page</span></span>, (Figure <a 
href="#x1-125012r162">162<!--tex4ht:ref: fig.sinter.acm.variableempty --></a>) notice that the ACM <span class="underline"><span 
class="ptmb7t-x-x-120">Selected</span>
      <span 
class="ptmb7t-x-x-120">Input Variables</span></span>: <span class="underline"><span 
class="ptmb7t-x-x-120">TimeSeries</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">Snapshot</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">RunMode</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">printlevel</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">homotopy</span></span> are already
      included in the input variables. <span class="underline"><span 
class="ptmb7t-x-x-120">TimeSeries</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Snapshot</span></span> are for dynamic simulations. <span class="underline"><span 
class="ptmb7t-x-x-120">RunMode</span></span>
      can be either &#8220;Steady State&#8221; or &#8220;Dynamic&#8221;. The Dynamic mode requires a dynamic ACM model.
      For this simulation, the RunMode is Steady State. The <span class="underline"><span 
class="ptmb7t-x-x-120">homotopy</span></span> variable can be set
      to &#8220;1&#8221; so that homotopy is on by default. Notice that the <span class="underline"><span 
class="ptmb7t-x-x-120">Dynamic</span></span> column (the first
      column) in each row contains a checkbox, enabling the user to select if the input variable
      in the row is a dynamic variable. Also notice that a <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Type</span></span> search box is on
      the left. This search is exactly the same as Variable Find on the Tools menu in Aspen
      Custom Modeler. Please refer to the ACM documentation for details on search patterns.
      <hr class="figure"><div class="figure" 
><a 
 id="x1-125012r162"></a>
<div class="center" 
>
<!--l. 59--><p class="noindent" >
<!--l. 60--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/05_VariablesEmpty.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;162: </span><span  
class="content">SinterConfigGUI Variable Configuration Page before Input</span></div><!--tex4ht:label?: x1-125012r162 -->
</div>
      <!--l. 64--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">A search for everything in the &#8220;BFBAdsT&#8221; block has been selected. The following <span class="underline"><span 
class="ptmb7t-x-x-120">Search</span>
      <span 
class="ptmb7t-x-x-120">in Progress</span></span> dialog is displayed (Figure <a 
href="#x1-125014r163">163<!--tex4ht:ref: fig.sinter.acm.variableprogress --></a>). Sometimes large searches take a while.
      <hr class="figure"><div class="figure" 
><a 
 id="x1-125014r163"></a>
<div class="center" 
>
                                                                                         
                                                                                         
<!--l. 70--><p class="noindent" >
<!--l. 71--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/06_Search.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;163: </span><span  
class="content">Search in Progress Bar Page</span></div><!--tex4ht:label?: x1-125014r163 -->
</div>
      <!--l. 75--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">First, select the &#8220;BFBadsT.A1&#8221; scalar variable in the <span class="underline"><span 
class="ptmb7t-x-x-120">Selected Path</span></span> field (Figure <a 
href="#x1-125016r164">164<!--tex4ht:ref: fig.sinter.acm.variableselected --></a>).
      <hr class="figure"><div class="figure" 
><a 
 id="x1-125016r164"></a>
<div class="center" 
>
<!--l. 79--><p class="noindent" >
<!--l. 80--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/07_VariablesSelected.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;164: </span><span  
class="content">SinterConfigGUI Variable Configuration Page BFBadsT.A1 Selected</span></div><!--tex4ht:label?: x1-125016r164 -->
</div>
      <!--l. 84--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">If the user double-clicks, presses Enter, or clicks <span class="underline"><span 
class="ptmb7t-x-x-120">Preview</span></span> or <span class="underline"><span 
class="ptmb7t-x-x-120">Lookup</span></span>, information displays in the
      <span class="underline"><span 
class="ptmb7t-x-x-120">Preview Variable</span></span> section (Figure <a 
href="#x1-125018r165">165<!--tex4ht:ref: fig.sinter.acm.variablepreview --></a>). Here, the user can verify the variable choices.
      <hr class="figure"><div class="figure" 
><a 
 id="x1-125018r165"></a>
<div class="center" 
>
<!--l. 89--><p class="noindent" >
<!--l. 90--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/08_VariablePreview.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;165: </span><span  
class="content">SinterConfigGUI Variable Configuration Page BFBadsT.A1 Preview</span></div><!--tex4ht:label?: x1-125018r165 -->
</div>
      <!--l. 94--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">&#8220;BFBadsT.A1&#8221; is the correct variable; therefore, click <span class="underline"><span 
class="ptmb7t-x-x-120">Make Input</span></span>. Information displays in the
      <span class="underline"><span 
class="ptmb7t-x-x-120">Selected Input Variables</span></span> section (Figure <a 
href="#x1-125020r166">166<!--tex4ht:ref: fig.sinter.acm.variableinput --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-125020r166"></a>
<div class="center" 
>
<!--l. 98--><p class="noindent" >
<!--l. 99--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/09_VariablesInput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;166: </span><span  
class="content">SinterConfigGUI Variable Configuration Page BFBadsT.A1 Made Input</span></div><!--tex4ht:label?: x1-125020r166 -->
</div>
      <!--l. 103--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">Change the variable name from &#8220;BFBadsT.A1&#8221; to something more descriptive (e.g., &#8220;WaterA&#8221;). Set
      <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">Description</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span> as shown in Figure <a 
href="#x1-125022r167">167<!--tex4ht:ref: fig.sinter.acm.variablename --></a>. <hr class="figure"><div class="figure" 
><a 
 id="x1-125022r167"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 107--><p class="noindent" >
<!--l. 108--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/10_VariablesInput2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;167: </span><span  
class="content">SinterConfigGUI Variable Configuration Page BFBadsT.A1 Change Name</span></div><!--tex4ht:label?: x1-125022r167 -->
</div>
      <!--l. 112--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">One input variable is now displayed (Figure <a 
href="#x1-125024r168">168<!--tex4ht:ref: fig.sinter.acm.vectorpreview --></a>). At least one output variable is required. In this
      example, the vector of calculated bubble sizes is wanted. Scroll down under <span class="underline"><span 
class="ptmb7t-x-x-120">Search</span></span> and select
      &#8220;BFBadsT.db.Value,&#8221; &#8220;BFBadsT.db.Value(0),&#8221; &#8220;BFBadsT.db.Value(1),&#8221; etc. If a name with a
      number in parenthesis at the end is selected, it is a specific entry in the vector. If a basic name is
      selected (&#8220;BFBadsT.db.Value&#8221;), the entire vector is displayed. Select the whole vector and click
      <span class="underline"><span 
class="ptmb7t-x-x-120">Preview</span></span>. <hr class="figure"><div class="figure" 
><a 
 id="x1-125024r168"></a>
<div class="center" 
>
<!--l. 121--><p class="noindent" >
<!--l. 122--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/11_VariablesArray1.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;168: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Vector Preview</span></div><!--tex4ht:label?: x1-125024r168 -->
</div>
      <!--l. 126--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">Make Output</span></span> if the variable the user wants is selected. Notice that this variable has a unit
      &#8220;m&#8221; (Figure <a 
href="#x1-125026r169">169<!--tex4ht:ref: fig.sinter.acm.vectoroutput --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-125026r169"></a>
<div class="center" 
>
<!--l. 130--><p class="noindent" >
<!--l. 131--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/12_VariablesOutput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;169: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Vector As Output</span></div><!--tex4ht:label?: x1-125026r169 -->
</div>
      <!--l. 135--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  15. </dt><dd 
class="enumerate-enumitem">Change the <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> of the variable to &#8220;Diameter.&#8221; Bubble size is measured in meters; however, meters
      should be converted to millimeters (mm). Now, the output from the simulation should present
      bubble diameter in mm (Figure <a 
href="#x1-125028r170">170<!--tex4ht:ref: fig.sinter.acm.vectorunits --></a>). Internal to the simulation, the unit remains &#8220;m.&#8221;
      <hr class="figure"><div class="figure" 
><a 
 id="x1-125028r170"></a>
<div class="center" 
>
<!--l. 139--><p class="noindent" >
<!--l. 140--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/13_VariablesUnits.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;170: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Output Change Units</span></div><!--tex4ht:label?: x1-125028r170 -->
</div>
                                                                                         
                                                                                         
      <!--l. 144--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  16. </dt><dd 
class="enumerate-enumitem">To add a single item in a vector, select &#8220;BFBadsT.Ar.Value(1)&#8221; and click <span class="underline"><span 
class="ptmb7t-x-x-120">Make Input</span></span> (See
      Figure <a 
href="#x1-125030r171">171<!--tex4ht:ref: fig.sinter.acm.vectorremoval --></a>). To remove item that was just added, select it and click <span class="underline"><span 
class="ptmb7t-x-x-120">Remove Variable</span></span>.
      <hr class="figure"><div class="figure" 
><a 
 id="x1-125030r171"></a>
<div class="center" 
>
<!--l. 150--><p class="noindent" >
<!--l. 151--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/14_VariablesInput2.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;171: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Removal Demo</span></div><!--tex4ht:label?: x1-125030r171 -->
</div>
      <!--l. 155--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  17. </dt><dd 
class="enumerate-enumitem">Select the correct variable vector &#8220;BFBadsT.Ar.Value&#8221; and make it an input (Figure <a 
href="#x1-125032r172">172<!--tex4ht:ref: fig.sinter.acm.vectorreadd --></a>). Notice
      that a <span class="underline"><span 
class="ptmb7t-x-x-120">Default</span></span> or <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span> cannot be set in the GUI for a vector. The correct defaults (from the
      simulation) are set automatically. To change the <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span> values, the user must edit the JSON file
      in a text editor. <hr class="figure"><div class="figure" 
><a 
 id="x1-125032r172"></a>
<div class="center" 
>
<!--l. 159--><p class="noindent" >
<!--l. 160--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/15_VariablesInput4.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;172: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Read Input</span></div><!--tex4ht:label?: x1-125032r172 -->
</div>
      <!--l. 164--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  18. </dt><dd 
class="enumerate-enumitem">Click <span class="underline"><span 
class="ptmb7t-x-x-120">Next</span></span> to display the SinterConfigGUI Vector Default Initialization window as shown in Figure
      <a 
href="#x1-125034r173">173<!--tex4ht:ref: fig.sinter.acm.vectorinput --></a>. Since the input variable &#8220;Value&#8221; is a vector, its default values can be modified in the window.
      In this case there is no need to change the values. <hr class="figure"><div class="figure" 
><a 
 id="x1-125034r173"></a>
<div class="center" 
>
<!--l. 172--><p class="noindent" >
<!--l. 173--><p class="noindent" ><img 
src="Chapt_sinter/figs/acm/16_VectorInput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;173: </span><span  
class="content">SinterConfigGUI Vector Default Initialization Input Page</span></div><!--tex4ht:label?: x1-125034r173 -->
</div>
      <!--l. 177--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  19. </dt><dd 
class="enumerate-enumitem">The simulation is now setup. Save the configuration file by clicking <span class="underline"><span 
class="ptmb7t-x-x-120">Finish</span></span>. The file is saved to the
      location specified on the SinterConfigGUI Simulation Meta-Data page. Clicking <span class="underline"><span 
class="ptmb7t-x-x-120">Finish</span></span> will close
      the SinterConfigGUI, but NOT Aspen Custom Modeler. The user must close ACM
      manually.
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
  20. </dt><dd 
class="enumerate-enumitem">If &#8220;SinterConfigGUI&#8221; was launched from FOQUS, the path to the configuration file is automatically
      passed to FOQUS. The next step in FOQUS is to click <span class="underline"><span 
class="ptmb7t-x-x-120">OK</span></span> in the Add/Update Turbine Model
      window. FOQUS may then be used to upload it to the Turbine gateway. If &#8220;SinterConfigGUI&#8221; was
      not launched from FOQUS (e.g., it was launched from the Start menu), the configuration file name
      must be entered in FOQUS manually.</dd></dl>
<a 
 id="x1-125037r290"></a>
<h3 class="sectionHead"><span class="titlemark">9.3.    </span> <a 
 id="x1-1260003"></a>Aspen Plus Configuration</h3>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The initial steps for opening a simulation and entering metadata for an Aspen Plus simulation are
      similar to ACM. Refer to the SimSinter ACM tutorial <a 
href="#x1-1250002">9.2<!--tex4ht:ref: sec.tut.simsinter.acm --></a>. In this tutorial, a flash model
      &#8220;Flash_Example.bkp&#8221; installed in the &#8220;C:<span 
class="cmsy-10x-x-120">\</span>SimSinterFiles<span 
class="cmsy-10x-x-120">\</span>Aspen_Plus_Install_Test&#8221; is used as
      an example. Open the Aspen Plus file and enter the metadata as shown in Figure <a 
href="#x1-126002r174">174<!--tex4ht:ref: fig.sinter.ap.metadata --></a>.
      <hr class="figure"><div class="figure" 
><a 
 id="x1-126002r174"></a>
<div class="center" 
>
<!--l. 6--><p class="noindent" >
<!--l. 7--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/04_MetaDataFilled.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;174: </span><span  
class="content">SinterConfigGUI Simulation Meta-Data with Data Completed</span></div><!--tex4ht:label?: x1-126002r174 -->
</div>
      <!--l. 11--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The <span class="underline"><span 
class="ptmb7t-x-x-120">SinterConfigGUI Variable Configuration Page</span></span> displays as illustrated in Figure <a 
href="#x1-126004r175">175<!--tex4ht:ref: fig.sinter.ap.variableempty --></a>. Aspen
      Plus has no settings, so there are no setting variables in the input section. Unlike ACM, AspenPlus
      displays the <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span> on the left side, so the user can explore the tree as is done
      in Aspen Plus Tools <span 
class="cmsy-10x-x-120">&#x2192; </span>Variable Explorer. Unfortunately, searching is not possible.
      <hr class="figure"><div class="figure" 
><a 
 id="x1-126004r175"></a>
<div class="center" 
>
<!--l. 18--><p class="noindent" >
<!--l. 19--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/05_VariablesEmpty.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;175: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Empty Variables</span></div><!--tex4ht:label?: x1-126004r175 -->
</div>
      <!--l. 23--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem"><span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span> nodes can be expanded for searching (Figure <a 
href="#x1-126006r176">176<!--tex4ht:ref: fig.sinter.ap.expandtree --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-126006r176"></a>
<div class="center" 
>
<!--l. 27--><p class="noindent" >
                                                                                         
                                                                                         
<!--l. 28--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/06_VariablesExpanded.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;176: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Expanded Aspen Plus Variable Tree</span></div><!--tex4ht:label?: x1-126006r176 -->
</div>
      <!--l. 32--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">The user can type the node address directly into the <span class="underline"><span 
class="ptmb7t-x-x-120">Selected Path</span></span> field (this is useful for copy/paste
      from Aspen Plus&#8217; Variable Explorer) (Figure <a 
href="#x1-126008r177">177<!--tex4ht:ref: fig.sinter.ap.selectvar --></a>). Click <span class="underline"><span 
class="ptmb7t-x-x-120">Lookup</span></span> or <span class="underline"><span 
class="ptmb7t-x-x-120">Preview</span></span> (which
      automatically causes the tree to expand and selects selected variables in the <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span>).
      <hr class="figure"><div class="figure" 
><a 
 id="x1-126008r177"></a>
<div class="center" 
>
<!--l. 36--><p class="noindent" >
<!--l. 37--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/07_VariablesSelected.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;177: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Aspen Plus Variable Selected</span></div><!--tex4ht:label?: x1-126008r177 -->
</div>
      <!--l. 41--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">To make the temperature of the Flash chamber an <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variable</span></span>, click <span class="underline"><span 
class="ptmb7t-x-x-120">Make Input</span></span>. Additionally,
      the user can <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> the variable, fix the <span class="underline"><span 
class="ptmb7t-x-x-120">Description</span></span>, and enter the <span class="underline"><span 
class="ptmb7t-x-x-120">Min/Max</span></span> fields by clicking on
      the appropriate text and entering it. <hr class="figure"><div class="figure" 
><a 
 id="x1-126010r178"></a>
<div class="center" 
>
<!--l. 45--><p class="noindent" >
<!--l. 46--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/08_VariablesInput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;178: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Input Variable</span></div><!--tex4ht:label?: x1-126010r178 -->
</div>
      <!--l. 50--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Select an <span class="underline"><span 
class="ptmb7t-x-x-120">Output Variable</span></span>, <span class="underline"><span 
class="ptmb7t-x-x-120">Preview</span></span> it, and click <span class="underline"><span 
class="ptmb7t-x-x-120">Make Output</span></span>. Next, update the fields as with the
      <span class="underline"><span 
class="ptmb7t-x-x-120">Input Variable</span></span> to give a better <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Description</span></span>. <hr class="figure"><div class="figure" 
><a 
 id="x1-126012r179"></a>
<div class="center" 
>
<!--l. 54--><p class="noindent" >
<!--l. 55--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/09_VariablesOutput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;179: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Output Variable</span></div><!--tex4ht:label?: x1-126012r179 -->
</div>
      <!--l. 59--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">The task is complete. Save it by clicking <span class="underline"><span 
class="ptmb7t-x-x-120">Save</span></span> or CTRL+S. The file is saved to the location specified
                                                                                         
                                                                                         
      in the SinterConfigGUI Simulation Meta-Data page. If the user wishes to save a copy under a
      different name, navigate back to the SinterConfigGUI Simulation Meta-Data page and change the
      name.</dd></dl>
<a 
 id="x1-126014r307"></a>
<h3 class="sectionHead"><span class="titlemark">9.4.    </span> <a 
 id="x1-1270004"></a>Microsoft Excel Configuration</h3>
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The &#8220;SinterConfigGUI&#8221; can be launched from FOQUS, via the <span class="underline"><span 
class="ptmb7t-x-x-120">Create/Edit</span></span> button found
      in <span class="underline"><span 
class="ptmb7t-x-x-120">File</span></span><span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">Add/Update Model to Turbine</span></span> or &#8220;SinterConfigGUI&#8221; may be run on its own by
      selecting <span class="underline"><span 
class="ptmb7t-x-x-120">CCSI Tools</span></span> <span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">FOQUS</span></span> <span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">SinterConfigGUI</span></span> from the Start menu.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The splash window displays, as shown in Figure <a 
href="#x1-125003r158">158<!--tex4ht:ref: fig.sinter.acm.splash --></a>. The user may click the splash screen to
      proceed, or wait 10 seconds for it to close automatically. <hr class="figure"><div class="figure" 
><a 
 id="x1-127003r180"></a>
<div class="center" 
>
<!--l. 16--><p class="noindent" >
<!--l. 17--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/01_Splash_Screen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;180: </span><span  
class="content">SinterConfigGUI Splash Screen</span></div><!--tex4ht:label?: x1-127003r180 -->
</div>
      <!--l. 21--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The SinterConfigGUI Open Simulation window displays (Figure <a 
href="#x1-125005r159">159<!--tex4ht:ref: fig.sinter.acm.openpage --></a>). If &#8220;SinterConfigGUI&#8221;
      was opened from FOQUS, the filename text box already contains the correct file. To
      proceed immediately click <span class="underline"><span 
class="ptmb7t-x-x-120">Open File and Configure Variables</span></span> or click <span class="underline"><span 
class="ptmb7t-x-x-120">Browse</span></span> to search
      for the file. For this tutorial, a fresh copy of the BMI test is opened. It can be found
      at:
      <!--l. 30--><p class="noindent" >C:<span 
class="cmsy-10x-x-120">\</span>SimSinterFiles<span 
class="cmsy-10x-x-120">\</span>Excel_Install_Test<span 
class="cmsy-10x-x-120">\</span>exceltest.xlsm.
      <!--l. 33--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-127005r181"></a>
<div class="center" 
>
<!--l. 34--><p class="noindent" >
<!--l. 35--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/02_FileOpenScreen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;181: </span><span  
class="content">SinterConfigGUI Open Simulation Screen</span></div><!--tex4ht:label?: x1-127005r181 -->
</div>
      <!--l. 39--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">Microsoft Excel starts in the background. This is so the user can observe things about the worksheet
      while working on the configuration file.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">In the &#8220;SinterConfigGUI&#8221; the SinterConfigGUI Simulation Meta-Data page is now displayed
                                                                                         
                                                                                         
      (Figure <a 
href="#x1-127008r182">182<!--tex4ht:ref: fig.sinter.excel.savename --></a>). The first and most important piece of metadata is <span class="underline"><span 
class="ptmb7t-x-x-120">Save Location</span></span> at the top of
      the window. This is where the sinter configuration file is saved. The system attempts
      to locate a reasonable file location and file name; however, the user must confirm the
      correct file location, since it automatically overwrites whatever filename currently exists.
      <hr class="figure"><div class="figure" 
><a 
 id="x1-127008r182"></a>
<div class="center" 
>
<!--l. 49--><p class="noindent" >
<!--l. 50--><p class="noindent" ><img 
src="Chapt_sinter/figs/Excel/04_MetaDataSave.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;182: </span><span  
class="content">SinterConfigGUI Simulation Meta-Data Save Text Box</span></div><!--tex4ht:label?: x1-127008r182 -->
</div>
      <!--l. 54--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">Continue to complete in the remaining fields and click <span class="underline"><span 
class="ptmb7t-x-x-120">Next</span></span>.
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">In the SinterConfigGUI Variable Configuration Page, (Figure <a 
href="#x1-127011r183">183<!--tex4ht:ref: fig.sinter.excel.variableempty --></a>) notice that the Excel setting
      variable <span class="underline"><span 
class="ptmb7t-x-x-120">macro</span></span> is already included in the <span class="underline"><span 
class="ptmb7t-x-x-120">Selected Input Variables.</span></span> If the Excel spreadsheet has a
      macro that should be run after SimSinter sets the inputs, but before SimSinter gets the outputs,
      enter the macros name in the <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> text box. If the default is left blank, no macro is
      run (unless a name is supplied in the input variables when running the simulation).
      <hr class="figure"><div class="figure" 
><a 
 id="x1-127011r183"></a>
<div class="center" 
>
<!--l. 64--><p class="noindent" >
<!--l. 65--><p class="noindent" ><img 
src="Chapt_sinter/figs/Excel/06_VariablesEmpty.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;183: </span><span  
class="content">SinterConfigGUI Variable Configuration Page before Input</span></div><!--tex4ht:label?: x1-127011r183 -->
</div>
      <!--l. 69--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">The Excel simulation has the same <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span> structure as Aspen Plus, as shown in
      (Figure <a 
href="#x1-127013r184">184<!--tex4ht:ref: fig.sinter.excel.variableselected --></a>). Only the variables in the active section of the Excel spreadsheet appear in
      the <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span>. If, for some reason, a cell does not appear the in tree, the user may
      manually enter the cell into the <span class="underline"><span 
class="ptmb7t-x-x-120">Selected Path</span></span> text box. In this case, select the &#8220;height<span 
class="ptmr8c-x-x-120">$</span>C<span 
class="ptmr8c-x-x-120">$</span>4&#8221;
      variable.
      <!--l. 78--><p class="noindent" >Note: Row is first in the <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span>, yet column is first in the <span class="underline"><span 
class="ptmb7t-x-x-120">Path</span></span>.
      <!--l. 80--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-127013r184"></a>
<div class="center" 
>
<!--l. 81--><p class="noindent" >
<!--l. 82--><p class="noindent" ><img 
src="Chapt_sinter/figs/Excel/07_VariablesSelected.png" alt="pict"  
>
                                                                                         
                                                                                         
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;184: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Selecting a Variable from the Excel
Variable Tree</span></div><!--tex4ht:label?: x1-127013r184 -->
</div>
      <!--l. 86--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">If the user double-clicks, presses enter, clicks <span class="underline"><span 
class="ptmb7t-x-x-120">Preview</span></span>, or clicks <span class="underline"><span 
class="ptmb7t-x-x-120">Lookup</span></span>, the variable will be
      displayed in the <span class="underline"><span 
class="ptmb7t-x-x-120">Preview Variable</span></span> frame. Click the <span class="underline"><span 
class="ptmb7t-x-x-120">Make Input</span></span> button to make the variable an
      input variable. Now the variable is in the <span class="underline"><span 
class="ptmb7t-x-x-120">Selected Input Variables</span></span> section, and its meta-data may
      be edited (Figure <a 
href="#x1-127015r185">185<!--tex4ht:ref: fig.sinter.excel.variableinputs --></a>). <hr class="figure"><div class="figure" 
><a 
 id="x1-127015r185"></a>
<div class="center" 
>
<!--l. 91--><p class="noindent" >
<!--l. 92--><p class="noindent" ><img 
src="Chapt_sinter/figs/Excel/08_VariablesInput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;185: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Description &#8220;Joe&#8217;s Height&#8221;</span></div><!--tex4ht:label?: x1-127015r185 -->
</div>
      <!--l. 96--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Enter an output variable (such as, &#8220;BMI<span 
class="ptmr8c-x-x-120">$</span>C<span 
class="ptmr8c-x-x-120">$</span>3&#8221;), by selecting the variables in the <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span>,
      clicking <span class="underline"><span 
class="ptmb7t-x-x-120">Preview</span></span>, and then clicking <span class="underline"><span 
class="ptmb7t-x-x-120">Make Output</span></span> (Figure <a 
href="#x1-127017r186">186<!--tex4ht:ref: fig.sinter.excel.variableoutput --></a>).
      <!--l. 100--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-127017r186"></a>
<div class="center" 
>
<!--l. 101--><p class="noindent" >
<!--l. 102--><p class="noindent" ><img 
src="Chapt_sinter/figs/Excel/09_VariablesOutput.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;186: </span><span  
class="content">SinterConfigGUI Variable Configuration Page Selecting Excel Output Variables</span></div><!--tex4ht:label?: x1-127017r186 -->
</div>
      <!--l. 106--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">The simulation is now set up. To save the configuration file, click <span class="underline"><span 
class="ptmb7t-x-x-120">Finish</span></span> or press CTRL+S. The file
      is saved to the location that was set on the SinterConfigGUI Simulation Meta-Data window. A user
      can save a copy under a different name, by navigating back to the SinterConfigGUI Simulation
      Meta-Data window using <span class="underline"><span 
class="ptmb7t-x-x-120">Back</span></span>, and then changing the name. This creates a second version of the
      file.
      </dd></dl>
<a 
 id="x1-127019r314"></a>
<h3 class="sectionHead"><span class="titlemark">9.5.    </span> <a 
 id="x1-1280005"></a>gPROMS Configuration</h3>
<!--l. 4--><p class="noindent" >gPROMS is significantly different from the other simulators SimSinter supports, and the workflow is also
significantly different. If you plan to use gPROMS simulations with FOQUS, the CCSI team strongly
encourages you to read the &#8220;SimSinter gPROMS Technical Manual,&#8221; which is included in the FOQUS
                                                                                         
                                                                                         
distribution. The default location is at C:<span 
class="cmsy-10x-x-120">\</span>Program Files (x86)<span 
class="cmsy-10x-x-120">\</span>foqus <span 
class="cmsy-10x-x-120">\</span>foqus <span 
class="cmsy-10x-x-120">\</span>doc. It is also available on
the CCSI website.
<!--l. 12--><p class="noindent" >Unlike Aspen, changes must be made to the gPROMS simulation process in order to work with
SimSinter. Therefore, this section consists of a series of tutorials for every step of configuring
gPROMS and SimSinter to work together. All the tutorials are required in order to have a
gPROMS simulation be runnable with SimSinter. They are divided up to make later reference
easier.
<a 
 id="x1-128001r278"></a>
<h4 class="subsectionHead"><span class="titlemark">9.5.1.    </span> <a 
 id="x1-1290001"></a>Configuring gPROMS to Work with SimSinter</h4>
<!--l. 21--><p class="noindent" >Unlike Aspen, changes have to be made to the gPROMS simulation process in order to work with
SimSinter. In fact, SimSinter does not define the inputs to the simulation, gPROMS does. On the other
hand, gPROMS does not determine the outputs, SimSinter does. This odd and counter-intuitive situation is
the result of how gPROMS gO:Run_XML is designed.
<!--l. 23--><p class="noindent" >The modification to the gPROMS simulation must be done by a developer with an intimate understanding
of the simulation, usually the simulation writer. In some cases additional variables may need to be added
to handle an extra step between taking the input and inserting it into the variable where gPROMS will use
the data.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Open the gPROMS simulation file (ends in .gPJ) in ModelBuilder 4.0 or newer. For this
      example, use the gPROMS install test file &#8220;BufferTank_FO.gPJ&#8221;, found in:
      <!--l. 31--><p class="noindent" >C:<span 
class="cmsy-10x-x-120">\</span>SimSinterFiles<span 
class="cmsy-10x-x-120">\</span>gPROMS_Test<span 
class="cmsy-10x-x-120">\</span>BufferTank_FO.gPJ
      <!--l. 35--><p class="noindent" >Double-click on the .gPJ file to open ModelBuilder, as shown in Figure <a 
href="#x1-129002r187">187<!--tex4ht:ref: fig.sinter.gproms.openbuffertank --></a>. <hr class="figure"><div class="figure" 
><a 
 id="x1-129002r187"></a>
<div class="center" 
>
<!--l. 37--><p class="noindent" >
<!--l. 38--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/01_OpenBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;187: </span><span  
class="content">Opening BufferTank in gPROMS Model Builder</span></div><!--tex4ht:label?: x1-129002r187 -->
</div>
      <!--l. 42--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">This simulation was originally a simple BufferTank simulation. However, it was modified into an
      example of all the different kinds of variables the user can pass into gPROMS via SimSinter.
      Therefore, it has a lot of extra variables that do not really do anything, with very generic names, like
      &#8220;SingleInt.&#8221; The simulation consists of a single model, &#8220;BufferTank&#8221;, that contains all the
      simulation logic, and most of the parameter and variable declarations. The SimSinter simulation
      will change some of these PARAMETERS and VARIABLES to change the output of the
      simulation.
      <!--l. 48--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129004r188"></a>
<div class="center" 
>
                                                                                         
                                                                                         
<!--l. 49--><p class="noindent" >
<!--l. 50--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/02_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;188: </span><span  
class="content">Viewing BufferTank in gPROMS Model Builder</span></div><!--tex4ht:label?: x1-129004r188 -->
</div>
      <!--l. 54--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The example file contains two Processes. SimSinter can only run gPROMS Processes, so any
      gPROMS simulation must be driven from a Process. &#8220;SimulateTank&#8221; is the original
      BufferTank example with hardcoded values, &#8220;SimulateTank_Sinter&#8221; contains the example of
      setting values with Sinter. The &#8220;SimulateTank_Sinter&#8221; example will be recreated in this
      tutorial.
      <!--l. 59--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129006r189"></a>
<div class="center" 
>
<!--l. 60--><p class="noindent" >
<!--l. 61--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/03_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;189: </span><span  
class="content">Viewing SimulateTank in gPROMS Model Builder</span></div><!--tex4ht:label?: x1-129006r189 -->
</div>
      <!--l. 65--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">First copy the existing hard-coded Process &#8220;SimulateTank&#8221;.
      <!--l. 70--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129008r190"></a>
<div class="center" 
>
<!--l. 71--><p class="noindent" >
<!--l. 72--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/04_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;190: </span><span  
class="content">Copying SimulateTank</span></div><!--tex4ht:label?: x1-129008r190 -->
</div>
      <!--l. 76--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">Right-click on Processes and select <span class="underline"><span 
class="ptmb7t-x-x-120">Paste</span></span> to make a new process.
      <!--l. 80--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129010r191"></a>
<div class="center" 
>
<!--l. 81--><p class="noindent" >
<!--l. 82--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/05_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;191: </span><span  
class="content">Paste SimulateTank</span></div><!--tex4ht:label?: x1-129010r191 -->
</div>
                                                                                         
                                                                                         
      <!--l. 86--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">The new process will be named &#8220;SimulateTank_1&#8221;. Rename the process by right-clicking on it and
      selecting <span class="underline"><span 
class="ptmb7t-x-x-120">Rename</span></span>.
      <!--l. 90--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129012r192"></a>
<div class="center" 
>
<!--l. 91--><p class="noindent" >
<!--l. 92--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/06_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;192: </span><span  
class="content">Rename SimulateTank</span></div><!--tex4ht:label?: x1-129012r192 -->
</div>
      <!--l. 96--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">Now open up the new &#8220;SimulateTank_tutorial&#8221; Process. It has the same hard-coded values as
      &#8220;SimulateTank&#8221;.
      <!--l. 100--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129014r193"></a>
<div class="center" 
>
<!--l. 101--><p class="noindent" >
<!--l. 102--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/07_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;193: </span><span  
class="content">Opening SimulateTank_tutorial</span></div><!--tex4ht:label?: x1-129014r193 -->
</div>
      <!--l. 106--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">First, the user needs to add a FOREIGN_OBJECT named &#8220;FO&#8221; in the PARAMETER section. Then
      the user needs to set that FOREIGN_OBJECT to &#8220;SimpleEventFOI::dummy&#8221; in the SET section.
      This FOREIGN_OBJECT is how inputs are received from SimSinter.
      <!--l. 113--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129016r194"></a>
<div class="center" 
>
<!--l. 114--><p class="noindent" >
<!--l. 115--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/08_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;194: </span><span  
class="content">Adding the FOREIGN_OBJECT</span></div><!--tex4ht:label?: x1-129016r194 -->
</div>
      <!--l. 119--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">This particular simulation has a large number of input variables that simply demonstrate how to set
      different types. These are named based on their type. Any variable named similarly to
      &#8220;SingleInt&#8221; or &#8220;ArraySelector&#8221; can be safely ignored for this tutorial. For a full list of the
      methods for setting different types see the later section specifically for covering that. Any
                                                                                         
                                                                                         
      variable in the simulation can be an input, whether it is defined in the Process or one of
      the models referenced by the process, or in a model referenced by a model, etc. All
      inputs take their values from the FOREIGN_OBJECT defined, followed by the type
      name, two underscores, the input variable name, an open parenthesis, an optional index
      variable (for arrays), and closed with a close parenthesis and a semicolon. For a scalar:
      <!--l. 127-->
      <div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-129018r1"></a></span>FO.<span 
class="cmmi-12">&#x003C;</span>Type<span 
class="cmmi-12">&#x003E;</span>__<span 
class="cmmi-12">&#x003C;</span>InputName<span 
class="cmmi-12">&#x003E;</span>();
      
      </div>
      <!--l. 131--><p class="noindent" >SimSinter can only handle arrays inputted in FOR loops such as:
      <!--l. 133-->
      <div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-129019r1"></a></span>FOR&#x00A0;ii&#x00A0;:=&#x00A0;1&#x00A0;TO&#x00A0;<span 
class="cmmi-12">&#x003C;</span>array&#x00A0;size<span 
class="cmmi-12">&#x003E;</span>&#x00A0;DO&#x00A0;<br /><span class="label"><a 
 id="x1-129020r2"></a></span>&#x00A0;&#x00A0;<span 
class="cmmi-12">&#x003C;</span>ArrayName<span 
class="cmmi-12">&#x003E;</span>(ii)&#x00A0;:=&#x00A0;FO.<span 
class="cmmi-12">&#x003C;</span>Type<span 
class="cmmi-12">&#x003E;</span>1__<span 
class="cmmi-12">&#x003C;</span>InputName<span 
class="cmmi-12">&#x003E;</span>(ii);&#x00A0;<br /><span class="label"><a 
 id="x1-129021r3"></a></span>END
      
      </div>
      <!--l. 139--><p class="noindent" >For this example the user only really needs to set &#8220;T101.Alpha&#8221; in PARAMETER, &#8220;T101.FlowIn&#8221;
      in ASSIGN, and &#8220;T101.Height&#8221; in INITIAL.
      <!--l. 142--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129022r195"></a>
<div class="center" 
>
<!--l. 143--><p class="noindent" >
<!--l. 144--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/09_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;195: </span><span  
class="content">Setting up Input Variables</span></div><!--tex4ht:label?: x1-129022r195 -->
</div>
      <!--l. 148--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">Now test &#8220;SimulateTank_tutorial&#8221; by selecting it and clicking the green <span class="underline"><span 
class="ptmb7t-x-x-120">Simulate</span></span> triangle. When
      the simulation runs it will ask for every input variable the user has defined. For the example
      variables that do not effect the simulation, such as &#8220;SingleInt&#8221;, any valid value will work. For the
      values that do effect the simulation, these values work:
      <!--l. 155-->
      <div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-129024r1"></a></span>REAL__AlphaFO&#x00A0;=&#x00A0;.08&#x00A0;<br /><span class="label"><a 
 id="x1-129025r2"></a></span>REAL__FlowInFO&#x00A0;=&#x00A0;14&#x00A0;<br /><span class="label"><a 
 id="x1-129026r3"></a></span>REAL__HeightFO&#x00A0;=&#x00A0;7.5
      
      </div>
      <!--l. 162--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-129027r196"></a>
<div class="center" 
>
<!--l. 163--><p class="noindent" >
<!--l. 164--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/10_EditBufferTank.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;196: </span><span  
class="content">Testing SimulateTank_Tutorial</span></div><!--tex4ht:label?: x1-129027r196 -->
</div>
                                                                                         
                                                                                         
      <!--l. 168--><p class="noindent" ></div><hr class="endfigure">
      </dd></dl>
<a 
 id="x1-129028r323"></a>
<h4 class="subsectionHead"><span class="titlemark">9.5.2.    </span> <a 
 id="x1-1300002"></a>Exporting an Encrypted Simulation to Run with SimSinter</h4>
<!--l. 174--><p class="noindent" >SimSinter can only run encrypted gPROMS simulations. These files have the .gENCRYPT extension. If
the additions to the simulation for reading input variables ran correctly in the previous section, the user is
ready to export that process for use by SimSinter.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">Right-click on the Process to export (&#8220;SimulateTank_tutorial&#8221;) and select <span class="underline"><span 
class="ptmb7t-x-x-120">Export</span></span>.
      <!--l. 180--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-130002r197"></a>
<div class="center" 
>
<!--l. 181--><p class="noindent" >
<!--l. 182--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/11_Export.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;197: </span><span  
class="content">Select &#8220;Export&#8221;</span></div><!--tex4ht:label?: x1-130002r197 -->
</div>
      <!--l. 186--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">In the resulting Export window, select <span class="underline"><span 
class="ptmb7t-x-x-120">Encrypted input file for simulation by gO:RUN</span></span> and click
      <span class="underline"><span 
class="ptmb7t-x-x-120">OK</span></span>.
      <!--l. 190--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-130004r198"></a>
<div class="center" 
>
<!--l. 191--><p class="noindent" >
<!--l. 192--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/12_Export.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;198: </span><span  
class="content">Select &#8220;Encrypted Input File&#8221;</span></div><!--tex4ht:label?: x1-130004r198 -->
</div>
      <!--l. 196--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">On the second page, set the <span class="underline"><span 
class="ptmb7t-x-x-120">Export directory</span></span> to a directory the user can find. Preferably one
      without any other files in it so the user will not be confused by the output. If the filename or the
      <span class="underline"><span 
class="ptmb7t-x-x-120">Encryption password</span></span> are not changed, SimSinter will be able to guess the password. If either of
      those values are changed, the user will have to set the correct password in the SinterConfigGUI
      password setting. A Decryption password is probably unnecessary, as the user has the original file.
      SimSinter does not use it. When the user has finished setting up these fields, click <span class="underline"><span 
class="ptmb7t-x-x-120">Export</span>
      <span 
class="ptmb7t-x-x-120">Entity</span></span>.
      <!--l. 203--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-130006r199"></a>
<div class="center" 
>
                                                                                         
                                                                                         
<!--l. 204--><p class="noindent" >
<!--l. 205--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/13_Export.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;199: </span><span  
class="content">Export Entity Page</span></div><!--tex4ht:label?: x1-130006r199 -->
</div>
      <!--l. 209--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">The resulting .gENCRYPT file will be saved to a subdirectory named &#8220;Input&#8221; in the save directory
      specified in Step 3. The first part of the name will be identical to the .gPJ filename. The user should
      not rename it because the SinterConfig file will guess this name, and currently changing it requires
      editing the SinterConfig file.
      </dd></dl>
<a 
 id="x1-130008r334"></a>
<h4 class="subsectionHead"><span class="titlemark">9.5.3.    </span> <a 
 id="x1-1310003"></a>Configuring SimSinter to Work with gPROMS</h4>
<!--l. 217--><p class="noindent" >Now that the gPROMS process has been prepared, the SimSinter configuration can be done.
      <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
   1. </dt><dd 
class="enumerate-enumitem">The &#8220;SinterConfigGUI&#8221; can be launched from FOQUS, via the <span class="underline"><span 
class="ptmb7t-x-x-120">Create/Edit</span></span> button found
      in <span class="underline"><span 
class="ptmb7t-x-x-120">File</span></span><span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">Add/Update Model to Turbine</span></span> or &#8220;SinterConfigGUI&#8221; may be run on its own by
      selecting <span class="underline"><span 
class="ptmb7t-x-x-120">CCSI Tools</span></span> <span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">FOQUS</span></span> <span 
class="cmsy-10x-x-120">&#x2192;</span><span class="underline"><span 
class="ptmb7t-x-x-120">SinterConfigGUI</span></span> from the Start menu.
      </dd><dt class="enumerate-enumitem">
   2. </dt><dd 
class="enumerate-enumitem">The splash window displays, as shown in Figure <a 
href="#x1-131003r200">200<!--tex4ht:ref: fig.sinter.gproms.splash --></a>. The user may click the splash screen to
      proceed, or wait 10 seconds for it to close automatically. <hr class="figure"><div class="figure" 
><a 
 id="x1-131003r200"></a>
<div class="center" 
>
<!--l. 231--><p class="noindent" >
<!--l. 232--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/01_Splash_Screen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;200: </span><span  
class="content">SinterConfigGUI Splash Screen</span></div><!--tex4ht:label?: x1-131003r200 -->
</div>
      <!--l. 236--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   3. </dt><dd 
class="enumerate-enumitem">The SinterConfigGUI Open Simulation window displays (Figure <a 
href="#x1-131005r201">201<!--tex4ht:ref: fig.sinter.gproms.openpage --></a>). If &#8220;SinterConfigGUI&#8221; was
      opened from FOQUS, the filename text box already contains the correct file. To proceed
      immediately click <span class="underline"><span 
class="ptmb7t-x-x-120">Open File and Configure Variables</span></span> or click <span class="underline"><span 
class="ptmb7t-x-x-120">Browse</span></span> to search for the
      file.
      <!--l. 241--><p class="noindent" >This tutorial will use the .gPJ file edited in Section <a 
href="#x1-1290001">9.5.1<!--tex4ht:ref: gPROMSConfigSubSection --></a>. Remember that SinterConfigGUI cannot
      read the .gENCRYPT file that is actually run by SimSinter. Instead, the user must open the .gPJ file
      the ModelBuilder uses.
      <!--l. 243--><p class="noindent" >Once the file is selected, click <span class="underline"><span 
class="ptmb7t-x-x-120">Open File and Configure Variables.</span></span>
      <!--l. 245--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131005r201"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 246--><p class="noindent" >
<!--l. 247--><p class="noindent" ><img 
src="Chapt_sinter/figs/ap/02_FileOpenScreen.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;201: </span><span  
class="content">SinterConfigGUI Open Simulation Screen</span></div><!--tex4ht:label?: x1-131005r201 -->
</div>
      <!--l. 251--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   4. </dt><dd 
class="enumerate-enumitem">The SinterConfigGUI Simulation Meta-Data window displays as shown in (Figure <a 
href="#x1-131008r202">202<!--tex4ht:ref: fig.sinter.gproms.savename --></a>). Unlike the
      other simulations, gPROMS has not started up in any way. SinterConfigGUI does not get
      information from gPROMS directly, it must parse the .gPJ file instead.
      </dd><dt class="enumerate-enumitem">
   5. </dt><dd 
class="enumerate-enumitem">The first and most important piece of meta-data is the <span class="underline"><span 
class="ptmb7t-x-x-120">SimSinter Save Location</span></span> at the top of the
      window. This is where the Sinter configuration file is saved. The system suggests a file location and
      name. The user should confirm this is the intended location of the files to not accidently overwrite
      other files. Enter the remaining fields to provide the meta-data to describe the simulation that was
      just opened and then click <span class="underline"><span 
class="ptmb7t-x-x-120">Next</span></span>.
      <!--l. 260--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131008r202"></a>
<div class="center" 
>
<!--l. 261--><p class="noindent" >
<!--l. 262--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/17_MetaDataPage.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;202: </span><span  
class="content">SinterConfigGUI Simulation Meta-Data Save Text Box</span></div><!--tex4ht:label?: x1-131008r202 -->
</div>
      <!--l. 266--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   6. </dt><dd 
class="enumerate-enumitem">The SinterConfigGUI Variable Configuration Page window displays as shown in Figure <a 
href="#x1-131010r203">203<!--tex4ht:ref: fig.sinter.gproms.settings --></a>.
      gPROMS has two settings, <span class="underline"><span 
class="ptmb7t-x-x-120">ProcessName</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">password</span></span>. SimSinter has guessed at both the
      <span class="underline"><span 
class="ptmb7t-x-x-120">ProcessName</span></span> and the <span class="underline"><span 
class="ptmb7t-x-x-120">password</span></span>. For this example the <span class="underline"><span 
class="ptmb7t-x-x-120">password</span></span> is correct, but the <span class="underline"><span 
class="ptmb7t-x-x-120">ProcessName</span></span> is
      incorrect. SimulateTank is the process that isn&#8217;t configured to work with SimSinter. On the left side
      we can see the <span class="underline"><span 
class="ptmb7t-x-x-120">Variable Tree</span></span>. The root is connected to the three processes defined in this .gPJ file.
      First, change the <span class="underline"><span 
class="ptmb7t-x-x-120">ProcessName</span></span> to &#8220;SimulateTank_tutorial&#8221;.
      <!--l. 274--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131010r203"></a>
<div class="center" 
>
<!--l. 275--><p class="noindent" >
<!--l. 276--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/18_Settings.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;203: </span><span  
class="content">SinterConfigGUI gPROMS Settings Configuration</span></div><!--tex4ht:label?: x1-131010r203 -->
</div>
      <!--l. 280--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
      </dd><dt class="enumerate-enumitem">
   7. </dt><dd 
class="enumerate-enumitem">After changing the <span class="underline"><span 
class="ptmb7t-x-x-120">ProcessName</span></span>, click Enter (or clicks away). The <span class="underline"><span 
class="ptmb7t-x-x-120">Selected Input Variables</span></span> will
      automatically display all of the available input variables. This is because the input variables have
      been configured in gPROMS, and SimSinter has parsed them out of the .gPJ file, as long as you
      have the <span class="underline"><span 
class="ptmb7t-x-x-120">ProcessName</span></span> set correctly. This also means that the user cannot add new input variables in
      SinterConfigGUI, only in gPROMS. SimSinter also does its best to identify the <span class="underline"><span 
class="ptmb7t-x-x-120">Default</span></span> values,
      <span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span>, and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> of the variables. The default can only be calculated from the file if it was defined
      purely in terms of actual numbers. SimSinter cannot evaluate other variables or functions.
      Therefore, <!--l. 288-->
      <div class="lstlisting" id="listing-4"><span class="label"><a 
 id="x1-131012r1"></a></span>DEFAULT&#x00A0;2&#x00A0;<span 
class="ptmr8c-x-x-120">*</span>&#x00A0;3.1415&#x00A0;<span 
class="ptmr8c-x-x-120">*</span>&#x00A0;12
      
      </div>
      <!--l. 292--><p class="noindent" >will work. However, <!--l. 293-->
      <div class="lstlisting" id="listing-5"><span class="label"><a 
 id="x1-131013r1"></a></span>DEFAULT&#x00A0;2&#x00A0;<span 
class="ptmr8c-x-x-120">*</span>&#x00A0;PI&#x00A0;<span 
class="ptmr8c-x-x-120">*</span>&#x00A0;radius
      
      </div>
      <!--l. 297--><p class="noindent" >will not work, because SimSinter does not know the value of either PI or radius, and SimSinter will
      just set the default to 0.
      <!--l. 300--><p class="noindent" ><span class="underline"><span 
class="ptmb7t-x-x-120">Min</span></span> and <span class="underline"><span 
class="ptmb7t-x-x-120">Max</span></span> values are taken from the variable type, if there is one.
      <!--l. 302--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131014r204"></a>
<div class="center" 
>
<!--l. 303--><p class="noindent" >
<!--l. 304--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/19_InputVariables.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;204: </span><span  
class="content">SinterConfigGUI Automatically Displays Input Variables</span></div><!--tex4ht:label?: x1-131014r204 -->
</div>
      <!--l. 308--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   8. </dt><dd 
class="enumerate-enumitem">Now the output values can be entered. Expand the &#8220;SimulateTank_tutorial&#8221; Process on the
      Variable Tree, expand the &#8220;T101&#8221; model, and then double-click on &#8220;FlowOut&#8221; to make it
      the Preview Variable. Notice that the <span class="underline"><span 
class="ptmb7t-x-x-120">Make Input</span></span> button is disabled. As stated above,
      the user cannot make new Input Variables in SinterConfigGUI. Only <span class="underline"><span 
class="ptmb7t-x-x-120">Make Output</span></span> is
      allowed.
      <!--l. 313--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131016r205"></a>
<div class="center" 
>
<!--l. 314--><p class="noindent" >
<!--l. 315--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/20_OutputVariables.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;205: </span><span  
class="content">Preview of the FlowOut Variable</span></div><!--tex4ht:label?: x1-131016r205 -->
</div>
                                                                                         
                                                                                         
      <!--l. 319--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
   9. </dt><dd 
class="enumerate-enumitem">If <span class="underline"><span 
class="ptmb7t-x-x-120">Make Output</span></span> is clicked, &#8220;FlowOut&#8221; will be made an Output Variable as shown in Figure <a 
href="#x1-131018r206">206<!--tex4ht:ref: fig.sinter.gproms.outputs2 --></a>.
      The Description can be updated, but SimSinter made a good guess in this example; therefore, there
      is no need to change the description.
      <!--l. 325--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131018r206"></a>
<div class="center" 
>
<!--l. 326--><p class="noindent" >
<!--l. 327--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/21_OutputVariables.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;206: </span><span  
class="content">FlowOut as an Input Variable</span></div><!--tex4ht:label?: x1-131018r206 -->
</div>
      <!--l. 331--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  10. </dt><dd 
class="enumerate-enumitem">By the same method, make Output Variables &#8220;HoldUp&#8221; and &#8220;Height.&#8221;
      <!--l. 335--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131020r207"></a>
<div class="center" 
>
<!--l. 336--><p class="noindent" >
<!--l. 337--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/22_OutputVariables.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;207: </span><span  
class="content">HoldUp and Height Output Variables</span></div><!--tex4ht:label?: x1-131020r207 -->
</div>
      <!--l. 341--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  11. </dt><dd 
class="enumerate-enumitem">The variables names should be made shorter. Simply click on the <span class="underline"><span 
class="ptmb7t-x-x-120">Name</span></span> column and change the
      name to your preferred name.
      <!--l. 345--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131022r208"></a>
<div class="center" 
>
<!--l. 346--><p class="noindent" >
<!--l. 347--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/23_OutputVariables.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;208: </span><span  
class="content">Editing Variable Names</span></div><!--tex4ht:label?: x1-131022r208 -->
</div>
      <!--l. 351--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  12. </dt><dd 
class="enumerate-enumitem">For future testing, make sure the defaults are good values. The only three input variables that matter
      have the following defaults:
      <!--l. 355-->
      <div class="lstlisting" id="listing-6"><span class="label"><a 
 id="x1-131024r1"></a></span>AlphaFO&#x00A0;&#x00A0;=&#x00A0;0.8&#x00A0;<br /><span class="label"><a 
 id="x1-131025r2"></a></span>FlowInFO&#x00A0;=&#x00A0;14&#x00A0;<br /><span class="label"><a 
 id="x1-131026r3"></a></span>HeightFO&#x00A0;=&#x00A0;7.5
      
                                                                                         
                                                                                         
      </div>
      <!--l. 362--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131027r209"></a>
<div class="center" 
>
<!--l. 363--><p class="noindent" >
<!--l. 364--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/24_Defaults.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;209: </span><span  
class="content">Editing Defaults</span></div><!--tex4ht:label?: x1-131027r209 -->
</div>
      <!--l. 368--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  13. </dt><dd 
class="enumerate-enumitem">When finished making output variables, click <span class="underline"><span 
class="ptmb7t-x-x-120">Next</span></span> at the bottom of the variables page. If there were
      any input vectors, the Vector Default Initialization page will display. Here the default values of the
      vectors may be edited.
      <!--l. 373--><p class="noindent" ><hr class="figure"><div class="figure" 
><a 
 id="x1-131029r210"></a>
<div class="center" 
>
<!--l. 374--><p class="noindent" >
<!--l. 375--><p class="noindent" ><img 
src="Chapt_sinter/figs/gPROMS/25_Vectorss.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;210: </span><span  
class="content">Editing Vectors</span></div><!--tex4ht:label?: x1-131029r210 -->
</div>
      <!--l. 379--><p class="noindent" ></div><hr class="endfigure">
      </dd><dt class="enumerate-enumitem">
  14. </dt><dd 
class="enumerate-enumitem">Finally, click <span class="underline"><span 
class="ptmb7t-x-x-120">Finish</span></span> and save your configuration file. Your gPROMS simulation should now be
      runnable from FOQUS.
      </dd></dl>
<a 
 id="x1-131031r322"></a>
<h3 class="sectionHead"><span class="titlemark">9.6.    </span> <a 
 id="x1-1320006"></a>DMF Integration</h3>
<!--l. 4--><p class="noindent" >To provide a smoother workflow within the CCSI toolset, SimSinter is integrated with the Data
Management Framework (DMF). When the DMF is setup, SimSinter provides the option to upload
simulations directly to the DMF (see Figure&#x00A0;<a 
href="#x1-132001r211">211<!--tex4ht:ref: fig.sinter.dmf.upload --></a>). For more information on how to setup the DMF, please
refer to section&#x00A0;<span 
class="ptmb7t-x-x-120">??</span>.
<!--l. 11--><p class="noindent" ><hr class="figure"><div class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x1-132001r211"></a>
                                                                                         
                                                                                         
<div class="center" 
>
<!--l. 12--><p class="noindent" >
<!--l. 13--><p class="noindent" ><img 
src="Chapt_sinter/figs/dmf/dmf_upload.png" alt="pict"  
>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;211:  </span><span  
class="content">DMF  Upload  button  allows  simulations  to  be  uploaded  directly  to  the  Data
Management Framework</span></div><!--tex4ht:label?: x1-132001r211 -->
</div>
                                                                                         
                                                                                         
<!--l. 18--><p class="noindent" ></div><hr class="endfigure">
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;10</span><br /><a 
 id="x1-13300010"></a>Debugging</h2>
<!--l. 3--><p class="noindent" >This chapter contains information that may be helpful in resolving a problem or filing a bug
report.
<a 
 id="x1-133001r350"></a>
<h3 class="sectionHead"><span class="titlemark">10.1.    </span> <a 
 id="x1-1340001"></a>How to Debug</h3>
<!--l. 6--><p class="noindent" >Log files may contain very useful information when reporting problems. The log files are contained in the
logs sub-directory of the FOQUS working directory. To change the log message levels in FOQUS go to
the FOQUS <span class="underline"><span 
class="ptmb7t-x-x-120">Settings</span></span> button from the Home window. From there various log settings can be changed. The
debugging log level provides the highest level of information.
<!--l. 8--><p class="noindent" >Almost any error that occurs in FOQUS should be logged. Occasionally, an error may occur that
is difficult to find, or causes FOQUS to crash before logging it. In that case the &#8220;FOQUS
Console&#8221; application can be used. All output from FOQUS, including messages that cannot be
seen otherwise will be shown in a &#8220;cmd&#8221; window which will remain open even after FOQUS
closes.
<!--l. 10--><p class="noindent" >When running heat integration, the debugging information can be found in <br 
class="newline" /><span 
class="cmsy-10x-x-120">\</span>gams<span 
class="cmsy-10x-x-120">\</span>HeatIntegration.lst. This file includes detailed results and errors returned by GAMS.
<!--l. 13--><p class="noindent" >Most UQ routines interact with PSUADE via Python wrappers. When PSUADE is running, the stdout is
written to psuadelog in the working directory. (At present, only some PSUADE commands write to this
log; however, this will be standardized in the near future so that all PSUADE commands write to this log.)
Other errors that are due to the Python wrappers or PySide GUI components are written to the logs
subdirectory in the working directory.
<a 
 id="x1-134001r353"></a>
<h3 class="sectionHead"><span class="titlemark">10.2.    </span> <a 
 id="x1-1350002"></a>Known Issues</h3>
<!--l. 16--><p class="noindent" >The following are known unresolved issues:
      <ul class="itemize1">
      <li class="itemize">The FOQUS flowsheet can be edited while a flowsheet evaluation, optimization, or UQ is
      running. This should not be allowed, and may cause problems.
      </li>
      <li class="itemize">With the windows installer, FOQUS may produce output to standard error, especially if it
      immediately fails to launch. Output is usually caught and redirected to the FOQUS log and
      displayed in dialog boxes within FOQUS, but rare instances may occur where error messages
      are not caught. Output to standard error is logged in the directory with foqus.exe in the file
      foqus.exe.log. The user does not typically have permission to write to the FOQUS install
      location, so an error message such as &#8220;Cannot write to foqus.exe.log&#8221; will be displayed.
      If  this  occurs  there  are  two  solutions  (1)  change  the  permissions  for  the  FOQUS  install
      directory or (2) run &#8220;FOQUS Console&#8221; application, which will direct FOQUS output to the
      &#8220;cmd&#8221; window.
      </li>
                                                                                         
                                                                                         
      <li class="itemize">The win32com module generates Python code, which it needs to run. This code is generated
      in the FOQUS install location &#8220;<span 
class="cmsy-10x-x-120">\</span>dist<span 
class="cmsy-10x-x-120">\</span>win32com<span 
class="cmsy-10x-x-120">\</span>gen_py.&#8221;  In some cases there may be a
      problem writing to that directory due to permission settings. This will prevent FOQUS from
      running simulations locally. If this error is encountered the solution is to make the &#8220;gen_py&#8221;
      directory user writable. So far, in testing, this error seems to occur in Windows 8 and 10, but
      not 7.
      </li>
      <li class="itemize">The user regression analysis features, iREVEAL and ALAMO, of the UQ tool requires a
      separate Python 2.7 installation. Furthermore, Python must be both in PATH variable and
      associated with .py files. Details on installing Python and fixing any issues encountered may
      be found in the iREVEAL Installation Guide and the iREVEAL User Manual, Known Issues
      section.
      </li>
      <li class="itemize">FOQUS has trouble getting files from Turbine and saving them to the DMF when dealing
      with files in Turbine involving directories.
      </li>
      <li class="itemize">The  default  port  for  TurbineLite  is  8080.  If  another  program  is  already  using  port  8000,
      there will be an error in FOQUS when connecting to TurbineLite. In the <span class="textul"><span 
class="ptmb7t-x-x-120">Turbine</span></span> Tab of
      the Settings window, there is a tool to change the TurbineLite port. If the TurbineLite port
      is changed the configuration file that FOQUS uses to connect to TurbineLite, must also be
      changed.</li></ul>
<a 
 id="x1-135001r354"></a>
<h3 class="sectionHead"><span class="titlemark">10.3.    </span> <a 
 id="x1-1360003"></a>Reporting Issues</h3>
<!--l. 33--><p class="noindent" >To report an issue, please send an email to:<br 
class="newline" /><span id="textcolor19"><span class="uline"><a 
href="mailto://ccsi-support@acceleratecarboncapture.org" >ccsi-support@acceleratecarboncapture.org</a></span></span>
<!--l. 36--><p class="noindent" >Please include detailed steps on how to reproduce the error, including screenshots and log
files.
                                                                                         
                                                                                         
                                                                                         
                                                                                         
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;11</span><br /><a 
 id="x1-13700011"></a>References</h2>
     <div class="thebibliography">
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XTong_2011"></a>[1] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>C.&#x00A0;Tong,  &#8220;PSUADE  User&#8217;s  Manual,  Version  1.2.0,&#8221;  Tech.  Rep.  LLNL-SM-407882,
     Lawrence Livermore National Laboratory, Livermore, CA 94551-0808, May 2011.
     </p>
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XCozad_2014"></a>[2] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>A.&#x00A0;Cozad, N.&#x00A0;V. Sahinidis, and D.&#x00A0;C. Miller, &#8220;Automatic Learning of Algebraic Models
     for Optimization,&#8221; <span 
class="ptmri7t-x-x-120">AIChE Journal</span>, vol.&#x00A0;60, pp.&#x00A0;2211&#8211;2227, 2014.
     </p>
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XStorlie_2011"></a>[3] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>C.&#x00A0;B.  Storlie,  H.&#x00A0;D.  Bondell,  B.&#x00A0;J.  Reich,  and  H.&#x00A0;H.  Zhang,  &#8220;Surface  estimation,
     variable selection, and the nonparametric oracle property,&#8221; <span 
class="ptmri7t-x-x-120">Statistica Sinica</span>, vol.&#x00A0;21, no.&#x00A0;2,
     pp.&#x00A0;679&#8211;705, 2011.
     </p>
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XStorlie_2013"></a>[4] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>C.&#x00A0;B. Storlie, B.&#x00A0;J. Reich, J.&#x00A0;C. Helton, L.&#x00A0;P. Swiler, and C.&#x00A0;J. Sallaberry, &#8220;Analysis
     of computationally demanding models with continuous and categorical inputs,&#8221; <span 
class="ptmri7t-x-x-120">Reliability</span>
     <span 
class="ptmri7t-x-x-120">Engineering &amp; System Safety</span>, vol.&#x00A0;113, pp.&#x00A0;30&#8211;41, 2013.
     </p>
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XReich_2009"></a>[5] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>B.&#x00A0;J. Reich, C.&#x00A0;B. Storlie, and H.&#x00A0;D. Bondell, &#8220;Variable selection in bayesian smoothing
     spline anova models: Application to deterministic computer codes,&#8221; <span 
class="ptmri7t-x-x-120">Technometrics</span>, vol.&#x00A0;51,
     no.&#x00A0;2, pp.&#x00A0;110&#8211;120, 2009.
     </p>
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XWegstein_1958"></a>[6] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>J.&#x00A0;H.  Wegstein,  &#8220;Accelerating  Convergence  of  Iterative  Processes,&#8221;  <span 
class="ptmri7t-x-x-120">j-CACM</span>,  vol.&#x00A0;1,
     no.&#x00A0;6, pp.&#x00A0;9&#8211;13, 1958.
     </p>
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XHansen_2006"></a>[7] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>N.&#x00A0;Hansen,   <span 
class="ptmri7t-x-x-120">Towards   a   New   Evolutionary   Computation.   Advances   in   Estimation</span>
     <span 
class="ptmri7t-x-x-120">of  Distribution  Algorithms</span>,  ch.&#x00A0;The  CMA  Evolution  Strategy:  A  Comparing  Review,
     pp.&#x00A0;75&#8211;102. Springer, 2006.
     </p>
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XJohnson_2015"></a>[8] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>S.&#x00A0;G.          Johnson,          &#8220;The          nlopt          nonlinear-optimization          package.&#8221;
     http://ab-initio.mit.edu/nlopt, May 2015.
     </p>
                                                                                         
                                                                                         
     <p class="bibitem" ><span class="biblabel">
 <a 
 id="XScipy_2015"></a>[9] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>E.&#x00A0;Jones,  T.&#x00A0;Oliphant,  P.&#x00A0;Peterson,  <span 
class="ptmri7t-x-x-120">et</span><span 
class="ptmri7t-x-x-120">&#x00A0;al.</span>,  &#8220;Scipy:  Open  source  scientific  tools  for
     python.&#8221; http://www.scipy.org/, May 2015.
     </p>
     <p class="bibitem" ><span class="biblabel">
<a 
 id="XBhat_2015"></a>[10] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>K.&#x00A0;Bhat, B.&#x00A0;Sherman, K.&#x00A0;Ajayi, B.&#x00A0;Ng, J.&#x00A0;Eslick, J.&#x00A0;Ou, and J.&#x00A0;Kress, &#8220;Solventfit: A
     calibration  tool  for  solvent-based  CO<sub><span 
class="cmr-8">2</span></sub>  capture  models,&#8221;  in  <span 
class="ptmri7t-x-x-120">2015  CCSI  Industry  Advisory</span>
     <span 
class="ptmri7t-x-x-120">Board (IAB) Program Review Meeting</span>, (Reston, VA), September 2015.
</p>
     </div>
 
</body></html> 

                                                                                         


